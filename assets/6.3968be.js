(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{gXRL:function(e,t,n){},zsIg:function(e,t,n){"use strict";n.r(t);n("gXRL");var r=n("8RZD"),a=function(e,t,n){var a=window.converter.makeHtml(e),o=Object(r.a)("#gui"),c=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=Object(r.a)(e);a.innerHTML='\n    <div class="editor-wrapper">\n      <div class="edit-area">\n          <textarea class="editor">'.concat(t,'</textarea>\n      </div>\n      <div class="preview-area"><div class="markdown-body">').concat(n,"</div></div>\n    </div> \n  "),a.classList.add("editor"),a.classList.add("on");var o=Object(r.a)("textarea.editor"),c=Object(r.a)(".preview-area");return o.focus(),{$editor:o,$preview:c}}("#gui",e,a),i=c.$editor,s=c.$preview;i.addEventListener("keydown",(function(e){var n=e.key,r=e.ctrlKey,a=r&&"c"===n;if(r&&"s"===n)return t(i.value),o.classList.remove("on"),void(o.innerHTML="");a&&(t(""),o.classList.remove("on"),o.innerHTML="")})),i.addEventListener("input",(function(e){s.innerHTML=window.converter.makeHtml(e.target.value)}))};function o(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(e){return void n(e)}i.done?t(s):Promise.resolve(s).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var c=e.apply(t,n);function i(e){o(c,r,a,i,s,"next",e)}function s(e){o(c,r,a,i,s,"throw",e)}i(void 0)}))}}var i="https://api.github.com/repos/zjhou/notes/contents/_posts",s=localStorage.getItem("ghtoken"),u=function(){var e=c(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.z.get("notes")){e.next=6;break}return e.next=4,Object(r.v)(i,"GET");case 4:t=e.sent,r.z.set("notes",t);case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),d=function(e,t,n){if(!s)return Promise.reject("please set PAT first!");var a="".concat(n||Object(r.B)(),"-").concat(e,".md"),o="".concat(i,"/").concat(a),c={message:"add note: ".concat(a),committer:{name:"zjhou",email:"z@zjh.im"},content:r.d.encode(t)};return Object(r.v)(o,"PUT",c,s)},v=function(){var e=c(regeneratorRuntime.mark((function e(t,n){var a,o,c,d,v,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s){e.next=2;break}return e.abrupt("return",Promise.reject("please set PAT first!"));case 2:return e.next=4,u();case 4:if(a=e.sent,o=a.filter((function(e){return e.name.includes(t)}))[0]){e.next=8;break}throw"无法找到笔记";case 8:return c=o.name,d=o.sha,v="".concat(i,"/").concat(c),f={message:"update note: ".concat(c),content:r.d.encode(n),sha:d,committer:{name:"zjhou",email:"z@zjh.im"}},e.abrupt("return",Object(r.v)(v,"PUT",f,s));case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();t.default={shortopts:"n:u",handler:function(e,t,n,r){var o=r.restParams,c=r.fromPipe;return new Promise((function(t,n){var r=e.n,i=e.u;r?a(i?c:"",(function(e){var a=i?"更新":"添加";(i?v:d)(r,e).then((function(){t("笔记".concat(a,"成功！"))})).catch(n)}),n):a(o||c,t,n)}))}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHpob3VqaWFoYW8vZWRpdG9yL2xpYi9lZGl0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B6aG91amlhaGFvL2VkaXRvci9saWIvZWRpdG9yL2d1aS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHpob3VqaWFoYW8vbm90ZWJvb2svbGliL25vdGVib29rLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AemhvdWppYWhhby9lZGl0b3IvbGliL2luZGV4LmpzIl0sIm5hbWVzIjpbImVkaXRvciIsInNvdXJjZSIsIm9uT2siLCJvbkVyciIsInNvdXJjZUhUTUwiLCJ3aW5kb3ciLCJjb252ZXJ0ZXIiLCJtYWtlSHRtbCIsIiRHVUkiLCIkIiwic2VsZWN0b3IiLCJpbm5lckhUTUwiLCJjbGFzc0xpc3QiLCJhZGQiLCIkZWRpdG9yIiwiJHByZXZpZXciLCJmb2N1cyIsImluaXRHdWkiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImtleSIsImN0cmxLZXkiLCJpc0V4aXQiLCJ2YWx1ZSIsInJlbW92ZSIsInRhcmdldCIsIlBPU1RTX1VSTCIsInRva2VuIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImxpc3ROb3RlcyIsIm5vdGVzIiwic3RvcmUiLCJnZXQiLCJyZXEiLCJzZXQiLCJhZGROb3RlIiwibm90ZU5hbWUiLCJub3RlQ29udGVudCIsImRhdGVTdHIiLCJQcm9taXNlIiwicmVqZWN0Iiwibm90ZUZpbGVOYW1lIiwidG9kYXkiLCJyZXFFbmRQb2ludCIsImNvbW1pdE9iaiIsIm1lc3NhZ2UiLCJjb21taXR0ZXIiLCJuYW1lIiwiZW1haWwiLCJjb250ZW50IiwiYmFzZTY0IiwiZW5jb2RlIiwidXBkYXRlTm90ZSIsInRhcmdldE5vdGUiLCJmaWx0ZXIiLCJpbmNsdWRlcyIsInNoYSIsInNob3J0b3B0cyIsImhhbmRsZXIiLCJwYXJhbU9iaiIsImNtZFNldCIsIiR0ZXJtaW5hbCIsInJlc3RQYXJhbXMiLCJmcm9tUGlwZSIsInJlc29sdmUiLCJmaWxlTmFtZSIsIm4iLCJpc1VwZGF0ZSIsInUiLCJhY3Rpb24iLCJ0aGVuIl0sIm1hcHBpbmdzIjoibUpBeUNlQSxFQXJDQSxTQUFDQyxFQUFRQyxFQUFNQyxHQUM1QixJQUFNQyxFQUFhQyxPQUFPQyxVQUFVQyxTQUFTTixHQUN2Q08sRUFBT0MsWUFBRSxRQUZ1QixFQ0R6QixTQUFVQyxHQUF3QyxJQUE5QlQsRUFBOEIsdURBQXJCLEdBQUlHLEVBQWlCLHVEQUFKLEdBQ3JESSxFQUFPQyxZQUFFQyxHQUNmRixFQUFLRyxVQUFMLGdIQUdtQ1YsRUFIbkMsaUdBSzJERyxFQUwzRCxpQ0FTQUksRUFBS0ksVUFBVUMsSUFBSSxVQUNuQkwsRUFBS0ksVUFBVUMsSUFBSSxNQUVuQixJQUFNQyxFQUFVTCxZQUFFLG1CQUNaTSxFQUFXTixZQUFFLGlCQUluQixPQUZBSyxFQUFRRSxRQUVELENBQ0xGLFVBQ0FDLFlEZEVFLENBQVEsT0FBUWhCLEVBQVFHLEdBRjFCVSxFQUpvQyxFQUlwQ0EsUUFDQUMsRUFMb0MsRUFLcENBLFNBZUZELEVBQVFJLGlCQUFpQixXQUFXLFNBQUNDLEdBQU0sSUFDbENDLEVBQWdCRCxFQUFoQkMsSUFBS0MsRUFBV0YsRUFBWEUsUUFFTkMsRUFBU0QsR0FBbUIsTUFBUkQsRUFDMUIsR0FGZUMsR0FBbUIsTUFBUkQsRUFJeEIsT0FqQkZsQixFQUFLWSxFQUFRUyxPQUNiZixFQUFLSSxVQUFVWSxPQUFPLFdBQ3RCaEIsRUFBS0csVUFBWSxJQWlCYlcsSUFiSnBCLEVBQUssSUFDTE0sRUFBS0ksVUFBVVksT0FBTyxNQUN0QmhCLEVBQUtHLFVBQVksT0FlbkJHLEVBQVFJLGlCQUFpQixTQUFTLFNBQUNDLEdBQ2pDSixFQUFTSixVQUFZTixPQUFPQyxVQUFVQyxTQUFTWSxFQUFFTSxPQUFPRixXLDRURW5DNUQsSUFBTUcsRUFBWSwyREFDWkMsRUFBUUMsYUFBYUMsUUFBUSxXQUU3QkMsRUFBUyw0Q0FBRyxzR0FDWkMsRUFBUUMsSUFBTUMsSUFBSSxTQUROLGdDQUdBQyxZQUFJUixFQUFXLE9BSGYsT0FHZEssRUFIYyxPQUlkQyxJQUFNRyxJQUFJLFFBQVNKLEdBSkwsZ0NBTVRBLEdBTlMsMkNBQUgscURBZVRLLEVBQVUsU0FBQ0MsRUFBVUMsRUFBYUMsR0FDdEMsSUFBS1osRUFDSCxPQUFPYSxRQUFRQyxPQUFPLHlCQUd4QixJQUFNQyxFQUFlLEdBQUgsT0FBTUgsR0FBV0ksY0FBakIsWUFBNEJOLEVBQTVCLE9BQ1pPLEVBQWMsR0FBSCxPQUFNbEIsRUFBTixZQUFtQmdCLEdBQzlCRyxFQUFZLENBQ2hCQyxRQUFTLGFBQUYsT0FBZUosR0FDdEJLLFVBQVcsQ0FBQ0MsS0FBTSxRQUFTQyxNQUFPLFlBQ2xDQyxRQUFTQyxJQUFPQyxPQUFPZCxJQUd6QixPQUFPSixZQUNMVSxFQUNBLE1BQ0FDLEVBQ0FsQixJQVNFMEIsRUFBVSw0Q0FBRyxXQUFPaEIsRUFBVUMsR0FBakIsbUdBQ1pYLEVBRFkseUNBRVJhLFFBQVFDLE9BQU8sMEJBRlAsdUJBS0dYLElBTEgsVUFLWEMsRUFMVyxPQU1YdUIsRUFBYXZCLEVBQU13QixRQUFPLFlBQzlCLE9BRDBDLEVBQVZQLEtBQ3BCUSxTQUFTbkIsTUFDcEIsR0FSYyxxQkFXVCxTQVhTLGNBYVZXLEVBQWFNLEVBQWJOLEtBQU1TLEVBQU9ILEVBQVBHLElBQ1BiLEVBZFcsVUFjTWxCLEVBZE4sWUFjbUJzQixHQUM5QkgsRUFBWSxDQUNoQkMsUUFBUyxnQkFBRixPQUFrQkUsR0FDekJFLFFBQVNDLElBQU9DLE9BQU9kLEdBQ3ZCbUIsTUFDQVYsVUFBVyxDQUFDQyxLQUFNLFFBQVNDLE1BQU8sYUFuQm5CLGtCQXNCVmYsWUFDTFUsRUFDQSxNQUNBQyxFQUNBbEIsSUExQmUsNENBQUgsd0RDM0NELFdBQ2IrQixVQUFXLE1BQ1hDLFFBRmEsU0FFTEMsRUFBVUMsRUFBUUMsRUFGYixHQUVnRCxJQUF2QkMsRUFBdUIsRUFBdkJBLFdBQVlDLEVBQVcsRUFBWEEsU0FvQmhELE9BbkJzQixJQUFJeEIsU0FBUSxTQUFDeUIsRUFBU3hCLEdBQVcsSUFDM0N5QixFQUF5Qk4sRUFBNUJPLEVBQWdCQyxFQUFZUixFQUFmUyxFQVloQkgsRUFDRmxFLEVBQU9vRSxFQUFXSixFQUFXLElBWmQsU0FBQ2QsR0FDaEIsSUFDTW9CLEVBQVNGLEVBQVcsS0FBTyxNQURqQkEsRUFBV2YsRUFBYWpCLEdBR2hDOEIsRUFBVWhCLEdBQ2ZxQixNQUFLLFdBQ0pOLEVBQVEsS0FBRCxPQUFNSyxFQUFOLFdBRlgsTUFJUzdCLEtBSWtDQSxHQUUzQ3pDLEVBQU8rRCxHQUFjQyxFQUFVQyxFQUFTeEIiLCJmaWxlIjoiNi4zOTY4YmUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5pbXBvcnQgaW5pdEd1aSBmcm9tICcuL2d1aS9pbmRleC5qcydcbmltcG9ydCB7JH0gZnJvbSAnQHpob3VqaWFoYW8vdXRpbHMnO1xuXG5jb25zdCBlZGl0b3IgPSAoc291cmNlLCBvbk9rLCBvbkVycikgPT4ge1xuICBjb25zdCBzb3VyY2VIVE1MID0gd2luZG93LmNvbnZlcnRlci5tYWtlSHRtbChzb3VyY2UpO1xuICBjb25zdCAkR1VJID0gJChcIiNndWlcIik7XG4gIGNvbnN0IHtcbiAgICAkZWRpdG9yLFxuICAgICRwcmV2aWV3XG4gIH0gPSBpbml0R3VpKCcjZ3VpJywgc291cmNlLCBzb3VyY2VIVE1MKTtcblxuICBjb25zdCBoYW5kbGVPayA9ICgpID0+IHtcbiAgICBvbk9rKCRlZGl0b3IudmFsdWUpO1xuICAgICRHVUkuY2xhc3NMaXN0LnJlbW92ZSgnb24nKTtcbiAgICAkR1VJLmlubmVySFRNTCA9ICcnO1xuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUNhbmNlbCA9ICgpID0+IHtcbiAgICBvbk9rKCcnKTtcbiAgICAkR1VJLmNsYXNzTGlzdC5yZW1vdmUoJ29uJyk7XG4gICAgJEdVSS5pbm5lckhUTUwgPSAnJztcbiAgfTtcblxuICAkZWRpdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xuICAgIGNvbnN0IHtrZXksIGN0cmxLZXl9ID0gZTtcbiAgICBjb25zdCBpc1NhdmUgPSBjdHJsS2V5ICYmIGtleSA9PT0gJ3MnO1xuICAgIGNvbnN0IGlzRXhpdCA9IGN0cmxLZXkgJiYga2V5ID09PSAnYyc7XG4gICAgaWYgKGlzU2F2ZSkge1xuICAgICAgaGFuZGxlT2soKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlzRXhpdCkge1xuICAgICAgaGFuZGxlQ2FuY2VsKCk7XG4gICAgfVxuICB9KTtcbiAgJGVkaXRvci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XG4gICAgJHByZXZpZXcuaW5uZXJIVE1MID0gd2luZG93LmNvbnZlcnRlci5tYWtlSHRtbChlLnRhcmdldC52YWx1ZSk7XG4gIH0pXG59O1xuXG5leHBvcnQgZGVmYXVsdCBlZGl0b3I7XG4iLCJpbXBvcnQgJy4vbWFpbi5zY3NzJztcbmltcG9ydCB7JH0gZnJvbSAnQHpob3VqaWFoYW8vdXRpbHMnXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChzZWxlY3Rvciwgc291cmNlID0gJycsIHNvdXJjZUhUTUwgPSAnJykge1xuICBjb25zdCAkR1VJID0gJChzZWxlY3Rvcik7XG4gICRHVUkuaW5uZXJIVE1MID0gYFxuICAgIDxkaXYgY2xhc3M9XCJlZGl0b3Itd3JhcHBlclwiPlxuICAgICAgPGRpdiBjbGFzcz1cImVkaXQtYXJlYVwiPlxuICAgICAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cImVkaXRvclwiPiR7c291cmNlfTwvdGV4dGFyZWE+XG4gICAgICA8L2Rpdj5cbiAgICAgIDxkaXYgY2xhc3M9XCJwcmV2aWV3LWFyZWFcIj48ZGl2IGNsYXNzPVwibWFya2Rvd24tYm9keVwiPiR7c291cmNlSFRNTH08L2Rpdj48L2Rpdj5cbiAgICA8L2Rpdj4gXG4gIGA7XG5cbiAgJEdVSS5jbGFzc0xpc3QuYWRkKCdlZGl0b3InKTtcbiAgJEdVSS5jbGFzc0xpc3QuYWRkKCdvbicpO1xuXG4gIGNvbnN0ICRlZGl0b3IgPSAkKFwidGV4dGFyZWEuZWRpdG9yXCIpO1xuICBjb25zdCAkcHJldmlldyA9ICQoXCIucHJldmlldy1hcmVhXCIpO1xuXG4gICRlZGl0b3IuZm9jdXMoKTtcblxuICByZXR1cm4ge1xuICAgICRlZGl0b3IsXG4gICAgJHByZXZpZXcsXG4gIH1cbn0iLCJpbXBvcnQgeyB0b2RheSwgc3RvcmUsIHJlcSwgYmFzZTY0IH0gZnJvbSBcIkB6aG91amlhaGFvL3V0aWxzXCI7XG5cbmNvbnN0IFBPU1RTX1VSTCA9ICdodHRwczovL2FwaS5naXRodWIuY29tL3JlcG9zL3pqaG91L25vdGVzL2NvbnRlbnRzL19wb3N0cyc7XG5jb25zdCB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnaHRva2VuJyk7XG5cbmNvbnN0IGxpc3ROb3RlcyA9IGFzeW5jICgpID0+IHtcbiAgbGV0IG5vdGVzID0gc3RvcmUuZ2V0KCdub3RlcycpO1xuICBpZiAoIW5vdGVzKSB7XG4gICAgbm90ZXMgPSBhd2FpdCByZXEoUE9TVFNfVVJMLCAnR0VUJyk7XG4gICAgc3RvcmUuc2V0KCdub3RlcycsIG5vdGVzKTtcbiAgfVxuICByZXR1cm4gbm90ZXM7XG59O1xuXG4vKipcbiAqIOa3u+WKoOS4gOadoeeslOiusOWIsOS7k+W6k++8iHpqaG91L25vdGVz77yJXG4gKiBAcGFyYW0gbm90ZU5hbWUg56yU6K6w5ZCN56ew77yM55+t5qiq57q/6L+e5o6l5aSa5Liq5a2X56ymXG4gKiBAcGFyYW0gbm90ZUNvbnRlbnQg56yU6K6w5YaF5a65XG4gKiBAcGFyYW0gZGF0ZVN0ciDml6XmnJ/lrZfnrKbkuLLvvIzmoLzlvI8gJ1lZWVktTU0tREQnXG4gKi9cbmNvbnN0IGFkZE5vdGUgPSAobm90ZU5hbWUsIG5vdGVDb250ZW50LCBkYXRlU3RyKSA9PiB7XG4gIGlmICghdG9rZW4pIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ3BsZWFzZSBzZXQgUEFUIGZpcnN0IScpO1xuICB9XG5cbiAgY29uc3Qgbm90ZUZpbGVOYW1lID0gYCR7ZGF0ZVN0ciB8fCB0b2RheSgpfS0ke25vdGVOYW1lfS5tZGA7XG4gIGNvbnN0IHJlcUVuZFBvaW50ID0gYCR7UE9TVFNfVVJMfS8ke25vdGVGaWxlTmFtZX1gO1xuICBjb25zdCBjb21taXRPYmogPSB7XG4gICAgbWVzc2FnZTogYGFkZCBub3RlOiAke25vdGVGaWxlTmFtZX1gLFxuICAgIGNvbW1pdHRlcjoge25hbWU6ICd6amhvdScsIGVtYWlsOiAnekB6amguaW0nfSxcbiAgICBjb250ZW50OiBiYXNlNjQuZW5jb2RlKG5vdGVDb250ZW50KVxuICB9O1xuXG4gIHJldHVybiByZXEoXG4gICAgcmVxRW5kUG9pbnQsXG4gICAgJ1BVVCcsXG4gICAgY29tbWl0T2JqLFxuICAgIHRva2VuXG4gICk7XG59O1xuXG4vKipcbiAqIOabtOaWsOaMh+WumueslOiusO+8iHpqaG91L25vdGVz77yJXG4gKiBAcGFyYW0gbm90ZU5hbWUg56yU6K6w5ZCN56ew77yM55+t5qiq57q/6L+e5o6l5aSa5Liq5a2X56ymXG4gKiBAcGFyYW0gbm90ZUNvbnRlbnQg56yU6K6w5YaF5a65XG4gKi9cbmNvbnN0IHVwZGF0ZU5vdGUgPSBhc3luYyAobm90ZU5hbWUsIG5vdGVDb250ZW50KSA9PiB7XG4gIGlmICghdG9rZW4pIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoJ3BsZWFzZSBzZXQgUEFUIGZpcnN0IScpO1xuICB9XG5cbiAgY29uc3Qgbm90ZXMgPSBhd2FpdCBsaXN0Tm90ZXMoKTtcbiAgY29uc3QgdGFyZ2V0Tm90ZSA9IG5vdGVzLmZpbHRlcigoe25hbWV9KSA9PiB7XG4gICAgcmV0dXJuIG5hbWUuaW5jbHVkZXMobm90ZU5hbWUpXG4gIH0pWzBdO1xuXG4gIGlmICghdGFyZ2V0Tm90ZSkge1xuICAgIHRocm93ICfml6Dms5Xmib7liLDnrJTorrAnO1xuICB9XG4gIGNvbnN0IHtuYW1lLCBzaGF9ID0gdGFyZ2V0Tm90ZTtcbiAgY29uc3QgcmVxRW5kUG9pbnQgPSBgJHtQT1NUU19VUkx9LyR7bmFtZX1gO1xuICBjb25zdCBjb21taXRPYmogPSB7XG4gICAgbWVzc2FnZTogYHVwZGF0ZSBub3RlOiAke25hbWV9YCxcbiAgICBjb250ZW50OiBiYXNlNjQuZW5jb2RlKG5vdGVDb250ZW50KSxcbiAgICBzaGEsXG4gICAgY29tbWl0dGVyOiB7bmFtZTogJ3pqaG91JywgZW1haWw6ICd6QHpqaC5pbSd9LFxuICB9O1xuXG4gIHJldHVybiByZXEoXG4gICAgcmVxRW5kUG9pbnQsXG4gICAgJ1BVVCcsXG4gICAgY29tbWl0T2JqLFxuICAgIHRva2VuXG4gICk7XG59O1xuXG5jb25zdCBkZWxldGVOb3RlID0gYXN5bmMgKGV4YWN0RmlsZU5hbWUpID0+IHtcbiAgaWYgKCF0b2tlbikge1xuICAgIHRocm93ICdwbGVhc2Ugc2V0IFBBVCBmaXJzdCEnXG4gIH1cbiAgY29uc3Qgbm90ZXMgPSBhd2FpdCBsaXN0Tm90ZXMoKTtcbiAgY29uc3QgdGFyZ2V0Tm90ZSA9IG5vdGVzLmZpbHRlcigoe25hbWV9KSA9PiB7XG4gICAgcmV0dXJuIG5hbWUgPT09IGV4YWN0RmlsZU5hbWVcbiAgfSlbMF07XG4gIGlmICghdGFyZ2V0Tm90ZSkge1xuICAgIHRocm93ICfml6Dms5Xmib7liLDnrJTorrAnO1xuICB9XG4gIGNvbnN0IHBhcmFtT2JqID0ge1xuICAgIG1lc3NhZ2U6IGBkZWxldGUgbm90ZTogJHtleGFjdEZpbGVOYW1lfWAsXG4gICAgc2hhOiB0YXJnZXROb3RlLnNoYVxuICB9O1xuICBjb25zdCB0YXJnZXRQYXRoID0gYCR7UE9TVFNfVVJMfS8ke2V4YWN0RmlsZU5hbWV9YDtcbiAgcmV0dXJuIHJlcShcbiAgICB0YXJnZXRQYXRoLFxuICAgICdERUxFVEUnLFxuICAgIHBhcmFtT2JqLFxuICAgIHRva2VuLFxuICApLnRoZW4oKCkgPT4ge1xuICAgIHJldHVybiAn5oiQ5Yqf5Yig6Zmk77yBJ1xuICB9KTtcbn07XG5cbmNvbnN0IGZldGNoTm90ZUNvbnRlbnQgPSBhc3luYyAobm90ZU5hbWUpID0+IHtcbiAgaWYgKCFub3RlTmFtZSkge1xuICAgIHRocm93ICfor7fmjIflrprnrJTorrDlkI3np7AnO1xuICB9XG4gIGNvbnN0IG5vdGVzID0gYXdhaXQgbGlzdE5vdGVzKCk7XG4gIGNvbnN0IG5vdGVzTmFtZUFyciA9IG5vdGVzLm1hcCgoe25hbWV9KSA9PiBuYW1lLnRvTG93ZXJDYXNlKCkpO1xuICBjb25zdCB0YXJnZXROb3RlID0gbm90ZXNOYW1lQXJyLmZpbHRlcihjYW5kaSA9PiB7XG4gICAgcmV0dXJuIGNhbmRpLmluY2x1ZGVzKG5vdGVOYW1lLnRvTG93ZXJDYXNlKCkpO1xuICB9KVswXTtcbiAgY29uc3Qgbm90ZVVSTCA9IGAke1BPU1RTX1VSTH0vJHt0YXJnZXROb3RlfWA7XG4gIGNvbnN0IGVuY29kZWROb3RlID0gYXdhaXQgcmVxKFxuICAgIG5vdGVVUkwsXG4gICAgJ0dFVCdcbiAgKTtcbiAgcmV0dXJuIGJhc2U2NC5kZWNvZGUoZW5jb2RlZE5vdGUuY29udGVudCk7XG59O1xuXG5leHBvcnQge1xuICBhZGROb3RlLCBkZWxldGVOb3RlLCBsaXN0Tm90ZXMsIHVwZGF0ZU5vdGUsIGZldGNoTm90ZUNvbnRlbnRcbn1cbiIsImltcG9ydCBlZGl0b3IgZnJvbSAnLi9lZGl0b3IvaW5kZXguanMnO1xuaW1wb3J0IHthZGROb3RlLCB1cGRhdGVOb3RlfSBmcm9tIFwiQHpob3VqaWFoYW8vbm90ZWJvb2tcIjtcblxuZXhwb3J0IGRlZmF1bHQge1xuICBzaG9ydG9wdHM6ICduOnUnLFxuICBoYW5kbGVyKHBhcmFtT2JqLCBjbWRTZXQsICR0ZXJtaW5hbCwge3Jlc3RQYXJhbXMsIGZyb21QaXBlfSkge1xuICAgIGNvbnN0IGVkaXRvclByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCB7bjogZmlsZU5hbWUsIHU6IGlzVXBkYXRlfSA9IHBhcmFtT2JqO1xuICAgICAgY29uc3QgaGFuZGxlT2sgPSAoY29udGVudCkgPT4ge1xuICAgICAgICBjb25zdCBoYW5kbGVyID0gaXNVcGRhdGUgPyB1cGRhdGVOb3RlIDogYWRkTm90ZTtcbiAgICAgICAgY29uc3QgYWN0aW9uID0gaXNVcGRhdGUgPyAn5pu05pawJyA6ICfmt7vliqAnO1xuXG4gICAgICAgIGhhbmRsZXIoZmlsZU5hbWUsIGNvbnRlbnQpXG4gICAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZShg56yU6K6wJHthY3Rpb2595oiQ5Yqf77yBYCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2gocmVqZWN0KTtcbiAgICAgIH07XG5cbiAgICAgIGlmIChmaWxlTmFtZSkge1xuICAgICAgICBlZGl0b3IoaXNVcGRhdGUgPyBmcm9tUGlwZSA6ICcnLCBoYW5kbGVPaywgcmVqZWN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVkaXRvcihyZXN0UGFyYW1zIHx8IGZyb21QaXBlLCByZXNvbHZlLCByZWplY3QpXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGVkaXRvclByb21pc2U7XG4gIH1cbn0iXSwic291cmNlUm9vdCI6IiJ9