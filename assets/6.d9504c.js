(this.webpackJsonp=this.webpackJsonp||[]).push([[6],{"8oxB":function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var c,s=[],f=!1,l=-1;function p(){f&&c&&(f=!1,c.length?s=c.concat(s):l=-1,s.length&&d())}function d(){if(!f){var e=u(p);f=!0;for(var t=s.length;t;){for(c=s,s=[];++l<t;)c&&c[l].run();l=-1,t=s.length}c=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new h(e,t)),1!==s.length||f||u(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},"V/h/":function(e,t,r){"use strict";(function(e){var r,n,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c="undefined"!=typeof Symbol?Symbol("immer-nothing"):(o=!0,(n="immer-nothing")in(r={})?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r),s="undefined"!=typeof Symbol?Symbol("immer-state"):"__$immer_state";function f(e){return!!e&&!!e[s]}function l(e){if(!e)return!1;if("object"!==(void 0===e?"undefined":i(e)))return!1;if(Array.isArray(e))return!0;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var p=Object.assign||function(e,t){for(var r in t)y(t,r)&&(e[r]=t[r]);return e};function d(e){if(Array.isArray(e))return e.slice();var t=void 0===e.__proto__?Object.create(null):{};return p(t,e)}function h(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)t(r,e[r],e);else for(var n in e)t(n,e[n],e)}function y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function v(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function b(e,t,r,n){Array.isArray(e.base)?function(e,t,r,n){for(var o=e.base,i=e.copy,a=e.assigned,u=Math.min(o.length,i.length),c=0;c<u;c++)if(a[c]&&o[c]!==i[c]){var s=t.concat(c);r.push({op:"replace",path:s,value:i[c]}),n.push({op:"replace",path:s,value:o[c]})}if(u<i.length){for(var f=u;f<i.length;f++)r.push({op:"add",path:t.concat(f),value:i[f]});n.push({op:"replace",path:t.concat("length"),value:o.length})}else if(u<o.length){r.push({op:"replace",path:t.concat("length"),value:i.length});for(var l=u;l<o.length;l++)n.push({op:"add",path:t.concat(l),value:o[l]})}}(e,t,r,n):function(e,t,r,n){var o=e.base,i=e.copy;h(e.assigned,(function(e,a){var u=o[e],c=i[e],s=a?e in o?"replace":"add":"remove";if(u!==o||"replace"!==s){var f=t.concat(e);r.push("remove"===s?{op:s,path:f}:{op:s,path:f,value:c}),n.push("add"===s?{op:"remove",path:f}:"remove"===s?{op:"add",path:f,value:u}:{op:"replace",path:f,value:u})}}))}(e,t,r,n)}var m={},g=[],w=function(){return g[g.length-1]};function O(e,t){var r=void 0;if(f(e)){var n=e[s];n.finalizing=!0,r=d(n.draft),n.finalizing=!1}else r=d(e);h(e,(function(e){Object.defineProperty(r,""+e,function(e){return m[e]||(m[e]={configurable:!0,enumerable:!0,get:function(){return function(e,t){T(e);var r=j(e)[t];if(!e.finalizing&&r===e.base[t]&&l(r))return S(e),e.copy[t]=O(r,e);return r}(this[s],e)},set:function(t){!function(e,t,r){if(T(e),e.assigned[t]=!0,!e.modified){if(v(j(e)[t],r))return;E(e),S(e)}e.copy[t]=r}(this[s],e,t)}})}(""+e))}));var o={scope:t?t.scope:w(),modified:!1,finalizing:!1,finalized:!1,assigned:{},parent:t,base:e,draft:r,copy:null,revoke:P,revoked:!1};return function(e,t,r){Object.defineProperty(e,t,{value:r,enumerable:!1,writable:!0})}(r,s,o),o.scope.push(o),r}function P(){this.revoked=!0}function j(e){return e.copy||e.base}function E(e){e.modified||(e.modified=!0,e.parent&&E(e.parent))}function S(e){e.copy||(e.copy=d(e.base))}function T(e){if(!0===e.revoked)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(e.copy||e.base))}function k(e){for(var t=e.base,r=e.draft,n=Object.keys(r),o=n.length-1;o>=0;o--)if(void 0===t[n[o]]&&!y(t,n[o]))return!0;return n.length!==Object.keys(t).length}function x(e){var t=e.draft;if(t.length!==e.base.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!r||r.get)}var A=Object.freeze({scopes:g,currentScope:w,willFinalize:function(e,t,r){var n=w();n.forEach((function(e){return e.finalizing=!0})),void 0!==e&&e!==t||(r&&function e(t){if(!t||"object"!==(void 0===t?"undefined":i(t)))return;var r=t[s];if(!r)return;var n=r.base,o=r.draft,a=r.assigned;if(Array.isArray(t)){if(x(r)){if(E(r),a.length=!0,o.length<n.length)for(var u=o.length;u<n.length;u++)a[u]=!1;else for(var c=n.length;c<o.length;c++)a[c]=!0;for(var f=0;f<o.length;f++)void 0===a[f]&&e(o[f])}}else Object.keys(o).forEach((function(t){void 0!==n[t]||y(n,t)?a[t]||e(o[t]):(a[t]=!0,E(r))})),Object.keys(n).forEach((function(e){void 0!==o[e]||y(o,e)||(a[e]=!1,E(r))}))}(t),function(e){for(var t=e.length-1;t>=0;t--){var r=e[t];!1===r.modified&&(Array.isArray(r.base)?x(r)&&E(r):k(r)&&E(r))}}(n))},createDraft:O}),z=[],I=function(){return z[z.length-1]};function L(e,t){var r={scope:t?t.scope:I(),modified:!1,finalized:!1,assigned:{},parent:t,base:e,draft:null,drafts:{},copy:null,revoke:null},n=Array.isArray(e)?Proxy.revocable([r],_):Proxy.revocable(r,D),o=n.revoke,i=n.proxy;return r.draft=i,r.revoke=o,r.scope.push(r),i}var D={get:function(e,t){if(t===s)return e;var r=e.drafts;if(!e.modified&&y(r,t))return r[t];var n=C(e)[t];if(e.finalized||!l(n))return n;if(e.modified){if(n!==e.base[t])return n;r=e.copy}return r[t]=L(n,e)},has:function(e,t){return t in C(e)},ownKeys:function(e){return Reflect.ownKeys(C(e))},set:function(e,t,r){if(!e.modified){if(r?v(e.base[t],r)||r===e.drafts[t]:v(e.base[t],r)&&t in e.base)return!0;N(e)}return e.assigned[t]=!0,e.copy[t]=r,!0},deleteProperty:function(e,t){(void 0!==e.base[t]||t in e.base)&&(e.assigned[t]=!1,N(e));e.copy&&delete e.copy[t];return!0},getOwnPropertyDescriptor:function(e,t){var r=e.modified?e.copy:y(e.drafts,t)?e.drafts:e.base,n=Reflect.getOwnPropertyDescriptor(r,t);!n||Array.isArray(r)&&"length"===t||(n.configurable=!0);return n},defineProperty:function(){throw new Error("Immer does not support defining properties on draft objects.")},setPrototypeOf:function(){throw new Error("Immer does not support `setPrototypeOf()`.")}},_={};function C(e){return e.copy||e.base}function N(e){e.modified||(e.modified=!0,e.copy=p(d(e.base),e.drafts),e.drafts=null,e.parent&&N(e.parent))}h(D,(function(e,t){_[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),_.deleteProperty=function(e,t){if(isNaN(parseInt(t)))throw new Error("Immer does not support deleting properties from arrays: "+t);return D.deleteProperty.call(this,e[0],t)},_.set=function(e,t,r){if("length"!==t&&isNaN(parseInt(t)))throw new Error("Immer does not support setting non-numeric properties on arrays: "+t);return D.set.call(this,e[0],t,r)};var F=Object.freeze({scopes:z,currentScope:I,willFinalize:function(){},createDraft:L});var R={useProxies:"undefined"!=typeof Proxy&&"undefined"!=typeof Reflect,autoFreeze:void 0===e&&"verifyMinified"===function(){}.name,onAssign:null,onDelete:null,onCopy:null},U=new(function(){function e(t){a(this,e),p(this,R,t),this.setUseProxies(this.useProxies),this.produce=this.produce.bind(this)}return u(e,[{key:"produce",value:function(e,t,r){var n=this;if("function"==typeof e&&"function"!=typeof t){var o=t;return t=e,function(){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return n.produce(a,(function(e){var n;return(n=t).call.apply(n,[e,e].concat(r))}))}}if("function"!=typeof t)throw new Error("if first argument is not a function, the second argument to produce should be a function");if(void 0!==r&&"function"!=typeof r)throw new Error("the third argument of a producer should not be set or a function");var i=void 0;if(l(e))if(f(e)){if(void 0===(i=t.call(e,e)))return e}else{this.scopes.push([]);var a=this.createDraft(e);try{i=t.call(a,a),this.willFinalize(i,a,!!r);var u=r&&[],p=r&&[];if(void 0===i||i===a)i=this.finalize(a,[],u,p);else{if(a[s].modified)throw new Error("An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.");l(i)&&(i=this.finalize(i)),r&&(u.push({op:"replace",path:[],value:i}),p.push({op:"replace",path:[],value:e}))}}finally{this.currentScope().forEach((function(e){return e.revoke()})),this.scopes.pop()}r&&r(u,p)}else if(void 0===(i=t(e)))return e;return i===c?void 0:i}},{key:"setAutoFreeze",value:function(e){this.autoFreeze=e}},{key:"setUseProxies",value:function(e){this.useProxies=e,p(this,e?F:A)}},{key:"finalize",value:function(e,t,r,n){var o=e[s];if(!o)return Object.isFrozen(e)?e:this.finalizeTree(e);if(o.scope!==this.currentScope())return e;if(!o.modified)return o.base;if(!o.finalized){if(o.finalized=!0,this.finalizeTree(o.draft,t,r,n),this.onDelete){var i=o.assigned;for(var a in i)i[a]||this.onDelete(o,a)}this.onCopy&&this.onCopy(o),this.autoFreeze&&1===this.scopes.length&&Object.freeze(o.copy),r&&b(o,t,r,n)}return o.copy}},{key:"finalizeTree",value:function(e,t,r,n){var o=this,i=e[s];i&&(e=this.useProxies?i.copy:i.copy=d(i.draft));var a=this.onAssign;return h(e,(function u(c,s,p){var d=!!i&&p===e;if(f(s)){if(p[c]=s=r&&d&&!i.assigned[c]?o.finalize(s,t.concat(c),r,n):o.finalize(s),d&&s===i.base[c])return}else{if(d&&v(s,i.base[c]))return;l(s)&&!Object.isFrozen(s)&&h(s,u)}d&&a&&a(i,c,s)})),e}}]),e}()),J=U.produce;J((function(e,t){for(var r=0;r<t.length;r++){var n=t[r],o=n.path;if(0===o.length&&"replace"===n.op)e=n.value;else{for(var a=e,u=0;u<o.length-1;u++)if(!(a=a[o[u]])||"object"!==(void 0===a?"undefined":i(a)))throw new Error("Cannot apply patch, path doesn't resolve: "+o.join("/"));var c=o[o.length-1];switch(n.op){case"replace":case"add":a[c]=n.value;break;case"remove":if(Array.isArray(a)){if(c!==a.length-1)throw new Error("Only the last index of an array can be removed, index: "+c+", length: "+a.length);a.length-=1}else delete a[c];break;default:throw new Error("Unsupported patch operation: "+n.op)}}}return e}));t.a=J}).call(this,r("8oxB"))},XXAI:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"set",(function(){return _})),r.d(n,"get",(function(){return C})),r.d(n,"remove",(function(){return R})),r.d(n,"list",(function(){return U})),r.d(n,"destroy",(function(){return M})),r.d(n,"withLocalList",(function(){return J}));var o=r("8RZD"),i=r("q1tI"),a=r.n(i),u=r("i8i4"),c=r.n(u),s=r("V/h/");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),e}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?v(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(r){function n(){var e,t;l(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return g(v(t=h(this,(e=y(n)).call.apply(e,[this].concat(o)))),"state",{component:null}),t}return b(n,r),d(n,[{key:"componentDidMount",value:function(){var t=this;e().then((function(e){t.setState({component:e.default})}))}},{key:"render",value:function(){var e=this.state.component;return e?a.a.createElement(e,this.props):t}}]),n}(i.Component)},O=function(e){var t=e.titles,r=e.activePostIdx,n=e.onTitleClick;return a.a.createElement("ul",null,t.map((function(e,t){var o=r===t;return a.a.createElement("li",{onClick:function(){n(t)},className:"".concat(o?"active":"")},e)})))},P=function(e){var t=e.api,r=e.postListUpdater,n=e.Persistor;return function(e,o){var i=e.error,a=e.success;e.warn;t.update(o.getOption("contentId"),o.doc.getValue()).then((function(e){n.remove(e.id),e.postType="published",r((function(t){return t.map((function(t){return t.id===e.id?e:t}))})),a("博文已更新")})).catch((function(){i("博文更新失败")}))}},j=function(e,t){var r=e.Persistor,n=e.postListUpdater,o=e.api,i=e.active;return function(e,a){var u=e.error,c=e.success,s=(e.warn,a.getOption("contentId"));r.remove(s),n((function(e){return e.filter((function(e){return e.id!==s}))})),"draft"!==t?o.delete(s).then((function(){i(0),c("博文永久删除")})).catch((function(e){u("博文删除失败")})):c("博文已经删除")}},E=function(e){var t=e.Persistor,r=e.api,n=e.postListUpdater;return function(e,o){var i=e.error,a=e.success,u=(e.warn,o.getOption("newPostTitle")),c=o.getOption("contentId"),s=t.get(c).title,f=o.doc.getValue();u||s?f?r.create(u||s,f).then((function(e){t.remove(c),n((function(t){t[0]=e,t[0].postType="published"})),a("博文创建成功")})).catch((function(e){i("博文创建失败")})):i("内容不能为空!"):i("标题不能为空!")}},S=r("1EKS"),T=r.n(S),k=function(e){var t=e.Persistor,r=e.postListUpdater,n=e.active;return function(e,o,i){var a=e.error,u=(e.success,e.warn,i.argString&&i.argString.trim());if(u){o.setOption("newPostTitle",u);var c=T()(Date.now()).slice(16),s={title:u,id:c,postType:"draft",content:""};t.set(c,s),r((function(e){e.unshift(s)}),(function(){n(0)}))}else a("标题不能为空: new &lt;title&gt;")}},x=function(e,t){e.api,e.postListUpdater,e.active;var r=e.exit,n=(e.Persistor,function(e,r){return{draft:["publish"],published:["update"]}[t].includes(r)?e:function(e){(0,e.error)("非法命令")}});return[{name:"update",fn:n(P(e),"update")},{name:"deleteThisPostForever",fn:j(e,t)},{name:"publish",fn:n(E(e),"publish")},{name:"exit",fn:function(){r()}},{name:"new",fn:k(e)}]};function A(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function z(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?A(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):A(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var D=new RegExp("^pm-persistor-"),_=function(e,t){localStorage.setItem("pm-persistor-"+e,JSON.stringify(t)),localStorage.setItem("pm-time-stamp",Date.now())},C=function(e){if(e)return JSON.parse(localStorage.getItem("pm-persistor-"+e))},N=function(e){if(e)return JSON.parse(localStorage.getItem(e))},F=function(){return Object.keys(localStorage).filter((function(e){return D.test(e)}))},R=function(e){localStorage.removeItem("pm-persistor-"+e)},U=function(){return F().map(N)},J=function(e){var t=U(),r={};if(e.forEach((function(e){var t=e.id;r[t]=!0})),!e.length)return t;var n=t.filter((function(e){var t=e.id;return!r[t]}));return[].concat(L(n.map((function(e){return z({postType:"draft"},e)}))),L(e.map((function(e){return z({postType:"published"},e)}))))},M=function(){F().forEach((function(e){localStorage.removeItem(e)}))};function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function B(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var G=w((function(){return Promise.all([r.e(1),r.e(11)]).then(r.bind(null,"0BQj"))}),a.a.createElement("div",{style:{width:"calc(50% - 15px)",height:"100%",border:"dotted 1px #000",background:"#f0f0f0"}})),Q=function(e){function t(e){var r,o,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),o=this,i=K(t).call(this,e),r=!i||"object"!==V(i)&&"function"!=typeof i?Z(o):i,q(Z(r),"active",(function(e){r.setState({activePostIdx:e})})),q(Z(r),"updatePostList",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return null};Array.isArray(e)?r.setState({postList:e}):r.setState((function(t){return{postList:Object(s.a)(t.postList,e)}}),t)})),q(Z(r),"buildEdtCls",(function(){var e=r.state.postList[r.state.activePostIdx],t=C(e.id)?"changed-file":"normal-file";return e.hasOwnProperty("createdAt")||(t="new-file"),"editor-wrapper "+t})),q(Z(r),"titleFormatter",(function(e){return"".concat(e.title)})),q(Z(r),"getEditingPostTitle",(function(){return r.state.postList[r.state.activePostIdx].title})),q(Z(r),"handleEditorContentChange",(function(e,t){var n=r.state.postList[r.state.activePostIdx];_(e,{title:r.getEditingPostTitle(),postType:n.type,id:e,content:t})})),q(Z(r),"renderTitleList",(function(){return a.a.createElement("div",{className:"side-list-col"},a.a.createElement(O,{titles:r.state.postList.map(r.titleFormatter),onTitleClick:r.active,activePostIdx:r.state.activePostIdx}))})),q(Z(r),"renderEditor",(function(){var e=r.state.postList[r.state.activePostIdx],t=C(e.id),o=t&&void 0!==t.content?t.content:e.content||"";return a.a.createElement("div",{className:r.buildEdtCls()},a.a.createElement(G,{value:o,contentId:e.id,backgroundColor:"#f2f2f2",onSave:r.handleEditorContentChange,exArr:x({api:r.props.api,postListUpdater:r.updatePostList,active:r.active,exit:r.props.exit,Persistor:n},e.postType)}))})),r.state={activePostIdx:0,postList:r.props.posts},r}var r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(t,e),r=t,(o=[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return a.a.createElement("div",{className:"pane"},this.renderTitleList(),this.renderEditor())}}])&&B(r.prototype,o),i&&B(r,i),t}(a.a.PureComponent),$=(r("Zse/"),function(e,t,r){var n=Object(o.a)("#gui");n.classList.add("fullscreen"),c.a.render(a.a.createElement(Q,{posts:e,api:t,exit:r}),n)});function H(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function W(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?H(Object(r),!0).forEach((function(t){Y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):H(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ee="https://api-grocery.zjh-im.now.sh/z",te=function(e){var t=e?{create:function(e,t){return Promise.resolve()},update:function(t,r){return Object(o.t)("".concat(ee,"/post/update"),"POST",W({id:t,content:r},e))},delete:function(e){return Promise.resolve()}}:{create:function(){return Promise.resolve()},update:function(){return Promise.resolve()},delete:function(){return Promise.resolve()}};return W({list:function(){return Object(o.u)("".concat(ee,"/posts"))}},t)},re=Object(o.e)("pm","pm [access token]","posts manager for my blog.");t.default={doc:re,shortopts:"e",handler:function(e,t,r,n){var i,a,u;return regeneratorRuntime.async((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.restParams,!e.e){t.next=4;break}return c.a.unmountComponentAtNode(Object(o.a)("#gui")),t.abrupt("return","Goodbye");case 4:return i=e.user&&e.password?{user:e.user,password:e.password}:null,a=te(i),t.next=9,regeneratorRuntime.awrap(a.list());case 9:return u=t.sent,t.abrupt("return",new Promise((function(e,t){try{$(J(u),a,(function(){e(),Object(o.a)("#gui").classList.remove("fullscreen"),setTimeout((function(){Terminal&&Terminal.exec("pm -e")}))}))}catch(e){return"Error: Invalid Access Token. \nAnonymous mode is unsupport right now."}})));case 11:case"end":return t.stop()}}))}}},"Zse/":function(e,t,r){}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbW1lci9kaXN0L2ltbWVyLm1vZHVsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHpob3VqaWFoYW8vcG0vbGliL21hbmFnZS1wYW5lL2FzeW5jLWltcG9ydC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHpob3VqaWFoYW8vcG0vbGliL21hbmFnZS1wYW5lL3Bvc3QtbGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHpob3VqaWFoYW8vcG0vbGliL21hbmFnZS1wYW5lL2N1c3RvbS1lZGl0b3ItY29tbWFuZHMvY29tbWFuZHMvdXBkYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AemhvdWppYWhhby9wbS9saWIvbWFuYWdlLXBhbmUvY3VzdG9tLWVkaXRvci1jb21tYW5kcy9jb21tYW5kcy9kZWxldGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B6aG91amlhaGFvL3BtL2xpYi9tYW5hZ2UtcGFuZS9jdXN0b20tZWRpdG9yLWNvbW1hbmRzL2NvbW1hbmRzL2NyZWF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHpob3VqaWFoYW8vcG0vbGliL21hbmFnZS1wYW5lL2N1c3RvbS1lZGl0b3ItY29tbWFuZHMvY29tbWFuZHMvbmV3LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AemhvdWppYWhhby9wbS9saWIvbWFuYWdlLXBhbmUvY3VzdG9tLWVkaXRvci1jb21tYW5kcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHpob3VqaWFoYW8vcG0vbGliL3BlcnNpc3Rvci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHpob3VqaWFoYW8vcG0vbGliL21hbmFnZS1wYW5lL3BhbmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B6aG91amlhaGFvL3BtL2xpYi9tYW5hZ2UtcGFuZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHpob3VqaWFoYW8vcG0vbGliL2Jsb2ctYXBpL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AemhvdWppYWhhby9wbS9saWIvaW5kZXguanMiXSwibmFtZXMiOlsiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsInByb2Nlc3MiLCJtb2R1bGUiLCJleHBvcnRzIiwiZGVmYXVsdFNldFRpbW91dCIsIkVycm9yIiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJzZXRUaW1lb3V0IiwiZSIsImNhbGwiLCJ0aGlzIiwiY2xlYXJUaW1lb3V0IiwiY3VycmVudFF1ZXVlIiwicXVldWUiLCJkcmFpbmluZyIsInF1ZXVlSW5kZXgiLCJjbGVhblVwTmV4dFRpY2siLCJsZW5ndGgiLCJjb25jYXQiLCJkcmFpblF1ZXVlIiwidGltZW91dCIsImxlbiIsInJ1biIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIkl0ZW0iLCJhcnJheSIsIm5vb3AiLCJuZXh0VGljayIsImFyZ3MiLCJBcnJheSIsImFyZ3VtZW50cyIsImkiLCJwdXNoIiwicHJvdG90eXBlIiwiYXBwbHkiLCJ0aXRsZSIsImJyb3dzZXIiLCJlbnYiLCJhcmd2IiwidmVyc2lvbiIsInZlcnNpb25zIiwib24iLCJhZGRMaXN0ZW5lciIsIm9uY2UiLCJvZmYiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUFsbExpc3RlbmVycyIsImVtaXQiLCJwcmVwZW5kTGlzdGVuZXIiLCJwcmVwZW5kT25jZUxpc3RlbmVyIiwibGlzdGVuZXJzIiwibmFtZSIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwib2JqIiwia2V5IiwidmFsdWUiLCJfdHlwZW9mIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJjb25zdHJ1Y3RvciIsImNsYXNzQ2FsbENoZWNrIiwiaW5zdGFuY2UiLCJDb25zdHJ1Y3RvciIsIlR5cGVFcnJvciIsImNyZWF0ZUNsYXNzIiwiZGVmaW5lUHJvcGVydGllcyIsInRhcmdldCIsInByb3BzIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiTk9USElORyIsIkRSQUZUX1NUQVRFIiwiaXNEcmFmdCIsImlzRHJhZnRhYmxlIiwiaXNBcnJheSIsInByb3RvIiwiZ2V0UHJvdG90eXBlT2YiLCJhc3NpZ24iLCJoYXMiLCJzaGFsbG93Q29weSIsInNsaWNlIiwidW5kZWZpbmVkIiwiX19wcm90b19fIiwiY3JlYXRlIiwiZWFjaCIsImNiIiwidGhpbmciLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJpcyIsIngiLCJ5IiwiZ2VuZXJhdGVQYXRjaGVzIiwic3RhdGUiLCJiYXNlUGF0aCIsInBhdGNoZXMiLCJpbnZlcnNlUGF0Y2hlcyIsImJhc2UiLCJjb3B5IiwiYXNzaWduZWQiLCJtaW5MZW5ndGgiLCJNYXRoIiwibWluIiwicGF0aCIsIm9wIiwiX2kiLCJfaTIiLCJnZW5lcmF0ZUFycmF5UGF0Y2hlcyIsImFzc2lnbmVkVmFsdWUiLCJvcmlnVmFsdWUiLCJnZW5lcmF0ZU9iamVjdFBhdGNoZXMiLCJkZXNjcmlwdG9ycyIsInNjb3BlcyIsImN1cnJlbnRTY29wZSIsImNyZWF0ZURyYWZ0IiwicGFyZW50IiwiZHJhZnQiLCJfc3RhdGUiLCJmaW5hbGl6aW5nIiwiZ2V0IiwiYXNzZXJ0VW5yZXZva2VkIiwic291cmNlIiwicHJlcGFyZUNvcHkiLCJfZ2V0Iiwic2V0IiwibW9kaWZpZWQiLCJtYXJrQ2hhbmdlZCIsIl9zZXQiLCJjcmVhdGVQcm9wZXJ0eVByb3h5Iiwic2NvcGUiLCJmaW5hbGl6ZWQiLCJyZXZva2UiLCJyZXZva2VkIiwiY3JlYXRlSGlkZGVuUHJvcGVydHkiLCJKU09OIiwic3RyaW5naWZ5IiwiaGFzT2JqZWN0Q2hhbmdlcyIsImtleXMiLCJoYXNBcnJheUNoYW5nZXMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJsZWdhY3lQcm94eSIsImZyZWV6ZSIsIndpbGxGaW5hbGl6ZSIsInJlc3VsdCIsImJhc2VEcmFmdCIsIm5lZWRQYXRjaGVzIiwiZm9yRWFjaCIsIm1hcmtDaGFuZ2VzUmVjdXJzaXZlbHkiLCJvYmplY3QiLCJtYXJrQ2hhbmdlc1N3ZWVwIiwic2NvcGVzJDEiLCJjdXJyZW50U2NvcGUkMSIsImNyZWF0ZURyYWZ0JDEiLCJkcmFmdHMiLCJfcmVmIiwiUHJveHkiLCJyZXZvY2FibGUiLCJhcnJheVRyYXBzIiwib2JqZWN0VHJhcHMiLCJwcm94eSIsInNvdXJjZSQxIiwib3duS2V5cyIsIlJlZmxlY3QiLCJtYXJrQ2hhbmdlZCQxIiwiZGVsZXRlUHJvcGVydHkiLCJvd25lciIsInNldFByb3RvdHlwZU9mIiwiZm4iLCJpc05hTiIsInBhcnNlSW50IiwibW9kZXJuUHJveHkiLCJjb25maWdEZWZhdWx0cyIsInVzZVByb3hpZXMiLCJhdXRvRnJlZXplIiwib25Bc3NpZ24iLCJvbkRlbGV0ZSIsIm9uQ29weSIsImltbWVyIiwiSW1tZXIiLCJjb25maWciLCJzZXRVc2VQcm94aWVzIiwicHJvZHVjZSIsImJpbmQiLCJyZWNpcGUiLCJwYXRjaExpc3RlbmVyIiwiX3RoaXMiLCJkZWZhdWx0QmFzZSIsIl9sZW4iLCJfa2V5IiwiX3JlY2lwZSIsImZpbmFsaXplIiwicG9wIiwiaXNGcm96ZW4iLCJmaW5hbGl6ZVRyZWUiLCJyb290IiwiX3RoaXMyIiwiZmluYWxpemVQcm9wZXJ0eSIsImluRHJhZnQiLCJwYXRjaCIsIl9pMyIsImpvaW4iLCJhc3luY0NvbXBvbmVudCIsImltcG9ydENvbXBvbmVudCIsImxvYWRlciIsImNvbXBvbmVudCIsInRoZW4iLCJjbXAiLCJzZXRTdGF0ZSIsIkMiLCJDb21wb25lbnQiLCJ0aXRsZXMiLCJhY3RpdmVQb3N0SWR4Iiwib25UaXRsZUNsaWNrIiwibWFwIiwiaWR4IiwiaXNBY3RpdmUiLCJvbkNsaWNrIiwiY2xhc3NOYW1lIiwiYXBpIiwicG9zdExpc3RVcGRhdGVyIiwiUGVyc2lzdG9yIiwiY20iLCJlcnJvciIsInN1Y2Nlc3MiLCJ3YXJuIiwidXBkYXRlIiwiZ2V0T3B0aW9uIiwiZG9jIiwiZ2V0VmFsdWUiLCJuZXdQb3N0IiwicmVtb3ZlIiwiaWQiLCJwb3N0VHlwZSIsIm9sZFBvc3RMaXN0IiwicCIsInR5cGUiLCJhY3RpdmUiLCJwaWQiLCJmaWx0ZXIiLCJ0bXBJZCIsInRtcFRpdGxlIiwiY29udGVudCIsInBhcmFtcyIsImFyZ1N0cmluZyIsInRyaW0iLCJzZXRPcHRpb24iLCJoYXNoIiwiRGF0ZSIsIm5vdyIsInVuc2hpZnQiLCJidWlsZEVkaXRvckNvbW1hbmRzIiwidG9vbHMiLCJleGl0IiwiZXhIYW5kbGVyVmFsaWRhdG9yIiwiZXhOYW1lIiwicHVibGlzaGVkIiwiaW5jbHVkZXMiLCJidWlsZFVwZGF0ZUNtZCIsImJ1aWxkRGVsZXRlQ21kIiwiYnVpbGRDcmVhdGVDbWQiLCJidWlsZE5ld0NtZCIsIktFWV9SRUdfRVhQIiwiUmVnRXhwIiwidmFsIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInBhcnNlIiwiZ2V0SXRlbSIsIl9nZXRQZXJzaXN0b3JLeWVzIiwiayIsInRlc3QiLCJyZW1vdmVJdGVtIiwibGlzdCIsIndpdGhMb2NhbExpc3QiLCJhcnIiLCJsb2NhbExpc3QiLCJpZE1hcCIsIm5ld1Bvc3RzIiwiZGVzdHJveSIsIkVkaXRvciIsIkFzeW5jSW1wb3J0Iiwic3R5bGUiLCJ3aWR0aCIsImhlaWdodCIsImJvcmRlciIsImJhY2tncm91bmQiLCJQYW5lIiwidXBkYXRlckZuIiwiY2JGbiIsInBvc3RMaXN0IiwicHJldlN0YXRlIiwiZWRpdGluZ1Bvc3QiLCJnZXRFZGl0aW5nUG9zdFRpdGxlIiwidGl0bGVGb3JtYXR0ZXIiLCJsb2NhbENoYW5nZXMiLCJpbml0Q29udGVudCIsImJ1aWxkRWR0Q2xzIiwiY29udGVudElkIiwiYmFja2dyb3VuZENvbG9yIiwib25TYXZlIiwiaGFuZGxlRWRpdG9yQ29udGVudENoYW5nZSIsImV4QXJyIiwiYnVpbGRFZGl0b3JFeEFyciIsInVwZGF0ZVBvc3RMaXN0IiwicG9zdHMiLCJyZW5kZXJUaXRsZUxpc3QiLCJyZW5kZXJFZGl0b3IiLCJSZWFjdCIsIlB1cmVDb21wb25lbnQiLCIkZ3VpIiwiJCIsImNsYXNzTGlzdCIsImFkZCIsIlJlYWN0RE9NIiwicmVuZGVyIiwiQVBJX0NPTkZJRyIsImNyZWRlbnRpYWwiLCJhY3Rpb25zTmVlZENyZWRlbnRpYWwiLCJQcm9taXNlIiwicmVzb2x2ZSIsInJlcSIsImRlbGV0ZSIsInJlcUFuZENhY2hlIiwiZG9jVHBsIiwic2hvcnRvcHRzIiwiaGFuZGxlciIsInBhcmFtc09iaiIsImNtZFNldCIsIiR0ZXJtaW5hbCIsImFzeW5jIiwicmVzdFBhcmFtcyIsInVubW91bnRDb21wb25lbnRBdE5vZGUiLCJ1c2VyIiwicGFzc3dvcmQiLCJwb3N0U0RLIiwicmVqZWN0IiwicnVuTWFuYWdlUGFuZWwiLCJUZXJtaW5hbCIsImV4ZWMiXSwibWFwcGluZ3MiOiIwRUFDQSxJQU9JQSxFQUNBQyxFQVJBQyxFQUFVQyxFQUFPQyxRQUFVLEdBVS9CLFNBQVNDLElBQ0wsTUFBTSxJQUFJQyxNQUFNLG1DQUVwQixTQUFTQyxJQUNMLE1BQU0sSUFBSUQsTUFBTSxxQ0FzQnBCLFNBQVNFLEVBQVdDLEdBQ2hCLEdBQUlULElBQXFCVSxXQUVyQixPQUFPQSxXQUFXRCxFQUFLLEdBRzNCLElBQUtULElBQXFCSyxJQUFxQkwsSUFBcUJVLFdBRWhFLE9BREFWLEVBQW1CVSxXQUNaQSxXQUFXRCxFQUFLLEdBRTNCLElBRUksT0FBT1QsRUFBaUJTLEVBQUssR0FDL0IsTUFBTUUsR0FDSixJQUVJLE9BQU9YLEVBQWlCWSxLQUFLLEtBQU1ILEVBQUssR0FDMUMsTUFBTUUsR0FFSixPQUFPWCxFQUFpQlksS0FBS0MsS0FBTUosRUFBSyxNQXZDbkQsV0FDRyxJQUVRVCxFQURzQixtQkFBZlUsV0FDWUEsV0FFQUwsRUFFekIsTUFBT00sR0FDTFgsRUFBbUJLLEVBRXZCLElBRVFKLEVBRHdCLG1CQUFqQmEsYUFDY0EsYUFFQVAsRUFFM0IsTUFBT0ksR0FDTFYsRUFBcUJNLEdBakI3QixHQXdFQSxJQUVJUSxFQUZBQyxFQUFRLEdBQ1JDLEdBQVcsRUFFWEMsR0FBYyxFQUVsQixTQUFTQyxJQUNBRixHQUFhRixJQUdsQkUsR0FBVyxFQUNQRixFQUFhSyxPQUNiSixFQUFRRCxFQUFhTSxPQUFPTCxHQUU1QkUsR0FBYyxFQUVkRixFQUFNSSxRQUNORSxLQUlSLFNBQVNBLElBQ0wsSUFBSUwsRUFBSixDQUdBLElBQUlNLEVBQVVmLEVBQVdXLEdBQ3pCRixHQUFXLEVBR1gsSUFEQSxJQUFJTyxFQUFNUixFQUFNSSxPQUNWSSxHQUFLLENBR1AsSUFGQVQsRUFBZUMsRUFDZkEsRUFBUSxLQUNDRSxFQUFhTSxHQUNkVCxHQUNBQSxFQUFhRyxHQUFZTyxNQUdqQ1AsR0FBYyxFQUNkTSxFQUFNUixFQUFNSSxPQUVoQkwsRUFBZSxLQUNmRSxHQUFXLEVBbkVmLFNBQXlCUyxHQUNyQixHQUFJekIsSUFBdUJhLGFBRXZCLE9BQU9BLGFBQWFZLEdBR3hCLElBQUt6QixJQUF1Qk0sSUFBd0JOLElBQXVCYSxhQUV2RSxPQURBYixFQUFxQmEsYUFDZEEsYUFBYVksR0FFeEIsSUFFV3pCLEVBQW1CeUIsR0FDNUIsTUFBT2YsR0FDTCxJQUVJLE9BQU9WLEVBQW1CVyxLQUFLLEtBQU1jLEdBQ3ZDLE1BQU9mLEdBR0wsT0FBT1YsRUFBbUJXLEtBQUtDLEtBQU1hLEtBZ0Q3Q0MsQ0FBZ0JKLElBaUJwQixTQUFTSyxFQUFLbkIsRUFBS29CLEdBQ2ZoQixLQUFLSixJQUFNQSxFQUNYSSxLQUFLZ0IsTUFBUUEsRUFZakIsU0FBU0MsS0E1QlQ1QixFQUFRNkIsU0FBVyxTQUFVdEIsR0FDekIsSUFBSXVCLEVBQU8sSUFBSUMsTUFBTUMsVUFBVWQsT0FBUyxHQUN4QyxHQUFJYyxVQUFVZCxPQUFTLEVBQ25CLElBQUssSUFBSWUsRUFBSSxFQUFHQSxFQUFJRCxVQUFVZCxPQUFRZSxJQUNsQ0gsRUFBS0csRUFBSSxHQUFLRCxVQUFVQyxHQUdoQ25CLEVBQU1vQixLQUFLLElBQUlSLEVBQUtuQixFQUFLdUIsSUFDSixJQUFqQmhCLEVBQU1JLFFBQWlCSCxHQUN2QlQsRUFBV2MsSUFTbkJNLEVBQUtTLFVBQVVaLElBQU0sV0FDakJaLEtBQUtKLElBQUk2QixNQUFNLEtBQU16QixLQUFLZ0IsUUFFOUIzQixFQUFRcUMsTUFBUSxVQUNoQnJDLEVBQVFzQyxTQUFVLEVBQ2xCdEMsRUFBUXVDLElBQU0sR0FDZHZDLEVBQVF3QyxLQUFPLEdBQ2Z4QyxFQUFReUMsUUFBVSxHQUNsQnpDLEVBQVEwQyxTQUFXLEdBSW5CMUMsRUFBUTJDLEdBQUtmLEVBQ2I1QixFQUFRNEMsWUFBY2hCLEVBQ3RCNUIsRUFBUTZDLEtBQU9qQixFQUNmNUIsRUFBUThDLElBQU1sQixFQUNkNUIsRUFBUStDLGVBQWlCbkIsRUFDekI1QixFQUFRZ0QsbUJBQXFCcEIsRUFDN0I1QixFQUFRaUQsS0FBT3JCLEVBQ2Y1QixFQUFRa0QsZ0JBQWtCdEIsRUFDMUI1QixFQUFRbUQsb0JBQXNCdkIsRUFFOUI1QixFQUFRb0QsVUFBWSxTQUFVQyxHQUFRLE1BQU8sSUFFN0NyRCxFQUFRc0QsUUFBVSxTQUFVRCxHQUN4QixNQUFNLElBQUlqRCxNQUFNLHFDQUdwQkosRUFBUXVELElBQU0sV0FBYyxNQUFPLEtBQ25DdkQsRUFBUXdELE1BQVEsU0FBVUMsR0FDdEIsTUFBTSxJQUFJckQsTUFBTSxtQ0FFcEJKLEVBQVEwRCxNQUFRLFdBQWEsT0FBTyxJLHFDQ3ZMcEMsZ0JBNEMrQkMsRUFBS0MsRUFBS0MsRUE1Q3JDQyxFQUE0QixtQkFBWEMsUUFBb0QsaUJBQXBCQSxPQUFPQyxTQUF3QixTQUFVTCxHQUM1RixjQUFjQSxHQUNaLFNBQVVBLEdBQ1osT0FBT0EsR0FBeUIsbUJBQVhJLFFBQXlCSixFQUFJTSxjQUFnQkYsUUFBVUosSUFBUUksT0FBTzVCLFVBQVksZ0JBQWtCd0IsR0FhdkhPLEVBQWlCLFNBQVVDLEVBQVVDLEdBQ3ZDLEtBQU1ELGFBQW9CQyxHQUN4QixNQUFNLElBQUlDLFVBQVUsc0NBSXBCQyxFQUFjLFdBQ2hCLFNBQVNDLEVBQWlCQyxFQUFRQyxHQUNoQyxJQUFLLElBQUl4QyxFQUFJLEVBQUdBLEVBQUl3QyxFQUFNdkQsT0FBUWUsSUFBSyxDQUNyQyxJQUFJeUMsRUFBYUQsRUFBTXhDLEdBQ3ZCeUMsRUFBV0MsV0FBYUQsRUFBV0MsYUFBYyxFQUNqREQsRUFBV0UsY0FBZSxFQUN0QixVQUFXRixJQUFZQSxFQUFXRyxVQUFXLEdBQ2pEQyxPQUFPQyxlQUFlUCxFQUFRRSxFQUFXZCxJQUFLYyxJQUlsRCxPQUFPLFNBQVVOLEVBQWFZLEVBQVlDLEdBR3hDLE9BRklELEdBQVlULEVBQWlCSCxFQUFZakMsVUFBVzZDLEdBQ3BEQyxHQUFhVixFQUFpQkgsRUFBYWEsR0FDeENiLEdBZE8sR0FxQ2RjLEVBQTRCLG9CQUFYbkIsT0FBeUJBLE9BQU8sa0JBZlpGLEdBZW1FLEdBZnhFRCxFQWV1RCxtQkFmNURELEVBZXdELElBYm5GbUIsT0FBT0MsZUFBZXBCLEVBQUtDLEVBQUssQ0FDOUJDLE1BQU9BLEVBQ1BjLFlBQVksRUFDWkMsY0FBYyxFQUNkQyxVQUFVLElBR1psQixFQUFJQyxHQUFPQyxFQUdORixHQUtMd0IsRUFBZ0Msb0JBQVhwQixPQUF5QkEsT0FBTyxlQUFpQixpQkFFMUUsU0FBU3FCLEVBQVF2QixHQUNiLFFBQVNBLEtBQVdBLEVBQU1zQixHQUc5QixTQUFTRSxFQUFZeEIsR0FDakIsSUFBS0EsRUFBTyxPQUFPLEVBQ25CLEdBQXNFLGlCQUFoRCxJQUFWQSxFQUF3QixZQUFjQyxFQUFRRCxJQUFzQixPQUFPLEVBQ3ZGLEdBQUk5QixNQUFNdUQsUUFBUXpCLEdBQVEsT0FBTyxFQUNqQyxJQUFJMEIsRUFBUVQsT0FBT1UsZUFBZTNCLEdBQ2xDLE9BQWlCLE9BQVYwQixHQUFrQkEsSUFBVVQsT0FBTzNDLFVBVTlDLElBQUlzRCxFQUFTWCxPQUFPVyxRQUFVLFNBQWdCakIsRUFBUVgsR0FDbEQsSUFBSyxJQUFJRCxLQUFPQyxFQUNSNkIsRUFBSTdCLEVBQU9ELEtBQ1hZLEVBQU9aLEdBQU9DLEVBQU1ELElBRzVCLE9BQU9ZLEdBR1gsU0FBU21CLEVBQVk5QixHQUNqQixHQUFJOUIsTUFBTXVELFFBQVF6QixHQUFRLE9BQU9BLEVBQU0rQixRQUN2QyxJQUFJcEIsT0FBNkJxQixJQUFwQmhDLEVBQU1pQyxVQUEwQmhCLE9BQU9pQixPQUFPLE1BQVEsR0FDbkUsT0FBT04sRUFBT2pCLEVBQVFYLEdBRzFCLFNBQVNtQyxFQUFLbkMsRUFBT29DLEdBQ2pCLEdBQUlsRSxNQUFNdUQsUUFBUXpCLEdBQ2QsSUFBSyxJQUFJNUIsRUFBSSxFQUFHQSxFQUFJNEIsRUFBTTNDLE9BQVFlLElBQzlCZ0UsRUFBR2hFLEVBQUc0QixFQUFNNUIsR0FBSTRCLFFBR3BCLElBQUssSUFBSUQsS0FBT0MsRUFDWm9DLEVBQUdyQyxFQUFLQyxFQUFNRCxHQUFNQyxHQUtoQyxTQUFTNkIsRUFBSVEsRUFBT0MsR0FDaEIsT0FBT3JCLE9BQU8zQyxVQUFVaUUsZUFBZTFGLEtBQUt3RixFQUFPQyxHQUd2RCxTQUFTRSxFQUFHQyxFQUFHQyxHQUVYLE9BQUlELElBQU1DLEVBQ08sSUFBTkQsR0FBVyxFQUFJQSxHQUFNLEVBQUlDLEVBRXpCRCxHQUFNQSxHQUFLQyxHQUFNQSxFQUloQyxTQUFTQyxFQUFnQkMsRUFBT0MsRUFBVUMsRUFBU0MsR0FDL0M3RSxNQUFNdUQsUUFBUW1CLEVBQU1JLE1BR3hCLFNBQThCSixFQUFPQyxFQUFVQyxFQUFTQyxHQVFwRCxJQVBBLElBQUlDLEVBQU9KLEVBQU1JLEtBQ2JDLEVBQU9MLEVBQU1LLEtBQ2JDLEVBQVdOLEVBQU1NLFNBRWpCQyxFQUFZQyxLQUFLQyxJQUFJTCxFQUFLM0YsT0FBUTRGLEVBQUs1RixRQUdsQ2UsRUFBSSxFQUFHQSxFQUFJK0UsRUFBVy9FLElBQzNCLEdBQUk4RSxFQUFTOUUsSUFBTTRFLEVBQUs1RSxLQUFPNkUsRUFBSzdFLEdBQUksQ0FDcEMsSUFBSWtGLEVBQU9ULEVBQVN2RixPQUFPYyxHQUMzQjBFLEVBQVF6RSxLQUFLLENBQUVrRixHQUFJLFVBQVdELEtBQU1BLEVBQU10RCxNQUFPaUQsRUFBSzdFLEtBQ3REMkUsRUFBZTFFLEtBQUssQ0FBRWtGLEdBQUksVUFBV0QsS0FBTUEsRUFBTXRELE1BQU9nRCxFQUFLNUUsS0FLckUsR0FBSStFLEVBQVlGLEVBQUs1RixPQUFRLENBQ3pCLElBQUssSUFBSW1HLEVBQUtMLEVBQVdLLEVBQUtQLEVBQUs1RixPQUFRbUcsSUFDdkNWLEVBQVF6RSxLQUFLLENBQ1RrRixHQUFJLE1BQ0pELEtBQU1ULEVBQVN2RixPQUFPa0csR0FDdEJ4RCxNQUFPaUQsRUFBS08sS0FHcEJULEVBQWUxRSxLQUFLLENBQ2hCa0YsR0FBSSxVQUNKRCxLQUFNVCxFQUFTdkYsT0FBTyxVQUN0QjBDLE1BQU9nRCxFQUFLM0YsY0FLZixHQUFJOEYsRUFBWUgsRUFBSzNGLE9BQVEsQ0FDMUJ5RixFQUFRekUsS0FBSyxDQUNUa0YsR0FBSSxVQUNKRCxLQUFNVCxFQUFTdkYsT0FBTyxVQUN0QjBDLE1BQU9pRCxFQUFLNUYsU0FFaEIsSUFBSyxJQUFJb0csRUFBTU4sRUFBV00sRUFBTVQsRUFBSzNGLE9BQVFvRyxJQUN6Q1YsRUFBZTFFLEtBQUssQ0FDaEJrRixHQUFJLE1BQ0pELEtBQU1ULEVBQVN2RixPQUFPbUcsR0FDdEJ6RCxNQUFPZ0QsRUFBS1MsTUE5Q0FDLENBQXFCZCxFQUFPQyxFQUFVQyxFQUFTQyxHQW9EL0UsU0FBK0JILEVBQU9DLEVBQVVDLEVBQVNDLEdBQ3JELElBQUlDLEVBQU9KLEVBQU1JLEtBQ2JDLEVBQU9MLEVBQU1LLEtBRWpCZCxFQUFLUyxFQUFNTSxVQUFVLFNBQVVuRCxFQUFLNEQsR0FDaEMsSUFBSUMsRUFBWVosRUFBS2pELEdBQ2pCQyxFQUFRaUQsRUFBS2xELEdBQ2J3RCxFQUFNSSxFQUEyQjVELEtBQU9pRCxFQUFPLFVBQVksTUFBckMsU0FDMUIsR0FBSVksSUFBY1osR0FBZSxZQUFQTyxFQUExQixDQUNBLElBQUlELEVBQU9ULEVBQVN2RixPQUFPeUMsR0FDM0IrQyxFQUFRekUsS0FBWSxXQUFQa0YsRUFBa0IsQ0FBRUEsR0FBSUEsRUFBSUQsS0FBTUEsR0FBUyxDQUFFQyxHQUFJQSxFQUFJRCxLQUFNQSxFQUFNdEQsTUFBT0EsSUFDckYrQyxFQUFlMUUsS0FBWSxRQUFQa0YsRUFBZSxDQUFFQSxHQUFJLFNBQVVELEtBQU1BLEdBQWdCLFdBQVBDLEVBQWtCLENBQUVBLEdBQUksTUFBT0QsS0FBTUEsRUFBTXRELE1BQU80RCxHQUFjLENBQUVMLEdBQUksVUFBV0QsS0FBTUEsRUFBTXRELE1BQU80RCxRQS9EN0VDLENBQXNCakIsRUFBT0MsRUFBVUMsRUFBU0MsR0F5R2pKLElBQUllLEVBQWMsR0FHZEMsRUFBUyxHQUNUQyxFQUFlLFdBQ2YsT0FBT0QsRUFBT0EsRUFBTzFHLE9BQVMsSUFlbEMsU0FBUzRHLEVBQVlqQixFQUFNa0IsR0FDdkIsSUFBSUMsT0FBUSxFQUNaLEdBQUk1QyxFQUFReUIsR0FBTyxDQUNmLElBQUlvQixFQUFTcEIsRUFBSzFCLEdBRWxCOEMsRUFBT0MsWUFBYSxFQUNwQkYsRUFBUXJDLEVBQVlzQyxFQUFPRCxPQUMzQkMsRUFBT0MsWUFBYSxPQUVwQkYsRUFBUXJDLEVBQVlrQixHQUV4QmIsRUFBS2EsR0FBTSxTQUFVVixHQUNqQnJCLE9BQU9DLGVBQWVpRCxFQUFPLEdBQUs3QixFQWdFMUMsU0FBNkJBLEdBQ3pCLE9BQU93QixFQUFZeEIsS0FBVXdCLEVBQVl4QixHQUFRLENBQzdDdkIsY0FBYyxFQUNkRCxZQUFZLEVBQ1p3RCxJQUFLLFdBQ0QsT0F0Q1osU0FBYzFCLEVBQU9OLEdBQ2pCaUMsRUFBZ0IzQixHQUNoQixJQUFJNUMsRUFBUXdFLEVBQU81QixHQUFPTixHQUUxQixJQUFLTSxFQUFNeUIsWUFBY3JFLElBQVU0QyxFQUFNSSxLQUFLVixJQUFTZCxFQUFZeEIsR0FFL0QsT0FEQXlFLEVBQVk3QixHQUNMQSxFQUFNSyxLQUFLWCxHQUFRMkIsRUFBWWpFLEVBQU80QyxHQUVqRCxPQUFPNUMsRUE4QlEwRSxDQUFLNUgsS0FBS3dFLEdBQWNnQixJQUVuQ3FDLElBQUssU0FBZ0IzRSxJQTdCN0IsU0FBYzRDLEVBQU9OLEVBQU10QyxHQUd2QixHQUZBdUUsRUFBZ0IzQixHQUNoQkEsRUFBTU0sU0FBU1osSUFBUSxHQUNsQk0sRUFBTWdDLFNBQVUsQ0FDakIsR0FBSXBDLEVBQUdnQyxFQUFPNUIsR0FBT04sR0FBT3RDLEdBQVEsT0FDcEM2RSxFQUFZakMsR0FDWjZCLEVBQVk3QixHQUVoQkEsRUFBTUssS0FBS1gsR0FBUXRDLEVBc0JYOEUsQ0FBS2hJLEtBQUt3RSxHQUFjZ0IsRUFBTXRDLE1BeEVNK0UsQ0FBb0IsR0FBS3pDLE9BSXJFLElBQUlNLEVBQVEsQ0FDUm9DLE1BQU9kLEVBQVNBLEVBQU9jLE1BQVFoQixJQUMvQlksVUFBVSxFQUNWUCxZQUFZLEVBQ1pZLFdBQVcsRUFDWC9CLFNBQVUsR0FDVmdCLE9BQVFBLEVBQ1JsQixLQUFNQSxFQUNObUIsTUFBT0EsRUFDUGxCLEtBQU0sS0FDTmlDLE9BQVFBLEVBQ1JDLFNBQVMsR0FLYixPQWtLSixTQUE4QnhFLEVBQVEyQixFQUFNdEMsR0FDeENpQixPQUFPQyxlQUFlUCxFQUFRMkIsRUFBTSxDQUNoQ3RDLE1BQU9BLEVBQ1BjLFlBQVksRUFDWkUsVUFBVSxJQXhLZG9FLENBQXFCakIsRUFBTzdDLEVBQWFzQixHQUN6Q0EsRUFBTW9DLE1BQU0zRyxLQUFLdUUsR0FDVnVCLEVBR1gsU0FBU2UsSUFDTHBJLEtBQUtxSSxTQUFVLEVBR25CLFNBQVNYLEVBQU81QixHQUNaLE9BQU9BLEVBQU1LLE1BQVFMLEVBQU1JLEtBeUIvQixTQUFTNkIsRUFBWWpDLEdBQ1pBLEVBQU1nQyxXQUNQaEMsRUFBTWdDLFVBQVcsRUFDYmhDLEVBQU1zQixRQUFRVyxFQUFZakMsRUFBTXNCLFNBSTVDLFNBQVNPLEVBQVk3QixHQUNaQSxFQUFNSyxPQUFNTCxFQUFNSyxLQUFPbkIsRUFBWWMsRUFBTUksT0FnQnBELFNBQVN1QixFQUFnQjNCLEdBQ3JCLElBQXNCLElBQWxCQSxFQUFNdUMsUUFBa0IsTUFBTSxJQUFJNUksTUFBTSx1SEFBeUg4SSxLQUFLQyxVQUFVMUMsRUFBTUssTUFBUUwsRUFBTUksT0FrRTVNLFNBQVN1QyxFQUFpQjNDLEdBUXRCLElBUEEsSUFBSUksRUFBT0osRUFBTUksS0FDYm1CLEVBQVF2QixFQUFNdUIsTUFLZHFCLEVBQU92RSxPQUFPdUUsS0FBS3JCLEdBQ2QvRixFQUFJb0gsRUFBS25JLE9BQVMsRUFBR2UsR0FBSyxFQUFHQSxJQUVsQyxRQUFzQjRELElBQWxCZ0IsRUFBS3dDLEVBQUtwSCxNQUFzQnlELEVBQUltQixFQUFNd0MsRUFBS3BILElBQy9DLE9BQU8sRUFNZixPQUFPb0gsRUFBS25JLFNBQVc0RCxPQUFPdUUsS0FBS3hDLEdBQU0zRixPQUc3QyxTQUFTb0ksRUFBZ0I3QyxHQUNyQixJQUFJdUIsRUFBUXZCLEVBQU11QixNQUVsQixHQUFJQSxFQUFNOUcsU0FBV3VGLEVBQU1JLEtBQUszRixPQUFRLE9BQU8sRUFRL0MsSUFBSXdELEVBQWFJLE9BQU95RSx5QkFBeUJ2QixFQUFPQSxFQUFNOUcsT0FBUyxHQUV2RSxTQUFJd0QsR0FBZUEsRUFBV3lELEtBZWxDLElBQUlxQixFQUFjMUUsT0FBTzJFLE9BQU8sQ0FDL0I3QixPQUFRQSxFQUNSQyxhQUFjQSxFQUNkNkIsYUEzTkQsU0FBc0JDLEVBQVFDLEVBQVdDLEdBQ3JDLElBQUloQixFQUFRaEIsSUFDWmdCLEVBQU1pQixTQUFRLFNBQVVyRCxHQUNwQixPQUFPQSxFQUFNeUIsWUFBYSxVQUVmckMsSUFBWDhELEdBQXdCQSxJQUFXQyxJQUMvQkMsR0FtSFosU0FBU0UsRUFBdUJDLEdBQzVCLElBQUtBLEdBQThFLGlCQUFqRCxJQUFYQSxFQUF5QixZQUFjbEcsRUFBUWtHLElBQXVCLE9BQzdGLElBQUl2RCxFQUFRdUQsRUFBTzdFLEdBQ25CLElBQUtzQixFQUFPLE9BQ1osSUFBSUksRUFBT0osRUFBTUksS0FDYm1CLEVBQVF2QixFQUFNdUIsTUFDZGpCLEVBQVdOLEVBQU1NLFNBRXJCLEdBQUtoRixNQUFNdUQsUUFBUTBFLElBb0JaLEdBQUlWLEVBQWdCN0MsR0FBUSxDQUcvQixHQUZBaUMsRUFBWWpDLEdBQ1pNLEVBQVM3RixRQUFTLEVBQ2Q4RyxFQUFNOUcsT0FBUzJGLEVBQUszRixPQUNwQixJQUFLLElBQUllLEVBQUkrRixFQUFNOUcsT0FBUWUsRUFBSTRFLEVBQUszRixPQUFRZSxJQUN4QzhFLEVBQVM5RSxJQUFLLE9BR2xCLElBQUssSUFBSW9GLEVBQUtSLEVBQUszRixPQUFRbUcsRUFBS1csRUFBTTlHLE9BQVFtRyxJQUMxQ04sRUFBU00sSUFBTSxFQUd2QixJQUFLLElBQUlDLEVBQU0sRUFBR0EsRUFBTVUsRUFBTTlHLE9BQVFvRyxTQUVaekIsSUFBbEJrQixFQUFTTyxJQUFvQnlDLEVBQXVCL0IsRUFBTVYsVUFoQ2xFeEMsT0FBT3VFLEtBQUtyQixHQUFPOEIsU0FBUSxTQUFVbEcsUUFFZmlDLElBQWRnQixFQUFLakQsSUFBdUI4QixFQUFJbUIsRUFBTWpELEdBRzlCbUQsRUFBU25ELElBRWpCbUcsRUFBdUIvQixFQUFNcEUsS0FKN0JtRCxFQUFTbkQsSUFBTyxFQUNoQjhFLEVBQVlqQyxPQU9wQjNCLE9BQU91RSxLQUFLeEMsR0FBTWlELFNBQVEsU0FBVWxHLFFBRWJpQyxJQUFmbUMsRUFBTXBFLElBQXVCOEIsRUFBSXNDLEVBQU9wRSxLQUN4Q21ELEVBQVNuRCxJQUFPLEVBQ2hCOEUsRUFBWWpDLE9BNUlIc0QsQ0FBdUJILEdBb0doRCxTQUEwQmYsR0FLdEIsSUFBSyxJQUFJNUcsRUFBSTRHLEVBQU0zSCxPQUFTLEVBQUdlLEdBQUssRUFBR0EsSUFBSyxDQUN4QyxJQUFJd0UsRUFBUW9DLEVBQU01RyxJQUNLLElBQW5Cd0UsRUFBTWdDLFdBQ0YxRyxNQUFNdUQsUUFBUW1CLEVBQU1JLE1BQ2hCeUMsRUFBZ0I3QyxJQUFRaUMsRUFBWWpDLEdBQ2pDMkMsRUFBaUIzQyxJQUFRaUMsRUFBWWpDLEtBNUdwRHdELENBQWlCcEIsS0FvTnhCZixZQUFhQSxJQU1Wb0MsRUFBVyxHQUNYQyxFQUFpQixXQUNqQixPQUFPRCxFQUFTQSxFQUFTaEosT0FBUyxJQU10QyxTQUFTa0osRUFBY3ZELEVBQU1rQixHQUN6QixJQUFJdEIsRUFBUSxDQUVSb0MsTUFBT2QsRUFBU0EsRUFBT2MsTUFBUXNCLElBRS9CMUIsVUFBVSxFQUVWSyxXQUFXLEVBRVgvQixTQUFVLEdBRVZnQixPQUFRQSxFQUVSbEIsS0FBTUEsRUFFTm1CLE1BQU8sS0FFUHFDLE9BQVEsR0FFUnZELEtBQU0sS0FFTmlDLE9BQVEsTUFHUnVCLEVBQU92SSxNQUFNdUQsUUFBUXVCLEdBQVEwRCxNQUFNQyxVQUFVLENBQUMvRCxHQUFRZ0UsR0FBY0YsTUFBTUMsVUFBVS9ELEVBQU9pRSxHQUMzRjNCLEVBQVN1QixFQUFLdkIsT0FDZDRCLEVBQVFMLEVBQUtLLE1BTWpCLE9BSkFsRSxFQUFNdUIsTUFBUTJDLEVBQ2RsRSxFQUFNc0MsT0FBU0EsRUFFZnRDLEVBQU1vQyxNQUFNM0csS0FBS3VFLEdBQ1ZrRSxFQUdYLElBQUlELEVBQWMsQ0FDZHZDLElBcUNKLFNBQWUxQixFQUFPTixHQUNsQixHQUFJQSxJQUFTaEIsRUFBYSxPQUFPc0IsRUFDakMsSUFBSTRELEVBQVM1RCxFQUFNNEQsT0FJbkIsSUFBSzVELEVBQU1nQyxVQUFZL0MsRUFBSTJFLEVBQVFsRSxHQUMvQixPQUFPa0UsRUFBT2xFLEdBR2xCLElBQUl0QyxFQUFRK0csRUFBU25FLEdBQU9OLEdBQzVCLEdBQUlNLEVBQU1xQyxZQUFjekQsRUFBWXhCLEdBQVEsT0FBT0EsRUFHbkQsR0FBSTRDLEVBQU1nQyxTQUFVLENBRWhCLEdBQUk1RSxJQUFVNEMsRUFBTUksS0FBS1YsR0FBTyxPQUFPdEMsRUFFdkN3RyxFQUFTNUQsRUFBTUssS0FHbkIsT0FBT3VELEVBQU9sRSxHQUFRaUUsRUFBY3ZHLEVBQU80QyxJQXpEM0NmLElBQUssU0FBZ0JsQixFQUFRMkIsR0FDekIsT0FBT0EsS0FBUXlFLEVBQVNwRyxJQUU1QnFHLFFBQVMsU0FBaUJyRyxHQUN0QixPQUFPc0csUUFBUUQsUUFBUUQsRUFBU3BHLEtBR3BDZ0UsSUFxREosU0FBZS9CLEVBQU9OLEVBQU10QyxHQUN4QixJQUFLNEMsRUFBTWdDLFNBQVUsQ0FLakIsR0FEa0I1RSxFQUFRd0MsRUFBR0ksRUFBTUksS0FBS1YsR0FBT3RDLElBQVVBLElBQVU0QyxFQUFNNEQsT0FBT2xFLEdBQVFFLEVBQUdJLEVBQU1JLEtBQUtWLEdBQU90QyxJQUFVc0MsS0FBUU0sRUFBTUksS0FDcEgsT0FBTyxFQUN4QmtFLEVBQWN0RSxHQUlsQixPQUZBQSxFQUFNTSxTQUFTWixJQUFRLEVBQ3ZCTSxFQUFNSyxLQUFLWCxHQUFRdEMsR0FDWixHQS9EUG1ILGVBa0VKLFNBQXdCdkUsRUFBT04sU0FFRk4sSUFBckJZLEVBQU1JLEtBQUtWLElBQXVCQSxLQUFRTSxFQUFNSSxRQUNoREosRUFBTU0sU0FBU1osSUFBUSxFQUN2QjRFLEVBQWN0RSxJQUVkQSxFQUFNSyxhQUFhTCxFQUFNSyxLQUFLWCxHQUNsQyxPQUFPLEdBeEVQb0QseUJBMkVKLFNBQWtDOUMsRUFBT04sR0FDckMsSUFBSThFLEVBQVF4RSxFQUFNZ0MsU0FBV2hDLEVBQU1LLEtBQU9wQixFQUFJZSxFQUFNNEQsT0FBUWxFLEdBQVFNLEVBQU00RCxPQUFTNUQsRUFBTUksS0FDckZuQyxFQUFhb0csUUFBUXZCLHlCQUF5QjBCLEVBQU85RSxJQUNyRHpCLEdBQWdCM0MsTUFBTXVELFFBQVEyRixJQUFtQixXQUFUOUUsSUFBb0J6QixFQUFXRSxjQUFlLEdBQzFGLE9BQU9GLEdBOUVQSyxlQWlGSixXQUNJLE1BQU0sSUFBSTNFLE1BQU0saUVBakZoQjhLLGVBQWdCLFdBQ1osTUFBTSxJQUFJOUssTUFBTSxnREFJcEJxSyxFQUFhLEdBZ0JqQixTQUFTRyxFQUFTbkUsR0FDZCxPQUFPQSxFQUFNSyxNQUFRTCxFQUFNSSxLQThEL0IsU0FBU2tFLEVBQWN0RSxHQUNkQSxFQUFNZ0MsV0FDUGhDLEVBQU1nQyxVQUFXLEVBQ2pCaEMsRUFBTUssS0FBT3JCLEVBQU9FLEVBQVljLEVBQU1JLE1BQU9KLEVBQU00RCxRQUNuRDVELEVBQU00RCxPQUFTLEtBQ1g1RCxFQUFNc0IsUUFBUWdELEVBQWN0RSxFQUFNc0IsU0FuRjlDL0IsRUFBSzBFLEdBQWEsU0FBVTlHLEVBQUt1SCxHQUM3QlYsRUFBVzdHLEdBQU8sV0FFZCxPQURBNUIsVUFBVSxHQUFLQSxVQUFVLEdBQUcsR0FDckJtSixFQUFHL0ksTUFBTXpCLEtBQU1xQixlQUc5QnlJLEVBQVdPLGVBQWlCLFNBQVV2RSxFQUFPTixHQUN6QyxHQUFJaUYsTUFBTUMsU0FBU2xGLElBQVEsTUFBTSxJQUFJL0YsTUFBTSwyREFBNkQrRixHQUN4RyxPQUFPdUUsRUFBWU0sZUFBZXRLLEtBQUtDLEtBQU04RixFQUFNLEdBQUlOLElBRTNEc0UsRUFBV2pDLElBQU0sU0FBVS9CLEVBQU9OLEVBQU10QyxHQUNwQyxHQUFhLFdBQVRzQyxHQUFxQmlGLE1BQU1DLFNBQVNsRixJQUFRLE1BQU0sSUFBSS9GLE1BQU0sb0VBQXNFK0YsR0FDdEksT0FBT3VFLEVBQVlsQyxJQUFJOUgsS0FBS0MsS0FBTThGLEVBQU0sR0FBSU4sRUFBTXRDLElBMkV0RCxJQUFJeUgsRUFBY3hHLE9BQU8yRSxPQUFPLENBQy9CN0IsT0FBUXNDLEVBQ1JyQyxhQUFjc0MsRUFDZFQsYUFsSkQsYUFtSkM1QixZQUFhc0MsSUFLZCxJQUFJbUIsRUFBaUIsQ0FDakJDLFdBQTZCLG9CQUFWakIsT0FBNEMsb0JBQVpPLFFBQ25EVyxnQkFBK0IsSUFBWnpMLEdBQTBGLG1CQUpqSCxhQUl3R3FELEtBQ3BHcUksU0FBVSxLQUNWQyxTQUFVLEtBQ1ZDLE9BQVEsTUE2TVJDLEVBQVEsSUExTUEsV0FDUixTQUFTQyxFQUFNQyxHQUNYN0gsRUFBZXZELEtBQU1tTCxHQUVyQnJHLEVBQU85RSxLQUFNNEssRUFBZ0JRLEdBQzdCcEwsS0FBS3FMLGNBQWNyTCxLQUFLNkssWUFDeEI3SyxLQUFLc0wsUUFBVXRMLEtBQUtzTCxRQUFRQyxLQUFLdkwsTUFpTXJDLE9BOUxBMkQsRUFBWXdILEVBQU8sQ0FBQyxDQUNoQmxJLElBQUssVUFDTEMsTUFBTyxTQUFpQmdELEVBQU1zRixFQUFRQyxHQUNsQyxJQUFJQyxFQUFRMUwsS0FHWixHQUFvQixtQkFBVGtHLEdBQXlDLG1CQUFYc0YsRUFBdUIsQ0FDNUQsSUFBSUcsRUFBY0gsRUFJbEIsT0FIQUEsRUFBU3RGLEVBR0YsV0FDSCxJQUFLLElBQUkwRixFQUFPdkssVUFBVWQsT0FBUVksRUFBT0MsTUFBTXdLLEVBQU8sRUFBSUEsRUFBTyxFQUFJLEdBQUlDLEVBQU8sRUFBR0EsRUFBT0QsRUFBTUMsSUFDNUYxSyxFQUFLMEssRUFBTyxHQUFLeEssVUFBVXdLLEdBRy9CLElBQUkzRixFQUFPN0UsVUFBVWQsT0FBUyxRQUFzQjJFLElBQWpCN0QsVUFBVSxHQUFtQkEsVUFBVSxHQUFLc0ssRUFDL0UsT0FBT0QsRUFBTUosUUFBUXBGLEdBQU0sU0FBVW1CLEdBQ2pDLElBQUl5RSxFQUVKLE9BQVFBLEVBQVVOLEdBQVF6TCxLQUFLMEIsTUFBTXFLLEVBQVMsQ0FBQ3pFLEVBQU9BLEdBQU83RyxPQUFPVyxRQU81RSxHQUFzQixtQkFBWHFLLEVBQXVCLE1BQU0sSUFBSS9MLE1BQU0sNEZBQ2xELFFBQXNCeUYsSUFBbEJ1RyxHQUF3RCxtQkFBbEJBLEVBQThCLE1BQU0sSUFBSWhNLE1BQU0sb0VBRzVGLElBQUl1SixPQUFTLEVBRWIsR0FBS3RFLEVBQVl3QixHQUtaLEdBQUl6QixFQUFReUIsSUFFVCxRQUFlaEIsS0FEZjhELEVBQVN3QyxFQUFPekwsS0FBS21HLEVBQU1BLElBQ0QsT0FBT0EsTUFHaEMsQ0FDR2xHLEtBQUtpSCxPQUFPMUYsS0FBSyxJQUNqQixJQUFJMEgsRUFBWWpKLEtBQUttSCxZQUFZakIsR0FDakMsSUFDSThDLEVBQVN3QyxFQUFPekwsS0FBS2tKLEVBQVdBLEdBQ2hDakosS0FBSytJLGFBQWFDLEVBQVFDLElBQWF3QyxHQUd2QyxJQUFJekYsRUFBVXlGLEdBQWlCLEdBQzNCeEYsRUFBaUJ3RixHQUFpQixHQUd0QyxRQUFldkcsSUFBWDhELEdBQXdCQSxJQUFXQyxFQUNuQ0QsRUFBU2hKLEtBQUsrTCxTQUFTOUMsRUFBVyxHQUFJakQsRUFBU0MsT0FHOUMsQ0FFRyxHQUFJZ0QsRUFBVXpFLEdBQWFzRCxTQUFVLE1BQU0sSUFBSXJJLE1BQU0scUhBR2pEaUYsRUFBWXNFLEtBQVNBLEVBQVNoSixLQUFLK0wsU0FBUy9DLElBRTVDeUMsSUFDQXpGLEVBQVF6RSxLQUFLLENBQ1RrRixHQUFJLFVBQ0pELEtBQU0sR0FDTnRELE1BQU84RixJQUVYL0MsRUFBZTFFLEtBQUssQ0FDaEJrRixHQUFJLFVBQ0pELEtBQU0sR0FDTnRELE1BQU9nRCxNQUl6QixRQUNFbEcsS0FBS2tILGVBQWVpQyxTQUFRLFNBQVVyRCxHQUNsQyxPQUFPQSxFQUFNc0MsWUFFakJwSSxLQUFLaUgsT0FBTytFLE1BRWhCUCxHQUFpQkEsRUFBY3pGLEVBQVNDLFFBbERoRCxRQUFlZixLQURmOEQsRUFBU3dDLEVBQU90RixJQUNVLE9BQU9BLEVBcURyQyxPQUFPOEMsSUFBV3pFLE9BQVVXLEVBQVk4RCxJQUU3QyxDQUNDL0YsSUFBSyxnQkFDTEMsTUFBTyxTQUF1QkEsR0FDMUJsRCxLQUFLOEssV0FBYTVILElBRXZCLENBQ0NELElBQUssZ0JBQ0xDLE1BQU8sU0FBdUJBLEdBQzFCbEQsS0FBSzZLLFdBQWEzSCxFQUNsQjRCLEVBQU85RSxLQUFNa0QsRUFBUXlILEVBQWM5QixLQVF4QyxDQUNDNUYsSUFBSyxXQUNMQyxNQUFPLFNBQWtCbUUsRUFBT2IsRUFBTVIsRUFBU0MsR0FDM0MsSUFBSUgsRUFBUXVCLEVBQU03QyxHQUNsQixJQUFLc0IsRUFDRCxPQUFJM0IsT0FBTzhILFNBQVM1RSxHQUFlQSxFQUM1QnJILEtBQUtrTSxhQUFhN0UsR0FHN0IsR0FBSXZCLEVBQU1vQyxRQUFVbEksS0FBS2tILGVBQ3JCLE9BQU9HLEVBRVgsSUFBS3ZCLEVBQU1nQyxTQUFVLE9BQU9oQyxFQUFNSSxLQUNsQyxJQUFLSixFQUFNcUMsVUFBVyxDQUdsQixHQUZBckMsRUFBTXFDLFdBQVksRUFDbEJuSSxLQUFLa00sYUFBYXBHLEVBQU11QixNQUFPYixFQUFNUixFQUFTQyxHQUMxQ2pHLEtBQUtnTCxTQUFVLENBQ2YsSUFBSTVFLEVBQVdOLEVBQU1NLFNBRXJCLElBQUssSUFBSVosS0FBUVksRUFDYkEsRUFBU1osSUFBU3hGLEtBQUtnTCxTQUFTbEYsRUFBT04sR0FHM0N4RixLQUFLaUwsUUFBUWpMLEtBQUtpTCxPQUFPbkYsR0FJekI5RixLQUFLOEssWUFBcUMsSUFBdkI5SyxLQUFLaUgsT0FBTzFHLFFBQy9CNEQsT0FBTzJFLE9BQU9oRCxFQUFNSyxNQUdwQkgsR0FBU0gsRUFBZ0JDLEVBQU9VLEVBQU1SLEVBQVNDLEdBRXZELE9BQU9ILEVBQU1LLE9BT2xCLENBQ0NsRCxJQUFLLGVBQ0xDLE1BQU8sU0FBc0JpSixFQUFNM0YsRUFBTVIsRUFBU0MsR0FDOUMsSUFBSW1HLEVBQVNwTSxLQUVUOEYsRUFBUXFHLEVBQUszSCxHQUNic0IsSUFDQXFHLEVBQU9uTSxLQUFLNkssV0FBYS9FLEVBQU1LLEtBQU9MLEVBQU1LLEtBQU9uQixFQUFZYyxFQUFNdUIsUUFHekUsSUFBSTBELEVBQVcvSyxLQUFLK0ssU0E4QnBCLE9BREExRixFQUFLOEcsR0EzQmtCLFNBQVNFLEVBQWlCN0csRUFBTXRDLEVBQU9rRSxHQUUxRCxJQUFJa0YsSUFBWXhHLEdBQVNzQixJQUFXK0UsRUFFcEMsR0FBSTFILEVBQVF2QixJQU9SLEdBTEFrRSxFQUFPNUIsR0FBUXRDLEVBRWY4QyxHQUFXc0csSUFBWXhHLEVBQU1NLFNBQVNaLEdBQVE0RyxFQUFPTCxTQUFTN0ksRUFBT3NELEVBQUtoRyxPQUFPZ0YsR0FBT1EsRUFBU0MsR0FBa0JtRyxFQUFPTCxTQUFTN0ksR0FHL0hvSixHQUFXcEosSUFBVTRDLEVBQU1JLEtBQUtWLEdBQU8sV0FHMUMsSUFBSThHLEdBQVc1RyxFQUFHeEMsRUFBTzRDLEVBQU1JLEtBQUtWLElBQ2pDLE9BR0tkLEVBQVl4QixLQUFXaUIsT0FBTzhILFNBQVMvSSxJQUN4Q21DLEVBQUtuQyxFQUFPbUosR0FHcEJDLEdBQVd2QixHQUNYQSxFQUFTakYsRUFBT04sRUFBTXRDLE1BS3ZCaUosTUFHUmhCLEVBdk1DLElBK05SRyxFQUFVSixFQUFNSSxRQXlCQ0EsR0E5cUJyQixTQUFzQmpFLEVBQU9yQixHQUN6QixJQUFLLElBQUkxRSxFQUFJLEVBQUdBLEVBQUkwRSxFQUFRekYsT0FBUWUsSUFBSyxDQUNyQyxJQUFJaUwsRUFBUXZHLEVBQVExRSxHQUNoQmtGLEVBQU8rRixFQUFNL0YsS0FFakIsR0FBb0IsSUFBaEJBLEVBQUtqRyxRQUE2QixZQUFiZ00sRUFBTTlGLEdBQzNCWSxFQUFRa0YsRUFBTXJKLFVBQ1gsQ0FFSCxJQURBLElBQUlnRCxFQUFPbUIsRUFDRm1GLEVBQU0sRUFBR0EsRUFBTWhHLEVBQUtqRyxPQUFTLEVBQUdpTSxJQUVyQyxLQURBdEcsRUFBT0EsRUFBS00sRUFBS2dHLE1BQzRELGlCQUEvQyxJQUFUdEcsRUFBdUIsWUFBYy9DLEVBQVErQyxJQUFxQixNQUFNLElBQUl6RyxNQUFNLDZDQUErQytHLEVBQUtpRyxLQUFLLE1BRXBLLElBQUl4SixFQUFNdUQsRUFBS0EsRUFBS2pHLE9BQVMsR0FDN0IsT0FBUWdNLEVBQU05RixJQUNWLElBQUssVUFDTCxJQUFLLE1BRURQLEVBQUtqRCxHQUFPc0osRUFBTXJKLE1BQ2xCLE1BQ0osSUFBSyxTQUNELEdBQUk5QixNQUFNdUQsUUFBUXVCLEdBQU8sQ0FDckIsR0FBSWpELElBQVFpRCxFQUFLM0YsT0FBUyxFQUFHLE1BQU0sSUFBSWQsTUFBTSwwREFBNER3RCxFQUFNLGFBQWVpRCxFQUFLM0YsUUFDbkkyRixFQUFLM0YsUUFBVSxjQUVSMkYsRUFBS2pELEdBRWhCLE1BQ0osUUFDSSxNQUFNLElBQUl4RCxNQUFNLGdDQUFrQzhNLEVBQU05RixNQUl4RSxPQUFPWSxLQWdwQkksUSw0cERDNzJCZixJQW9CZXFGLEVBcEJRLFNBQUNDLEdBQW1DLElBQWxCQyxFQUFrQix1REFBVCxLQUNoRCxnTUFDVSxDQUNOQyxVQUFXLE9BRmYsK0RBS3NCLFdBQ2xCRixJQUNHRyxNQUFLLFNBQUFDLEdBQ0osRUFBS0MsU0FBUyxDQUFDSCxVQUFXRSxFQUFHLGVBUnJDLCtCQWFJLElBQU1FLEVBQUlqTixLQUFLOEYsTUFBTStHLFVBQ3JCLE9BQU9JLEVBQUksa0JBQUNBLEVBQU1qTixLQUFLOEQsT0FBVzhJLE1BZHRDLEdBQXFCTSxjQ0RSLFdBQUNwSixHQUFVLElBRXRCcUosRUFHRXJKLEVBSEZxSixPQUNBQyxFQUVFdEosRUFGRnNKLGNBQ0FDLEVBQ0V2SixFQURGdUosYUFFRixPQUNFLDRCQUVNRixFQUFPRyxLQUFJLFNBQUM1TCxFQUFPNkwsR0FDakIsSUFBTUMsRUFBV0osSUFBa0JHLEVBQ25DLE9BQ0Usd0JBQ0VFLFFBQVMsV0FBT0osRUFBYUUsSUFDN0JHLFVBQVMsVUFBS0YsRUFBVyxTQUFXLEtBRWpDOUwsUUNsQkosa0JBQUdpTSxFQUFILEVBQUdBLElBQUtDLEVBQVIsRUFBUUEsZ0JBQWlCQyxFQUF6QixFQUF5QkEsVUFBekIsT0FBd0MsV0FBeUJDLEdBQU8sSUFBOUJDLEVBQThCLEVBQTlCQSxNQUFPQyxFQUF1QixFQUF2QkEsUUFBdUIsRUFBZEMsS0FDdkVOLEVBQUlPLE9BQU9KLEVBQUdLLFVBQVUsYUFBY0wsRUFBR00sSUFBSUMsWUFDMUN2QixNQUFLLFNBQUN3QixHQUNMVCxFQUFVVSxPQUFPRCxFQUFRRSxJQUN6QkYsRUFBUUcsU0FBVyxZQUNuQmIsR0FBZ0IsU0FBQ2MsR0FDZixPQUFPQSxFQUFZcEIsS0FBSSxTQUFBcUIsR0FDckIsT0FBT0EsRUFBRUgsS0FBT0YsRUFBUUUsR0FDcEJGLEVBQ0FLLFFBR1JYLEVBQVEsWUFYWixPQWFTLFdBQ0xELEVBQU0sZUNmRyxhQUE2Q2EsR0FBN0MsSUFBR2YsRUFBSCxFQUFHQSxVQUFXRCxFQUFkLEVBQWNBLGdCQUFpQkQsRUFBL0IsRUFBK0JBLElBQUtrQixFQUFwQyxFQUFvQ0EsT0FBcEMsT0FDYixXQUF5QmYsR0FBTyxJQUE5QkMsRUFBOEIsRUFBOUJBLE1BQU9DLEVBQXVCLEVBQXZCQSxRQUNEYyxHQUR3QixFQUFkYixLQUNKSCxFQUFHSyxVQUFVLGNBQ3pCTixFQUFVVSxPQUFPTyxHQUNqQmxCLEdBQWdCLFNBQUNjLEdBQ2YsT0FBT0EsRUFBWUssUUFBTyxTQUFBSixHQUFDLE9BQUlBLEVBQUVILEtBQU9NLFFBRzlCLFVBQVRGLEVBS0hqQixFQUFHLE9BQVFtQixHQUNSaEMsTUFBSyxXQUNKK0IsRUFBTyxHQUNQYixFQUFRLGFBSFosT0FLUyxTQUFDbE8sR0FDTmlPLEVBQU0sYUFWUkMsRUFBUSxZQ1RDLGtCQUFHSCxFQUFILEVBQUdBLFVBQVdGLEVBQWQsRUFBY0EsSUFBS0MsRUFBbkIsRUFBbUJBLGdCQUFuQixPQUNiLFdBQXlCRSxHQUFPLElBQTlCQyxFQUE4QixFQUE5QkEsTUFBT0MsRUFBdUIsRUFBdkJBLFFBQ0R0TSxHQUR3QixFQUFkdU0sS0FDRkgsRUFBR0ssVUFBVSxpQkFDckJhLEVBQVFsQixFQUFHSyxVQUFVLGFBQ3JCYyxFQUFXcEIsRUFBVXJHLElBQUl3SCxHQUFPdE4sTUFFaEN3TixFQUFVcEIsRUFBR00sSUFBSUMsV0FDakIzTSxHQUFTdU4sRUFJVkMsRUFLTHZCLEVBQUl2SSxPQUFPMUQsR0FBU3VOLEVBQVVDLEdBQzNCcEMsTUFBSyxTQUFDd0IsR0FDTFQsRUFBVVUsT0FBT1MsR0FDakJwQixHQUFnQixTQUFDYyxHQUNmQSxFQUFZLEdBQUtKLEVBQ2pCSSxFQUFZLEdBQUdELFNBQVcsZUFFNUJULEVBQVEsYUFQWixPQVNTLFNBQUNsTyxHQUNOaU8sRUFBTSxhQWRSQSxFQUFNLFdBSk5BLEVBQU0sYSxxQkNQRyxrQkFBR0YsRUFBSCxFQUFHQSxVQUFXRCxFQUFkLEVBQWNBLGdCQUFpQmlCLEVBQS9CLEVBQStCQSxPQUEvQixPQUNiLFdBQXlCZixFQUFJcUIsR0FBVyxJQUF0Q3BCLEVBQXNDLEVBQXRDQSxNQUNNck0sR0FEZ0MsRUFBL0JzTSxRQUErQixFQUF0QkMsS0FDRmtCLEVBQU9DLFdBQWFELEVBQU9DLFVBQVVDLFFBQ25ELEdBQUkzTixFQUFKLENBSUFvTSxFQUFHd0IsVUFBVSxlQUFnQjVOLEdBQzdCLElBQU1zTixFQUFRTyxJQUFLQyxLQUFLQyxPQUFPeEssTUFBTSxJQUMvQnFKLEVBQVUsQ0FDZDVNLFFBQ0E4TSxHQUFJUSxFQUNKUCxTQUFVLFFBQ1ZTLFFBQVMsSUFFWHJCLEVBQVVoRyxJQUFJbUgsRUFBT1YsR0FDckJWLEdBQWdCLFNBQUNjLEdBQ2ZBLEVBQVlnQixRQUFRcEIsTUFDbkIsV0FDRE8sRUFBTyxXQWZQZCxFQUFNLCtCQ3VERzRCLEVBN0NhLFNBQUNDLEVBQU9uQixHQUc5Qm1CLEVBREZqQyxJQUNFaUMsRUFER2hDLGdCQUNIZ0MsRUFEb0JmLE9BRnVCLElBRWZnQixFQUM1QkQsRUFENEJDLEtBUzFCQyxHQVJGRixFQURrQy9CLFVBU1gsU0FBQ3JELEVBQUl1RixHQVc5QixNQVY0QixDQUMxQjFJLE1BQU8sQ0FBQyxXQUNSMkksVUFBVyxDQUFDLFdBT3NCdkIsR0FBVXdCLFNBQVNGLEdBQ3RDdkYsRUFMTSxTQUFDLElBQ3RCdUQsRUFEb0MsRUFBWkEsT0FDbEIsV0F3QlYsTUFqQmlCLENBQUMsQ0FDaEJyTCxLQUFNLFNBQ044SCxHQUFJc0YsRUFBbUJJLEVBQWVOLEdBQVEsV0FDN0MsQ0FDRGxOLEtBQU0sd0JBQ044SCxHQUFJMkYsRUFBZVAsRUFBT25CLElBQ3pCLENBQ0QvTCxLQUFNLFVBQ044SCxHQUFJc0YsRUFBbUJNLEVBQWVSLEdBQVEsWUFDN0MsQ0FDRGxOLEtBQU0sT0FDTjhILEdBQUksV0FBUXFGLE1BQ1gsQ0FDRG5OLEtBQU0sTUFDTjhILEdBQUk2RixFQUFZVCxNLDRnQ0N0RHBCLElBRU1VLEVBQWMsSUFBSUMsT0FBTyxrQkFlekIxSSxFQUFNLFNBQUM1RSxFQUFLdU4sR0FDaEJDLGFBQWFDLFFBbEJJLGdCQW1CRnpOLEVBQ2JzRixLQUFLQyxVQUFVZ0ksSUFmakJDLGFBQWFDLFFBSmtCLGdCQU03QmxCLEtBQUtDLFFBa0JIakksRUFBTSxTQUFDdkUsR0FDWCxHQUFLQSxFQUdMLE9BQU9zRixLQUFLb0ksTUFBTUYsYUFBYUcsUUE3QmQsZ0JBOEJGM04sS0FJWDJFLEVBQU8sU0FBQzNFLEdBQ1osR0FBS0EsRUFHTCxPQUFPc0YsS0FBS29JLE1BQU1GLGFBQWFHLFFBQzdCM04sS0FJRTROLEVBQW9CLFdBQ3hCLE9BQU8xTSxPQUFPdUUsS0FBSytILGNBQ2hCMUIsUUFBTyxTQUFBK0IsR0FBQyxPQUFJUixFQUFZUyxLQUFLRCxPQUc1QnZDLEVBQVMsU0FBQ3RMLEdBQ2R3TixhQUFhTyxXQWpESSxnQkFrREYvTixJQUlYZ08sRUFBTyxXQUNYLE9BQU9KLElBQW9CdkQsSUFBSTFGLElBRzNCc0osRUFBZ0IsU0FBQ0MsR0FDckIsSUFBTUMsRUFBWUgsSUFDWkksRUFBUSxHQUtkLEdBSkFGLEVBQUloSSxTQUFRLFlBQVUsSUFBUnFGLEVBQVEsRUFBUkEsR0FDWjZDLEVBQU03QyxJQUFNLE1BR1QyQyxFQUFJNVEsT0FDUCxPQUFPNlEsRUFHVCxJQUFNRSxFQUFXRixFQUNkckMsUUFBTyxZQUFZLElBQVRQLEVBQVMsRUFBVEEsR0FDVCxPQUFRNkMsRUFBTTdDLE1BR2xCLGtCQUNLOEMsRUFBU2hFLEtBQUksU0FBQXFCLEdBQUMsVUFBTUYsU0FBVSxTQUFZRSxPQUQvQyxFQUVLd0MsRUFBSTdELEtBQUksU0FBQXFCLEdBQUMsVUFBTUYsU0FBVSxhQUFnQkUsU0FJMUM0QyxFQUFVLFdBQ2RWLElBQW9CMUgsU0FBUSxTQUFBMkgsR0FDMUJMLGFBQWFPLFdBQVdGLE8sMjFCQzFFNUIsSUFBTVUsRUFBU0MsR0FDYixXQUNFLE9BQU8sMERBR1AseUJBQ0VDLE1BQU8sQ0FDTEMsTUFBTyxtQkFDUEMsT0FBUSxPQUNSQyxPQUFRLGtCQUNSQyxXQUFZLGNBTUNDLEUsWUFDbkIsV0FBWWpPLEdBQU8sTSxJQUFBLE8sNEZBQUEsUyxFQUNqQixLLEVBQUEsZUFBTUEsR0FBTixHLGdEQURpQixpQkFZVixTQUFDc0osR0FBbUIsRUFBS0osU0FBUyxDQUFFSSxxQkFaMUIseUJBY0YsU0FBQzRFLEdBQWlDLElBQXRCQyxFQUFzQix1REFBZixrQkFBTSxNQUNwQzdRLE1BQU11RCxRQUFRcU4sR0FDaEIsRUFBS2hGLFNBQVMsQ0FDWmtGLFNBQVVGLElBS2QsRUFBS2hGLFVBQVMsU0FBQW1GLEdBQVMsTUFBSyxDQUMxQkQsU0FBVTVHLFlBQVE2RyxFQUFVRCxTQUFVRixNQUNwQ0MsTUF4QmEsc0JBMkJMLFdBQ1osSUFBTUcsRUFBYyxFQUFLdE0sTUFBTW9NLFNBQzdCLEVBQUtwTSxNQUFNc0gsZUFHVHdCLEVBRGlCZixFQUFjdUUsRUFBWTVELElBRTNDLGVBQ0EsY0FNSixPQUpLNEQsRUFBWTNNLGVBQWUsZUFDOUJtSixFQUFPLFlBR0Ysa0JBQW9CQSxLQXhDVix5QkEyQ0YsU0FBQUQsR0FDZixnQkFBVUEsRUFBRWpOLFVBNUNLLDhCQStDRyxXQUlwQixPQUhvQixFQUFLb0UsTUFBTW9NLFNBQzdCLEVBQUtwTSxNQUFNc0gsZUFFTTFMLFNBbkRGLG9DQXNEUyxTQUFDOE0sRUFBSVUsR0FDL0IsSUFBTWtELEVBQWMsRUFBS3RNLE1BQU1vTSxTQUM3QixFQUFLcE0sTUFBTXNILGVBRWJTLEVBQWNXLEVBQUksQ0FDaEI5TSxNQUFPLEVBQUsyUSxzQkFDWjVELFNBQVUyRCxFQUFZeEQsS0FDdEJKLEtBQ0FVLGVBOURlLDBCQWtFRCxXQUNoQixPQUNFLHlCQUFLeEIsVUFBVSxpQkFDYixrQkFBQyxFQUFELENBQ0VQLE9BQVEsRUFBS3JILE1BQU1vTSxTQUFTNUUsSUFBSSxFQUFLZ0YsZ0JBQ3JDakYsYUFBYyxFQUFLd0IsT0FDbkJ6QixjQUFlLEVBQUt0SCxNQUFNc0gsb0JBeEVmLHVCQThFSixXQUNiLElBQU1nRixFQUFjLEVBQUt0TSxNQUFNb00sU0FDN0IsRUFBS3BNLE1BQU1zSCxlQUVQbUYsRUFBZTFFLEVBQWN1RSxFQUFZNUQsSUFDekNnRSxFQUFlRCxRQUF5Q3JOLElBQXpCcU4sRUFBYXJELFFBQzlDcUQsRUFBYXJELFFBQ1prRCxFQUFZbEQsU0FBVyxHQUU1QixPQUNFLHlCQUFLeEIsVUFBVyxFQUFLK0UsZUFDbkIsa0JBQUNqQixFQUFELENBQ0V0TyxNQUFPc1AsRUFDUEUsVUFBV04sRUFBWTVELEdBQ3ZCbUUsZ0JBQWdCLFVBQ2hCQyxPQUFRLEVBQUtDLDBCQUNiQyxNQUFPQyxFQUFpQixDQUN0QnBGLElBQUssRUFBSzdKLE1BQU02SixJQUNoQkMsZ0JBQWlCLEVBQUtvRixlQUN0Qm5FLE9BQVEsRUFBS0EsT0FDYmdCLEtBQU0sRUFBSy9MLE1BQU0rTCxLQUNqQmhDLGFBQ0N1RSxFQUFZM0QsZ0JBbEdyQixFQUFLM0ksTUFBUSxDQUNYc0gsY0FBZSxFQUNmOEUsU0FBVSxFQUFLcE8sTUFBTW1QLE9BSk4sRSw2VUEyR2pCLE9BQ0UseUJBQUt2RixVQUFVLFFBQ1YxTixLQUFLa1Qsa0JBQ0xsVCxLQUFLbVQscUIsOEJBL0drQkMsSUFBTUMsZUNaekIsRyxVQUFBLFNBQUNKLEVBQU90RixFQUFLa0MsR0FDMUIsSUFBTXlELEVBQU9DLFlBQUUsUUFDZkQsRUFBS0UsVUFBVUMsSUFBSSxjQUNuQkMsSUFBU0MsT0FDUCxrQkFBQyxFQUFELENBQU1WLE1BQU9BLEVBQU90RixJQUFLQSxFQUFLa0MsS0FBTUEsSUFDcEN5RCxLLHVyQkNmSixJQUFNTSxHQUNLLHNDQUlJLFlBQUNDLEdBQ2QsSUFBTUMsRUFBd0JELEVBQzFCLENBQ0F6TyxPQUFRLFNBQUMxRCxFQUFPd04sR0FDZCxPQUFPNkUsUUFBUUMsV0FFakI5RixPQUFRLFNBQUNNLEVBQUlVLEdBQ1gsT0FBTytFLFlBQUksR0FBRCxPQUNMTCxHQURLLGdCQUVSLE9BRlEsR0FJTnBGLEtBQ0FVLFdBQ0cyRSxLQUdUSyxPQUFRLFNBQUMxRixHQUNQLE9BQU91RixRQUFRQyxZQUdqQixDQUNBNU8sT0FBUSxrQkFBTTJPLFFBQVFDLFdBQ3RCOUYsT0FBUSxrQkFBTTZGLFFBQVFDLFdBQ3RCRSxPQUFRLGtCQUFNSCxRQUFRQyxZQUcxQixVQUNFL0MsS0FBTSxXQUNKLE9BQU9rRCxZQUFZLEdBQUQsT0FBSVAsR0FBSixhQUVqQkUsSUM5QkQxRixHQUFNZ0csWUFBTyxLQUFNLG9CQUFxQiw4QkFDL0IsV0FDYmhHLE9BQ0FpRyxVQUFXLElBQ1hDLFFBQVMsU0FDUEMsRUFDQUMsRUFDQUMsRUFITyx1Q0FBQUMsT0FBQSxxREFLTEMsWUFHRUosRUFBVXpVLEVBUlAsdUJGRlQ0VCxJQUFTa0IsdUJBQXVCckIsWUFBRSxTRUV6QixrQkFVRSxXQVZGLGNBYURNLEVBQWVVLEVBQVVNLE1BQVFOLEVBQVVPLFNBQzdDLENBQ0FELEtBQU1OLEVBQVVNLEtBQ2hCQyxTQUFVUCxFQUFVTyxVQUVwQixLQUVFbkgsRUFBTW9ILEdBQVFsQixHQXBCYixrQ0FxQmFsRyxFQUFJc0QsUUFyQmpCLGNBcUJEZ0MsRUFyQkMseUJBc0JBLElBQUljLFNBQVEsU0FBQ0MsRUFBU2dCLEdBQzNCLElBQ0VDLEVBQWUvRCxFQUFjK0IsR0FBUXRGLEdBQUssV0FDeENxRyxJQUNBVCxZQUFFLFFBQVFDLFVBQVVqRixPQUFPLGNBQzNCMU8sWUFBVyxXQUNUcVYsVUFBWUEsU0FBU0MsS0FBSyxlQUc5QixNQUFPclYsR0FDUCxNQUFPLDZFQWhDSix5QyIsImZpbGUiOiI2LmQ5NTA0Yy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJ2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iajtcbn0gOiBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xufTtcblxuXG5cblxuXG5cblxuXG5cblxuXG52YXIgY2xhc3NDYWxsQ2hlY2sgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufTtcblxudmFyIGNyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSgpO1xuXG5cblxuXG5cbnZhciBkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIChvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufTtcblxudmFyIE5PVEhJTkcgPSB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiID8gU3ltYm9sKFwiaW1tZXItbm90aGluZ1wiKSA6IGRlZmluZVByb3BlcnR5KHt9LCBcImltbWVyLW5vdGhpbmdcIiwgdHJ1ZSk7XG5cbnZhciBEUkFGVF9TVEFURSA9IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgPyBTeW1ib2woXCJpbW1lci1zdGF0ZVwiKSA6IFwiX18kaW1tZXJfc3RhdGVcIjtcblxuZnVuY3Rpb24gaXNEcmFmdCh2YWx1ZSkge1xuICAgIHJldHVybiAhIXZhbHVlICYmICEhdmFsdWVbRFJBRlRfU1RBVEVdO1xufVxuXG5mdW5jdGlvbiBpc0RyYWZ0YWJsZSh2YWx1ZSkge1xuICAgIGlmICghdmFsdWUpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoKHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHZhbHVlKSkgIT09IFwib2JqZWN0XCIpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHJldHVybiB0cnVlO1xuICAgIHZhciBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZSk7XG4gICAgcmV0dXJuIHByb3RvID09PSBudWxsIHx8IHByb3RvID09PSBPYmplY3QucHJvdG90eXBlO1xufVxuXG5mdW5jdGlvbiBvcmlnaW5hbCh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAmJiB2YWx1ZVtEUkFGVF9TVEFURV0pIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlW0RSQUZUX1NUQVRFXS5iYXNlO1xuICAgIH1cbiAgICAvLyBvdGhlcndpc2UgcmV0dXJuIHVuZGVmaW5lZFxufVxuXG52YXIgYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCB2YWx1ZSkge1xuICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICBpZiAoaGFzKHZhbHVlLCBrZXkpKSB7XG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IHZhbHVlW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn07XG5cbmZ1bmN0aW9uIHNoYWxsb3dDb3B5KHZhbHVlKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSByZXR1cm4gdmFsdWUuc2xpY2UoKTtcbiAgICB2YXIgdGFyZ2V0ID0gdmFsdWUuX19wcm90b19fID09PSB1bmRlZmluZWQgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge307XG4gICAgcmV0dXJuIGFzc2lnbih0YXJnZXQsIHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gZWFjaCh2YWx1ZSwgY2IpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2IoaSwgdmFsdWVbaV0sIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgY2Ioa2V5LCB2YWx1ZVtrZXldLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGhhcyh0aGluZywgcHJvcCkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpbmcsIHByb3ApO1xufVxuXG5mdW5jdGlvbiBpcyh4LCB5KSB7XG4gICAgLy8gRnJvbTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2ZianMvYmxvYi9jNjk5MDRhNTExYjkwMDI2NjkzNTE2ODIyMzA2M2RkODc3MmRmYzQwL3BhY2thZ2VzL2ZianMvc3JjL2NvcmUvc2hhbGxvd0VxdWFsLmpzXG4gICAgaWYgKHggPT09IHkpIHtcbiAgICAgICAgcmV0dXJuIHggIT09IDAgfHwgMSAvIHggPT09IDEgLyB5O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB4ICE9PSB4ICYmIHkgIT09IHk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVBhdGNoZXMoc3RhdGUsIGJhc2VQYXRoLCBwYXRjaGVzLCBpbnZlcnNlUGF0Y2hlcykge1xuICAgIEFycmF5LmlzQXJyYXkoc3RhdGUuYmFzZSkgPyBnZW5lcmF0ZUFycmF5UGF0Y2hlcyhzdGF0ZSwgYmFzZVBhdGgsIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKSA6IGdlbmVyYXRlT2JqZWN0UGF0Y2hlcyhzdGF0ZSwgYmFzZVBhdGgsIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVBcnJheVBhdGNoZXMoc3RhdGUsIGJhc2VQYXRoLCBwYXRjaGVzLCBpbnZlcnNlUGF0Y2hlcykge1xuICAgIHZhciBiYXNlID0gc3RhdGUuYmFzZSxcbiAgICAgICAgY29weSA9IHN0YXRlLmNvcHksXG4gICAgICAgIGFzc2lnbmVkID0gc3RhdGUuYXNzaWduZWQ7XG5cbiAgICB2YXIgbWluTGVuZ3RoID0gTWF0aC5taW4oYmFzZS5sZW5ndGgsIGNvcHkubGVuZ3RoKTtcblxuICAgIC8vIExvb2sgZm9yIHJlcGxhY2VkIGluZGljZXMuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtaW5MZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYXNzaWduZWRbaV0gJiYgYmFzZVtpXSAhPT0gY29weVtpXSkge1xuICAgICAgICAgICAgdmFyIHBhdGggPSBiYXNlUGF0aC5jb25jYXQoaSk7XG4gICAgICAgICAgICBwYXRjaGVzLnB1c2goeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IHBhdGgsIHZhbHVlOiBjb3B5W2ldIH0pO1xuICAgICAgICAgICAgaW52ZXJzZVBhdGNoZXMucHVzaCh7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogcGF0aCwgdmFsdWU6IGJhc2VbaV0gfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBEaWQgdGhlIGFycmF5IGV4cGFuZD9cbiAgICBpZiAobWluTGVuZ3RoIDwgY29weS5sZW5ndGgpIHtcbiAgICAgICAgZm9yICh2YXIgX2kgPSBtaW5MZW5ndGg7IF9pIDwgY29weS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHBhdGNoZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgb3A6IFwiYWRkXCIsXG4gICAgICAgICAgICAgICAgcGF0aDogYmFzZVBhdGguY29uY2F0KF9pKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogY29weVtfaV1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGludmVyc2VQYXRjaGVzLnB1c2goe1xuICAgICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgICAgcGF0aDogYmFzZVBhdGguY29uY2F0KFwibGVuZ3RoXCIpLFxuICAgICAgICAgICAgdmFsdWU6IGJhc2UubGVuZ3RoXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIC4uLm9yIGRpZCBpdCBzaHJpbms/XG4gICAgZWxzZSBpZiAobWluTGVuZ3RoIDwgYmFzZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHBhdGNoZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgICAgICAgIHBhdGg6IGJhc2VQYXRoLmNvbmNhdChcImxlbmd0aFwiKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogY29weS5sZW5ndGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kyID0gbWluTGVuZ3RoOyBfaTIgPCBiYXNlLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgICAgICAgICAgICBpbnZlcnNlUGF0Y2hlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgb3A6IFwiYWRkXCIsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGJhc2VQYXRoLmNvbmNhdChfaTIpLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYmFzZVtfaTJdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVPYmplY3RQYXRjaGVzKHN0YXRlLCBiYXNlUGF0aCwgcGF0Y2hlcywgaW52ZXJzZVBhdGNoZXMpIHtcbiAgICB2YXIgYmFzZSA9IHN0YXRlLmJhc2UsXG4gICAgICAgIGNvcHkgPSBzdGF0ZS5jb3B5O1xuXG4gICAgZWFjaChzdGF0ZS5hc3NpZ25lZCwgZnVuY3Rpb24gKGtleSwgYXNzaWduZWRWYWx1ZSkge1xuICAgICAgICB2YXIgb3JpZ1ZhbHVlID0gYmFzZVtrZXldO1xuICAgICAgICB2YXIgdmFsdWUgPSBjb3B5W2tleV07XG4gICAgICAgIHZhciBvcCA9ICFhc3NpZ25lZFZhbHVlID8gXCJyZW1vdmVcIiA6IGtleSBpbiBiYXNlID8gXCJyZXBsYWNlXCIgOiBcImFkZFwiO1xuICAgICAgICBpZiAob3JpZ1ZhbHVlID09PSBiYXNlICYmIG9wID09PSBcInJlcGxhY2VcIikgcmV0dXJuO1xuICAgICAgICB2YXIgcGF0aCA9IGJhc2VQYXRoLmNvbmNhdChrZXkpO1xuICAgICAgICBwYXRjaGVzLnB1c2gob3AgPT09IFwicmVtb3ZlXCIgPyB7IG9wOiBvcCwgcGF0aDogcGF0aCB9IDogeyBvcDogb3AsIHBhdGg6IHBhdGgsIHZhbHVlOiB2YWx1ZSB9KTtcbiAgICAgICAgaW52ZXJzZVBhdGNoZXMucHVzaChvcCA9PT0gXCJhZGRcIiA/IHsgb3A6IFwicmVtb3ZlXCIsIHBhdGg6IHBhdGggfSA6IG9wID09PSBcInJlbW92ZVwiID8geyBvcDogXCJhZGRcIiwgcGF0aDogcGF0aCwgdmFsdWU6IG9yaWdWYWx1ZSB9IDogeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IHBhdGgsIHZhbHVlOiBvcmlnVmFsdWUgfSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGFwcGx5UGF0Y2hlcyhkcmFmdCwgcGF0Y2hlcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcGF0Y2ggPSBwYXRjaGVzW2ldO1xuICAgICAgICB2YXIgcGF0aCA9IHBhdGNoLnBhdGg7XG5cbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoID09PSAwICYmIHBhdGNoLm9wID09PSBcInJlcGxhY2VcIikge1xuICAgICAgICAgICAgZHJhZnQgPSBwYXRjaC52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBiYXNlID0gZHJhZnQ7XG4gICAgICAgICAgICBmb3IgKHZhciBfaTMgPSAwOyBfaTMgPCBwYXRoLmxlbmd0aCAtIDE7IF9pMysrKSB7XG4gICAgICAgICAgICAgICAgYmFzZSA9IGJhc2VbcGF0aFtfaTNdXTtcbiAgICAgICAgICAgICAgICBpZiAoIWJhc2UgfHwgKHR5cGVvZiBiYXNlID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoYmFzZSkpICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgYXBwbHkgcGF0Y2gsIHBhdGggZG9lc24ndCByZXNvbHZlOiBcIiArIHBhdGguam9pbihcIi9cIikpOyAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBrZXkgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBzd2l0Y2ggKHBhdGNoLm9wKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInJlcGxhY2VcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiYWRkXCI6XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IGFkZCBzdXBwb3J0IGlzIG5vdCBleHRlbnNpdmUsIGl0IGRvZXMgbm90IHN1cHBvcnQgaW5zZXJ0aW9uIG9yIGAtYCBhdG0hXG4gICAgICAgICAgICAgICAgICAgIGJhc2Vba2V5XSA9IHBhdGNoLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwicmVtb3ZlXCI6XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGJhc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ICE9PSBiYXNlLmxlbmd0aCAtIDEpIHRocm93IG5ldyBFcnJvcihcIk9ubHkgdGhlIGxhc3QgaW5kZXggb2YgYW4gYXJyYXkgY2FuIGJlIHJlbW92ZWQsIGluZGV4OiBcIiArIGtleSArIFwiLCBsZW5ndGg6IFwiICsgYmFzZS5sZW5ndGgpOyAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2UubGVuZ3RoIC09IDE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYmFzZVtrZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIHBhdGNoIG9wZXJhdGlvbjogXCIgKyBwYXRjaC5vcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRyYWZ0O1xufVxuXG4vLyBAdHMtY2hlY2tcblxudmFyIGRlc2NyaXB0b3JzID0ge307XG5cbi8vIEZvciBuZXN0ZWQgcHJvZHVjZSBjYWxsczpcbnZhciBzY29wZXMgPSBbXTtcbnZhciBjdXJyZW50U2NvcGUgPSBmdW5jdGlvbiBjdXJyZW50U2NvcGUoKSB7XG4gICAgcmV0dXJuIHNjb3Blc1tzY29wZXMubGVuZ3RoIC0gMV07XG59O1xuXG5mdW5jdGlvbiB3aWxsRmluYWxpemUocmVzdWx0LCBiYXNlRHJhZnQsIG5lZWRQYXRjaGVzKSB7XG4gICAgdmFyIHNjb3BlID0gY3VycmVudFNjb3BlKCk7XG4gICAgc2NvcGUuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLmZpbmFsaXppbmcgPSB0cnVlO1xuICAgIH0pO1xuICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCB8fCByZXN1bHQgPT09IGJhc2VEcmFmdCkge1xuICAgICAgICBpZiAobmVlZFBhdGNoZXMpIG1hcmtDaGFuZ2VzUmVjdXJzaXZlbHkoYmFzZURyYWZ0KTtcbiAgICAgICAgLy8gVGhpcyBpcyBmYXN0ZXIgd2hlbiB3ZSBkb24ndCBjYXJlIGFib3V0IHdoaWNoIGF0dHJpYnV0ZXMgY2hhbmdlZC5cbiAgICAgICAgbWFya0NoYW5nZXNTd2VlcChzY29wZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVEcmFmdChiYXNlLCBwYXJlbnQpIHtcbiAgICB2YXIgZHJhZnQgPSB2b2lkIDA7XG4gICAgaWYgKGlzRHJhZnQoYmFzZSkpIHtcbiAgICAgICAgdmFyIF9zdGF0ZSA9IGJhc2VbRFJBRlRfU1RBVEVdO1xuICAgICAgICAvLyBBdm9pZCBjcmVhdGluZyBuZXcgZHJhZnRzIHdoZW4gY29weWluZy5cbiAgICAgICAgX3N0YXRlLmZpbmFsaXppbmcgPSB0cnVlO1xuICAgICAgICBkcmFmdCA9IHNoYWxsb3dDb3B5KF9zdGF0ZS5kcmFmdCk7XG4gICAgICAgIF9zdGF0ZS5maW5hbGl6aW5nID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZHJhZnQgPSBzaGFsbG93Q29weShiYXNlKTtcbiAgICB9XG4gICAgZWFjaChiYXNlLCBmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZHJhZnQsIFwiXCIgKyBwcm9wLCBjcmVhdGVQcm9wZXJ0eVByb3h5KFwiXCIgKyBwcm9wKSk7XG4gICAgfSk7XG5cbiAgICAvLyBTZWUgXCJwcm94eS5qc1wiIGZvciBwcm9wZXJ0eSBkb2N1bWVudGF0aW9uLlxuICAgIHZhciBzdGF0ZSA9IHtcbiAgICAgICAgc2NvcGU6IHBhcmVudCA/IHBhcmVudC5zY29wZSA6IGN1cnJlbnRTY29wZSgpLFxuICAgICAgICBtb2RpZmllZDogZmFsc2UsXG4gICAgICAgIGZpbmFsaXppbmc6IGZhbHNlLCAvLyBlczUgb25seVxuICAgICAgICBmaW5hbGl6ZWQ6IGZhbHNlLFxuICAgICAgICBhc3NpZ25lZDoge30sXG4gICAgICAgIHBhcmVudDogcGFyZW50LFxuICAgICAgICBiYXNlOiBiYXNlLFxuICAgICAgICBkcmFmdDogZHJhZnQsXG4gICAgICAgIGNvcHk6IG51bGwsXG4gICAgICAgIHJldm9rZTogcmV2b2tlLFxuICAgICAgICByZXZva2VkOiBmYWxzZSAvLyBlczUgb25seVxuICAgIH07XG5cbiAgICBjcmVhdGVIaWRkZW5Qcm9wZXJ0eShkcmFmdCwgRFJBRlRfU1RBVEUsIHN0YXRlKTtcbiAgICBzdGF0ZS5zY29wZS5wdXNoKHN0YXRlKTtcbiAgICByZXR1cm4gZHJhZnQ7XG59XG5cbmZ1bmN0aW9uIHJldm9rZSgpIHtcbiAgICB0aGlzLnJldm9rZWQgPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBzb3VyY2Uoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUuY29weSB8fCBzdGF0ZS5iYXNlO1xufVxuXG5mdW5jdGlvbiBfZ2V0KHN0YXRlLCBwcm9wKSB7XG4gICAgYXNzZXJ0VW5yZXZva2VkKHN0YXRlKTtcbiAgICB2YXIgdmFsdWUgPSBzb3VyY2Uoc3RhdGUpW3Byb3BdO1xuICAgIC8vIERyYWZ0cyBhcmUgb25seSBjcmVhdGVkIGZvciBwcm94eWFibGUgdmFsdWVzIHRoYXQgZXhpc3QgaW4gdGhlIGJhc2Ugc3RhdGUuXG4gICAgaWYgKCFzdGF0ZS5maW5hbGl6aW5nICYmIHZhbHVlID09PSBzdGF0ZS5iYXNlW3Byb3BdICYmIGlzRHJhZnRhYmxlKHZhbHVlKSkge1xuICAgICAgICBwcmVwYXJlQ29weShzdGF0ZSk7XG4gICAgICAgIHJldHVybiBzdGF0ZS5jb3B5W3Byb3BdID0gY3JlYXRlRHJhZnQodmFsdWUsIHN0YXRlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiBfc2V0KHN0YXRlLCBwcm9wLCB2YWx1ZSkge1xuICAgIGFzc2VydFVucmV2b2tlZChzdGF0ZSk7XG4gICAgc3RhdGUuYXNzaWduZWRbcHJvcF0gPSB0cnVlO1xuICAgIGlmICghc3RhdGUubW9kaWZpZWQpIHtcbiAgICAgICAgaWYgKGlzKHNvdXJjZShzdGF0ZSlbcHJvcF0sIHZhbHVlKSkgcmV0dXJuO1xuICAgICAgICBtYXJrQ2hhbmdlZChzdGF0ZSk7XG4gICAgICAgIHByZXBhcmVDb3B5KHN0YXRlKTtcbiAgICB9XG4gICAgc3RhdGUuY29weVtwcm9wXSA9IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBtYXJrQ2hhbmdlZChzdGF0ZSkge1xuICAgIGlmICghc3RhdGUubW9kaWZpZWQpIHtcbiAgICAgICAgc3RhdGUubW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICBpZiAoc3RhdGUucGFyZW50KSBtYXJrQ2hhbmdlZChzdGF0ZS5wYXJlbnQpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcHJlcGFyZUNvcHkoc3RhdGUpIHtcbiAgICBpZiAoIXN0YXRlLmNvcHkpIHN0YXRlLmNvcHkgPSBzaGFsbG93Q29weShzdGF0ZS5iYXNlKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUHJvcGVydHlQcm94eShwcm9wKSB7XG4gICAgcmV0dXJuIGRlc2NyaXB0b3JzW3Byb3BdIHx8IChkZXNjcmlwdG9yc1twcm9wXSA9IHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgIHJldHVybiBfZ2V0KHRoaXNbRFJBRlRfU1RBVEVdLCBwcm9wKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcbiAgICAgICAgICAgIF9zZXQodGhpc1tEUkFGVF9TVEFURV0sIHByb3AsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBhc3NlcnRVbnJldm9rZWQoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUucmV2b2tlZCA9PT0gdHJ1ZSkgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSBhIHByb3h5IHRoYXQgaGFzIGJlZW4gcmV2b2tlZC4gRGlkIHlvdSBwYXNzIGFuIG9iamVjdCBmcm9tIGluc2lkZSBhbiBpbW1lciBmdW5jdGlvbiB0byBhbiBhc3luYyBwcm9jZXNzPyBcIiArIEpTT04uc3RyaW5naWZ5KHN0YXRlLmNvcHkgfHwgc3RhdGUuYmFzZSkpO1xufVxuXG4vLyBUaGlzIGxvb2tzIGV4cGVuc2l2ZSwgYnV0IG9ubHkgcHJveGllcyBhcmUgdmlzaXRlZCwgYW5kIG9ubHkgb2JqZWN0cyB3aXRob3V0IGtub3duIGNoYW5nZXMgYXJlIHNjYW5uZWQuXG5mdW5jdGlvbiBtYXJrQ2hhbmdlc1N3ZWVwKHNjb3BlKSB7XG4gICAgLy8gVGhlIG5hdHVyYWwgb3JkZXIgb2YgZHJhZnRzIGluIHRoZSBgc2NvcGVgIGFycmF5IGlzIGJhc2VkIG9uIHdoZW4gdGhleVxuICAgIC8vIHdlcmUgYWNjZXNzZWQuIEJ5IHByb2Nlc3NpbmcgZHJhZnRzIGluIHJldmVyc2UgbmF0dXJhbCBvcmRlciwgd2UgaGF2ZSBhXG4gICAgLy8gYmV0dGVyIGNoYW5jZSBvZiBwcm9jZXNzaW5nIGxlYWYgbm9kZXMgZmlyc3QuIFdoZW4gYSBsZWFmIG5vZGUgaXMga25vd24gdG9cbiAgICAvLyBoYXZlIGNoYW5nZWQsIHdlIGNhbiBhdm9pZCBhbnkgdHJhdmVyc2FsIG9mIGl0cyBhbmNlc3RvciBub2Rlcy5cbiAgICBmb3IgKHZhciBpID0gc2NvcGUubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdmFyIHN0YXRlID0gc2NvcGVbaV07XG4gICAgICAgIGlmIChzdGF0ZS5tb2RpZmllZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHN0YXRlLmJhc2UpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc0FycmF5Q2hhbmdlcyhzdGF0ZSkpIG1hcmtDaGFuZ2VkKHN0YXRlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzT2JqZWN0Q2hhbmdlcyhzdGF0ZSkpIG1hcmtDaGFuZ2VkKHN0YXRlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gbWFya0NoYW5nZXNSZWN1cnNpdmVseShvYmplY3QpIHtcbiAgICBpZiAoIW9iamVjdCB8fCAodHlwZW9mIG9iamVjdCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9iamVjdCkpICE9PSBcIm9iamVjdFwiKSByZXR1cm47XG4gICAgdmFyIHN0YXRlID0gb2JqZWN0W0RSQUZUX1NUQVRFXTtcbiAgICBpZiAoIXN0YXRlKSByZXR1cm47XG4gICAgdmFyIGJhc2UgPSBzdGF0ZS5iYXNlLFxuICAgICAgICBkcmFmdCA9IHN0YXRlLmRyYWZ0LFxuICAgICAgICBhc3NpZ25lZCA9IHN0YXRlLmFzc2lnbmVkO1xuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG9iamVjdCkpIHtcbiAgICAgICAgLy8gTG9vayBmb3IgYWRkZWQga2V5cy5cbiAgICAgICAgT2JqZWN0LmtleXMoZHJhZnQpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgLy8gVGhlIGB1bmRlZmluZWRgIGNoZWNrIGlzIGEgZmFzdCBwYXRoIGZvciBwcmUtZXhpc3Rpbmcga2V5cy5cbiAgICAgICAgICAgIGlmIChiYXNlW2tleV0gPT09IHVuZGVmaW5lZCAmJiAhaGFzKGJhc2UsIGtleSkpIHtcbiAgICAgICAgICAgICAgICBhc3NpZ25lZFtrZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBtYXJrQ2hhbmdlZChzdGF0ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFhc3NpZ25lZFtrZXldKSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSB1bnRvdWNoZWQgcHJvcGVydGllcyB0cmlnZ2VyIHJlY3Vyc2lvbi5cbiAgICAgICAgICAgICAgICBtYXJrQ2hhbmdlc1JlY3Vyc2l2ZWx5KGRyYWZ0W2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gTG9vayBmb3IgcmVtb3ZlZCBrZXlzLlxuICAgICAgICBPYmplY3Qua2V5cyhiYXNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIC8vIFRoZSBgdW5kZWZpbmVkYCBjaGVjayBpcyBhIGZhc3QgcGF0aCBmb3IgcHJlLWV4aXN0aW5nIGtleXMuXG4gICAgICAgICAgICBpZiAoZHJhZnRba2V5XSA9PT0gdW5kZWZpbmVkICYmICFoYXMoZHJhZnQsIGtleSkpIHtcbiAgICAgICAgICAgICAgICBhc3NpZ25lZFtrZXldID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbWFya0NoYW5nZWQoc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGhhc0FycmF5Q2hhbmdlcyhzdGF0ZSkpIHtcbiAgICAgICAgbWFya0NoYW5nZWQoc3RhdGUpO1xuICAgICAgICBhc3NpZ25lZC5sZW5ndGggPSB0cnVlO1xuICAgICAgICBpZiAoZHJhZnQubGVuZ3RoIDwgYmFzZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBkcmFmdC5sZW5ndGg7IGkgPCBiYXNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYXNzaWduZWRbaV0gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gYmFzZS5sZW5ndGg7IF9pIDwgZHJhZnQubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgYXNzaWduZWRbX2ldID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBkcmFmdC5sZW5ndGg7IF9pMisrKSB7XG4gICAgICAgICAgICAvLyBPbmx5IHVudG91Y2hlZCBpbmRpY2VzIHRyaWdnZXIgcmVjdXJzaW9uLlxuICAgICAgICAgICAgaWYgKGFzc2lnbmVkW19pMl0gPT09IHVuZGVmaW5lZCkgbWFya0NoYW5nZXNSZWN1cnNpdmVseShkcmFmdFtfaTJdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gaGFzT2JqZWN0Q2hhbmdlcyhzdGF0ZSkge1xuICAgIHZhciBiYXNlID0gc3RhdGUuYmFzZSxcbiAgICAgICAgZHJhZnQgPSBzdGF0ZS5kcmFmdDtcblxuICAgIC8vIFNlYXJjaCBmb3IgYWRkZWQga2V5cy4gU3RhcnQgYXQgdGhlIGJhY2ssIGJlY2F1c2Ugbm9uLW51bWVyaWMga2V5c1xuICAgIC8vIGFyZSBvcmRlcmVkIGJ5IHRpbWUgb2YgZGVmaW5pdGlvbiBvbiB0aGUgb2JqZWN0LlxuXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhkcmFmdCk7XG4gICAgZm9yICh2YXIgaSA9IGtleXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgLy8gVGhlIGB1bmRlZmluZWRgIGNoZWNrIGlzIGEgZmFzdCBwYXRoIGZvciBwcmUtZXhpc3Rpbmcga2V5cy5cbiAgICAgICAgaWYgKGJhc2Vba2V5c1tpXV0gPT09IHVuZGVmaW5lZCAmJiAhaGFzKGJhc2UsIGtleXNbaV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNpbmNlIG5vIGtleXMgaGF2ZSBiZWVuIGFkZGVkLCB3ZSBjYW4gY29tcGFyZSBsZW5ndGhzIHRvIGtub3cgaWYgYW5cbiAgICAvLyBvYmplY3QgaGFzIGJlZW4gZGVsZXRlZC5cbiAgICByZXR1cm4ga2V5cy5sZW5ndGggIT09IE9iamVjdC5rZXlzKGJhc2UpLmxlbmd0aDtcbn1cblxuZnVuY3Rpb24gaGFzQXJyYXlDaGFuZ2VzKHN0YXRlKSB7XG4gICAgdmFyIGRyYWZ0ID0gc3RhdGUuZHJhZnQ7XG5cbiAgICBpZiAoZHJhZnQubGVuZ3RoICE9PSBzdGF0ZS5iYXNlLmxlbmd0aCkgcmV0dXJuIHRydWU7XG4gICAgLy8gU2VlICMxMTZcbiAgICAvLyBJZiB3ZSBmaXJzdCBzaG9ydGVuIHRoZSBsZW5ndGgsIG91ciBhcnJheSBpbnRlcmNlcHRvcnMgd2lsbCBiZSByZW1vdmVkLlxuICAgIC8vIElmIGFmdGVyIHRoYXQgbmV3IGl0ZW1zIGFyZSBhZGRlZCwgcmVzdWx0IGluIHRoZSBzYW1lIG9yaWdpbmFsIGxlbmd0aCxcbiAgICAvLyB0aG9zZSBsYXN0IGl0ZW1zIHdpbGwgaGF2ZSBubyBpbnRlcmNlcHRpbmcgcHJvcGVydHkuXG4gICAgLy8gU28gaWYgdGhlcmUgaXMgbm8gb3duIGRlc2NyaXB0b3Igb24gdGhlIGxhc3QgcG9zaXRpb24sIHdlIGtub3cgdGhhdCBpdGVtcyB3ZXJlIHJlbW92ZWQgYW5kIGFkZGVkXG4gICAgLy8gTi5CLjogc3BsaWNlLCB1bnNoaWZ0LCBldGMgb25seSBzaGlmdCB2YWx1ZXMgYXJvdW5kLCBidXQgbm90IHByb3AgZGVzY3JpcHRvcnMsIHNvIHdlIG9ubHkgaGF2ZSB0byBjaGVja1xuICAgIC8vIHRoZSBsYXN0IG9uZVxuICAgIHZhciBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkcmFmdCwgZHJhZnQubGVuZ3RoIC0gMSk7XG4gICAgLy8gZGVzY3JpcHRvciBjYW4gYmUgbnVsbCwgYnV0IG9ubHkgZm9yIG5ld2x5IGNyZWF0ZWQgc3BhcnNlIGFycmF5cywgZWcuIG5ldyBBcnJheSgxMClcbiAgICBpZiAoZGVzY3JpcHRvciAmJiAhZGVzY3JpcHRvci5nZXQpIHJldHVybiB0cnVlO1xuICAgIC8vIEZvciBhbGwgb3RoZXIgY2FzZXMsIHdlIGRvbid0IGhhdmUgdG8gY29tcGFyZSwgYXMgdGhleSB3b3VsZCBoYXZlIGJlZW4gcGlja2VkIHVwIGJ5IHRoZSBpbmRleCBzZXR0ZXJzXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVIaWRkZW5Qcm9wZXJ0eSh0YXJnZXQsIHByb3AsIHZhbHVlKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcCwge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xufVxuXG5cblxudmFyIGxlZ2FjeVByb3h5ID0gT2JqZWN0LmZyZWV6ZSh7XG5cdHNjb3Blczogc2NvcGVzLFxuXHRjdXJyZW50U2NvcGU6IGN1cnJlbnRTY29wZSxcblx0d2lsbEZpbmFsaXplOiB3aWxsRmluYWxpemUsXG5cdGNyZWF0ZURyYWZ0OiBjcmVhdGVEcmFmdFxufSk7XG5cbi8vIEB0cy1jaGVja1xuXG4vLyBGb3IgbmVzdGVkIHByb2R1Y2UgY2FsbHM6XG52YXIgc2NvcGVzJDEgPSBbXTtcbnZhciBjdXJyZW50U2NvcGUkMSA9IGZ1bmN0aW9uIGN1cnJlbnRTY29wZSgpIHtcbiAgICByZXR1cm4gc2NvcGVzJDFbc2NvcGVzJDEubGVuZ3RoIC0gMV07XG59O1xuXG4vLyBEbyBub3RoaW5nIGJlZm9yZSBiZWluZyBmaW5hbGl6ZWQuXG5mdW5jdGlvbiB3aWxsRmluYWxpemUkMSgpIHt9XG5cbmZ1bmN0aW9uIGNyZWF0ZURyYWZ0JDEoYmFzZSwgcGFyZW50KSB7XG4gICAgdmFyIHN0YXRlID0ge1xuICAgICAgICAvLyBUcmFjayB3aGljaCBwcm9kdWNlIGNhbGwgdGhpcyBpcyBhc3NvY2lhdGVkIHdpdGguXG4gICAgICAgIHNjb3BlOiBwYXJlbnQgPyBwYXJlbnQuc2NvcGUgOiBjdXJyZW50U2NvcGUkMSgpLFxuICAgICAgICAvLyBUcnVlIGZvciBib3RoIHNoYWxsb3cgYW5kIGRlZXAgY2hhbmdlcy5cbiAgICAgICAgbW9kaWZpZWQ6IGZhbHNlLFxuICAgICAgICAvLyBVc2VkIGR1cmluZyBmaW5hbGl6YXRpb24uXG4gICAgICAgIGZpbmFsaXplZDogZmFsc2UsXG4gICAgICAgIC8vIFRyYWNrIHdoaWNoIHByb3BlcnRpZXMgaGF2ZSBiZWVuIGFzc2lnbmVkICh0cnVlKSBvciBkZWxldGVkIChmYWxzZSkuXG4gICAgICAgIGFzc2lnbmVkOiB7fSxcbiAgICAgICAgLy8gVGhlIHBhcmVudCBkcmFmdCBzdGF0ZS5cbiAgICAgICAgcGFyZW50OiBwYXJlbnQsXG4gICAgICAgIC8vIFRoZSBiYXNlIHN0YXRlLlxuICAgICAgICBiYXNlOiBiYXNlLFxuICAgICAgICAvLyBUaGUgYmFzZSBwcm94eS5cbiAgICAgICAgZHJhZnQ6IG51bGwsXG4gICAgICAgIC8vIEFueSBwcm9wZXJ0eSBwcm94aWVzLlxuICAgICAgICBkcmFmdHM6IHt9LFxuICAgICAgICAvLyBUaGUgYmFzZSBjb3B5IHdpdGggYW55IHVwZGF0ZWQgdmFsdWVzLlxuICAgICAgICBjb3B5OiBudWxsLFxuICAgICAgICAvLyBDYWxsZWQgYnkgdGhlIGBwcm9kdWNlYCBmdW5jdGlvbi5cbiAgICAgICAgcmV2b2tlOiBudWxsXG4gICAgfTtcblxuICAgIHZhciBfcmVmID0gQXJyYXkuaXNBcnJheShiYXNlKSA/IFByb3h5LnJldm9jYWJsZShbc3RhdGVdLCBhcnJheVRyYXBzKSA6IFByb3h5LnJldm9jYWJsZShzdGF0ZSwgb2JqZWN0VHJhcHMpLFxuICAgICAgICByZXZva2UgPSBfcmVmLnJldm9rZSxcbiAgICAgICAgcHJveHkgPSBfcmVmLnByb3h5O1xuXG4gICAgc3RhdGUuZHJhZnQgPSBwcm94eTtcbiAgICBzdGF0ZS5yZXZva2UgPSByZXZva2U7XG5cbiAgICBzdGF0ZS5zY29wZS5wdXNoKHN0YXRlKTtcbiAgICByZXR1cm4gcHJveHk7XG59XG5cbnZhciBvYmplY3RUcmFwcyA9IHtcbiAgICBnZXQ6IGdldCQxLFxuICAgIGhhczogZnVuY3Rpb24gaGFzJCQxKHRhcmdldCwgcHJvcCkge1xuICAgICAgICByZXR1cm4gcHJvcCBpbiBzb3VyY2UkMSh0YXJnZXQpO1xuICAgIH0sXG4gICAgb3duS2V5czogZnVuY3Rpb24gb3duS2V5cyh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyhzb3VyY2UkMSh0YXJnZXQpKTtcbiAgICB9LFxuXG4gICAgc2V0OiBzZXQkMSxcbiAgICBkZWxldGVQcm9wZXJ0eTogZGVsZXRlUHJvcGVydHksXG4gICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gICAgZGVmaW5lUHJvcGVydHk6IGRlZmluZVByb3BlcnR5JDEsXG4gICAgc2V0UHJvdG90eXBlT2Y6IGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbW1lciBkb2VzIG5vdCBzdXBwb3J0IGBzZXRQcm90b3R5cGVPZigpYC5cIik7XG4gICAgfVxufTtcblxudmFyIGFycmF5VHJhcHMgPSB7fTtcbmVhY2gob2JqZWN0VHJhcHMsIGZ1bmN0aW9uIChrZXksIGZuKSB7XG4gICAgYXJyYXlUcmFwc1trZXldID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBhcmd1bWVudHNbMF0gPSBhcmd1bWVudHNbMF1bMF07XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG59KTtcbmFycmF5VHJhcHMuZGVsZXRlUHJvcGVydHkgPSBmdW5jdGlvbiAoc3RhdGUsIHByb3ApIHtcbiAgICBpZiAoaXNOYU4ocGFyc2VJbnQocHJvcCkpKSB0aHJvdyBuZXcgRXJyb3IoXCJJbW1lciBkb2VzIG5vdCBzdXBwb3J0IGRlbGV0aW5nIHByb3BlcnRpZXMgZnJvbSBhcnJheXM6IFwiICsgcHJvcCk7XG4gICAgcmV0dXJuIG9iamVjdFRyYXBzLmRlbGV0ZVByb3BlcnR5LmNhbGwodGhpcywgc3RhdGVbMF0sIHByb3ApO1xufTtcbmFycmF5VHJhcHMuc2V0ID0gZnVuY3Rpb24gKHN0YXRlLCBwcm9wLCB2YWx1ZSkge1xuICAgIGlmIChwcm9wICE9PSBcImxlbmd0aFwiICYmIGlzTmFOKHBhcnNlSW50KHByb3ApKSkgdGhyb3cgbmV3IEVycm9yKFwiSW1tZXIgZG9lcyBub3Qgc3VwcG9ydCBzZXR0aW5nIG5vbi1udW1lcmljIHByb3BlcnRpZXMgb24gYXJyYXlzOiBcIiArIHByb3ApO1xuICAgIHJldHVybiBvYmplY3RUcmFwcy5zZXQuY2FsbCh0aGlzLCBzdGF0ZVswXSwgcHJvcCwgdmFsdWUpO1xufTtcblxuZnVuY3Rpb24gc291cmNlJDEoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUuY29weSB8fCBzdGF0ZS5iYXNlO1xufVxuXG5mdW5jdGlvbiBnZXQkMShzdGF0ZSwgcHJvcCkge1xuICAgIGlmIChwcm9wID09PSBEUkFGVF9TVEFURSkgcmV0dXJuIHN0YXRlO1xuICAgIHZhciBkcmFmdHMgPSBzdGF0ZS5kcmFmdHM7XG5cbiAgICAvLyBDaGVjayBmb3IgZXhpc3RpbmcgZHJhZnQgaW4gdW5tb2RpZmllZCBzdGF0ZS5cblxuICAgIGlmICghc3RhdGUubW9kaWZpZWQgJiYgaGFzKGRyYWZ0cywgcHJvcCkpIHtcbiAgICAgICAgcmV0dXJuIGRyYWZ0c1twcm9wXTtcbiAgICB9XG5cbiAgICB2YXIgdmFsdWUgPSBzb3VyY2UkMShzdGF0ZSlbcHJvcF07XG4gICAgaWYgKHN0YXRlLmZpbmFsaXplZCB8fCAhaXNEcmFmdGFibGUodmFsdWUpKSByZXR1cm4gdmFsdWU7XG5cbiAgICAvLyBDaGVjayBmb3IgZXhpc3RpbmcgZHJhZnQgaW4gbW9kaWZpZWQgc3RhdGUuXG4gICAgaWYgKHN0YXRlLm1vZGlmaWVkKSB7XG4gICAgICAgIC8vIEFzc2lnbmVkIHZhbHVlcyBhcmUgbmV2ZXIgZHJhZnRlZC4gVGhpcyBjYXRjaGVzIGFueSBkcmFmdHMgd2UgY3JlYXRlZCwgdG9vLlxuICAgICAgICBpZiAodmFsdWUgIT09IHN0YXRlLmJhc2VbcHJvcF0pIHJldHVybiB2YWx1ZTtcbiAgICAgICAgLy8gU3RvcmUgZHJhZnRzIG9uIHRoZSBjb3B5ICh3aGVuIG9uZSBleGlzdHMpLlxuICAgICAgICBkcmFmdHMgPSBzdGF0ZS5jb3B5O1xuICAgIH1cblxuICAgIHJldHVybiBkcmFmdHNbcHJvcF0gPSBjcmVhdGVEcmFmdCQxKHZhbHVlLCBzdGF0ZSk7XG59XG5cbmZ1bmN0aW9uIHNldCQxKHN0YXRlLCBwcm9wLCB2YWx1ZSkge1xuICAgIGlmICghc3RhdGUubW9kaWZpZWQpIHtcbiAgICAgICAgLy8gT3B0aW1pemUgYmFzZWQgb24gdmFsdWUncyB0cnV0aGluZXNzLiBUcnV0aHkgdmFsdWVzIGFyZSBndWFyYW50ZWVkIHRvXG4gICAgICAgIC8vIG5ldmVyIGJlIHVuZGVmaW5lZCwgc28gd2UgY2FuIGF2b2lkIHRoZSBgaW5gIG9wZXJhdG9yLiBMYXN0bHksIHRydXRoeVxuICAgICAgICAvLyB2YWx1ZXMgbWF5IGJlIGRyYWZ0cywgYnV0IGZhbHN5IHZhbHVlcyBhcmUgbmV2ZXIgZHJhZnRzLlxuICAgICAgICB2YXIgaXNVbmNoYW5nZWQgPSB2YWx1ZSA/IGlzKHN0YXRlLmJhc2VbcHJvcF0sIHZhbHVlKSB8fCB2YWx1ZSA9PT0gc3RhdGUuZHJhZnRzW3Byb3BdIDogaXMoc3RhdGUuYmFzZVtwcm9wXSwgdmFsdWUpICYmIHByb3AgaW4gc3RhdGUuYmFzZTtcbiAgICAgICAgaWYgKGlzVW5jaGFuZ2VkKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgbWFya0NoYW5nZWQkMShzdGF0ZSk7XG4gICAgfVxuICAgIHN0YXRlLmFzc2lnbmVkW3Byb3BdID0gdHJ1ZTtcbiAgICBzdGF0ZS5jb3B5W3Byb3BdID0gdmFsdWU7XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGRlbGV0ZVByb3BlcnR5KHN0YXRlLCBwcm9wKSB7XG4gICAgLy8gVGhlIGB1bmRlZmluZWRgIGNoZWNrIGlzIGEgZmFzdCBwYXRoIGZvciBwcmUtZXhpc3Rpbmcga2V5cy5cbiAgICBpZiAoc3RhdGUuYmFzZVtwcm9wXSAhPT0gdW5kZWZpbmVkIHx8IHByb3AgaW4gc3RhdGUuYmFzZSkge1xuICAgICAgICBzdGF0ZS5hc3NpZ25lZFtwcm9wXSA9IGZhbHNlO1xuICAgICAgICBtYXJrQ2hhbmdlZCQxKHN0YXRlKTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLmNvcHkpIGRlbGV0ZSBzdGF0ZS5jb3B5W3Byb3BdO1xuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc3RhdGUsIHByb3ApIHtcbiAgICB2YXIgb3duZXIgPSBzdGF0ZS5tb2RpZmllZCA/IHN0YXRlLmNvcHkgOiBoYXMoc3RhdGUuZHJhZnRzLCBwcm9wKSA/IHN0YXRlLmRyYWZ0cyA6IHN0YXRlLmJhc2U7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvd25lciwgcHJvcCk7XG4gICAgaWYgKGRlc2NyaXB0b3IgJiYgIShBcnJheS5pc0FycmF5KG93bmVyKSAmJiBwcm9wID09PSBcImxlbmd0aFwiKSkgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIHJldHVybiBkZXNjcmlwdG9yO1xufVxuXG5mdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eSQxKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkltbWVyIGRvZXMgbm90IHN1cHBvcnQgZGVmaW5pbmcgcHJvcGVydGllcyBvbiBkcmFmdCBvYmplY3RzLlwiKTtcbn1cblxuZnVuY3Rpb24gbWFya0NoYW5nZWQkMShzdGF0ZSkge1xuICAgIGlmICghc3RhdGUubW9kaWZpZWQpIHtcbiAgICAgICAgc3RhdGUubW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICBzdGF0ZS5jb3B5ID0gYXNzaWduKHNoYWxsb3dDb3B5KHN0YXRlLmJhc2UpLCBzdGF0ZS5kcmFmdHMpO1xuICAgICAgICBzdGF0ZS5kcmFmdHMgPSBudWxsO1xuICAgICAgICBpZiAoc3RhdGUucGFyZW50KSBtYXJrQ2hhbmdlZCQxKHN0YXRlLnBhcmVudCk7XG4gICAgfVxufVxuXG52YXIgbW9kZXJuUHJveHkgPSBPYmplY3QuZnJlZXplKHtcblx0c2NvcGVzOiBzY29wZXMkMSxcblx0Y3VycmVudFNjb3BlOiBjdXJyZW50U2NvcGUkMSxcblx0d2lsbEZpbmFsaXplOiB3aWxsRmluYWxpemUkMSxcblx0Y3JlYXRlRHJhZnQ6IGNyZWF0ZURyYWZ0JDFcbn0pO1xuXG5mdW5jdGlvbiB2ZXJpZnlNaW5pZmllZCgpIHt9XG5cbnZhciBjb25maWdEZWZhdWx0cyA9IHtcbiAgICB1c2VQcm94aWVzOiB0eXBlb2YgUHJveHkgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIFJlZmxlY3QgIT09IFwidW5kZWZpbmVkXCIsXG4gICAgYXV0b0ZyZWV6ZTogdHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgOiB2ZXJpZnlNaW5pZmllZC5uYW1lID09PSBcInZlcmlmeU1pbmlmaWVkXCIsXG4gICAgb25Bc3NpZ246IG51bGwsXG4gICAgb25EZWxldGU6IG51bGwsXG4gICAgb25Db3B5OiBudWxsXG59O1xuXG52YXIgSW1tZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW1tZXIoY29uZmlnKSB7XG4gICAgICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIEltbWVyKTtcblxuICAgICAgICBhc3NpZ24odGhpcywgY29uZmlnRGVmYXVsdHMsIGNvbmZpZyk7XG4gICAgICAgIHRoaXMuc2V0VXNlUHJveGllcyh0aGlzLnVzZVByb3hpZXMpO1xuICAgICAgICB0aGlzLnByb2R1Y2UgPSB0aGlzLnByb2R1Y2UuYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICBjcmVhdGVDbGFzcyhJbW1lciwgW3tcbiAgICAgICAga2V5OiBcInByb2R1Y2VcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHByb2R1Y2UoYmFzZSwgcmVjaXBlLCBwYXRjaExpc3RlbmVyKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAvLyBjdXJyaWVkIGludm9jYXRpb25cbiAgICAgICAgICAgIGlmICh0eXBlb2YgYmFzZSA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiByZWNpcGUgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHZhciBkZWZhdWx0QmFzZSA9IHJlY2lwZTtcbiAgICAgICAgICAgICAgICByZWNpcGUgPSBiYXNlO1xuXG4gICAgICAgICAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBiYXNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBkZWZhdWx0QmFzZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnByb2R1Y2UoYmFzZSwgZnVuY3Rpb24gKGRyYWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3JlY2lwZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChfcmVjaXBlID0gcmVjaXBlKS5jYWxsLmFwcGx5KF9yZWNpcGUsIFtkcmFmdCwgZHJhZnRdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVjaXBlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcihcImlmIGZpcnN0IGFyZ3VtZW50IGlzIG5vdCBhIGZ1bmN0aW9uLCB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIHByb2R1Y2Ugc2hvdWxkIGJlIGEgZnVuY3Rpb25cIik7XG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoTGlzdGVuZXIgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgcGF0Y2hMaXN0ZW5lciAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3IoXCJ0aGUgdGhpcmQgYXJndW1lbnQgb2YgYSBwcm9kdWNlciBzaG91bGQgbm90IGJlIHNldCBvciBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdm9pZCAwO1xuICAgICAgICAgICAgLy8gT25seSBjcmVhdGUgcHJveGllcyBmb3IgcGxhaW4gb2JqZWN0cy9hcnJheXMuXG4gICAgICAgICAgICBpZiAoIWlzRHJhZnRhYmxlKGJhc2UpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVjaXBlKGJhc2UpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGJhc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZWUgIzEwMCwgZG9uJ3QgbmVzdCBwcm9kdWNlcnNcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRHJhZnQoYmFzZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVjaXBlLmNhbGwoYmFzZSwgYmFzZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGJhc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRoZSBnaXZlbiB2YWx1ZSBtdXN0IGJlIHByb3hpZWQuXG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjb3Blcy5wdXNoKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiYXNlRHJhZnQgPSB0aGlzLmNyZWF0ZURyYWZ0KGJhc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZWNpcGUuY2FsbChiYXNlRHJhZnQsIGJhc2VEcmFmdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53aWxsRmluYWxpemUocmVzdWx0LCBiYXNlRHJhZnQsICEhcGF0Y2hMaXN0ZW5lcik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOZXZlciBnZW5lcmF0ZSBwYXRjaGVzIHdoZW4gbm8gbGlzdGVuZXIgZXhpc3RzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXRjaGVzID0gcGF0Y2hMaXN0ZW5lciAmJiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52ZXJzZVBhdGNoZXMgPSBwYXRjaExpc3RlbmVyICYmIFtdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmluYWxpemUgdGhlIG1vZGlmaWVkIGRyYWZ0Li4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkIHx8IHJlc3VsdCA9PT0gYmFzZURyYWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuZmluYWxpemUoYmFzZURyYWZ0LCBbXSwgcGF0Y2hlcywgaW52ZXJzZVBhdGNoZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLi5vciB1c2UgYSByZXBsYWNlbWVudCB2YWx1ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZXJzIG11c3QgbmV2ZXIgbW9kaWZ5IHRoZSBkcmFmdCBfYW5kXyByZXR1cm4gc29tZXRoaW5nIGVsc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFzZURyYWZ0W0RSQUZUX1NUQVRFXS5tb2RpZmllZCkgdGhyb3cgbmV3IEVycm9yKFwiQW4gaW1tZXIgcHJvZHVjZXIgcmV0dXJuZWQgYSBuZXcgdmFsdWUgKmFuZCogbW9kaWZpZWQgaXRzIGRyYWZ0LiBFaXRoZXIgcmV0dXJuIGEgbmV3IHZhbHVlICpvciogbW9kaWZ5IHRoZSBkcmFmdC5cIik7IC8vIHByZXR0aWVyLWlnbm9yZVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaW5hbGl6ZSB0aGUgcmVwbGFjZW1lbnQgaW4gY2FzZSBpdCBjb250YWlucyAob3IgaXMpIGEgc3Vic2V0IG9mIHRoZSBkcmFmdC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0RyYWZ0YWJsZShyZXN1bHQpKSByZXN1bHQgPSB0aGlzLmZpbmFsaXplKHJlc3VsdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXRjaExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmVyc2VQYXRjaGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYmFzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFNjb3BlKCkuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLnJldm9rZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2NvcGVzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hMaXN0ZW5lciAmJiBwYXRjaExpc3RlbmVyKHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm9ybWFsaXplIHRoZSByZXN1bHQuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0ID09PSBOT1RISU5HID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwic2V0QXV0b0ZyZWV6ZVwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0QXV0b0ZyZWV6ZSh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5hdXRvRnJlZXplID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJzZXRVc2VQcm94aWVzXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRVc2VQcm94aWVzKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVzZVByb3hpZXMgPSB2YWx1ZTtcbiAgICAgICAgICAgIGFzc2lnbih0aGlzLCB2YWx1ZSA/IG1vZGVyblByb3h5IDogbGVnYWN5UHJveHkpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICogRmluYWxpemUgYSBkcmFmdCwgcmV0dXJuaW5nIGVpdGhlciB0aGUgdW5tb2RpZmllZCBiYXNlIHN0YXRlIG9yIGEgbW9kaWZpZWRcbiAgICAgICAgICogY29weSBvZiB0aGUgYmFzZSBzdGF0ZS5cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJmaW5hbGl6ZVwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZmluYWxpemUoZHJhZnQsIHBhdGgsIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKSB7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSBkcmFmdFtEUkFGVF9TVEFURV07XG4gICAgICAgICAgICBpZiAoIXN0YXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5pc0Zyb3plbihkcmFmdCkpIHJldHVybiBkcmFmdDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maW5hbGl6ZVRyZWUoZHJhZnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTmV2ZXIgZmluYWxpemUgZHJhZnRzIG93bmVkIGJ5IGFuIG91dGVyIHNjb3BlLlxuICAgICAgICAgICAgaWYgKHN0YXRlLnNjb3BlICE9PSB0aGlzLmN1cnJlbnRTY29wZSgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRyYWZ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzdGF0ZS5tb2RpZmllZCkgcmV0dXJuIHN0YXRlLmJhc2U7XG4gICAgICAgICAgICBpZiAoIXN0YXRlLmZpbmFsaXplZCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmZpbmFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5maW5hbGl6ZVRyZWUoc3RhdGUuZHJhZnQsIHBhdGgsIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vbkRlbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXNzaWduZWQgPSBzdGF0ZS5hc3NpZ25lZDtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIGFzc2lnbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZFtwcm9wXSB8fCB0aGlzLm9uRGVsZXRlKHN0YXRlLCBwcm9wKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vbkNvcHkpIHRoaXMub25Db3B5KHN0YXRlKTtcblxuICAgICAgICAgICAgICAgIC8vIE5lc3RlZCBwcm9kdWNlcnMgbXVzdCBuZXZlciBhdXRvLWZyZWV6ZSB0aGVpciByZXN1bHQsXG4gICAgICAgICAgICAgICAgLy8gYmVjYXVzZSBpdCBtYXkgY29udGFpbiBkcmFmdHMgZnJvbSBwYXJlbnQgcHJvZHVjZXJzLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmF1dG9GcmVlemUgJiYgdGhpcy5zY29wZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5mcmVlemUoc3RhdGUuY29weSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoZXMpIGdlbmVyYXRlUGF0Y2hlcyhzdGF0ZSwgcGF0aCwgcGF0Y2hlcywgaW52ZXJzZVBhdGNoZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLmNvcHk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKiBGaW5hbGl6ZSBhbGwgZHJhZnRzIGluIHRoZSBnaXZlbiBzdGF0ZSB0cmVlLlxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImZpbmFsaXplVHJlZVwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZmluYWxpemVUcmVlKHJvb3QsIHBhdGgsIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIHN0YXRlID0gcm9vdFtEUkFGVF9TVEFURV07XG4gICAgICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICByb290ID0gdGhpcy51c2VQcm94aWVzID8gc3RhdGUuY29weSA6IHN0YXRlLmNvcHkgPSBzaGFsbG93Q29weShzdGF0ZS5kcmFmdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBvbkFzc2lnbiA9IHRoaXMub25Bc3NpZ247XG5cbiAgICAgICAgICAgIHZhciBmaW5hbGl6ZVByb3BlcnR5ID0gZnVuY3Rpb24gZmluYWxpemVQcm9wZXJ0eShwcm9wLCB2YWx1ZSwgcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSBgcm9vdGAgY2FuIGJlIGEgZHJhZnQgaW4gaGVyZS5cbiAgICAgICAgICAgICAgICB2YXIgaW5EcmFmdCA9ICEhc3RhdGUgJiYgcGFyZW50ID09PSByb290O1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzRHJhZnQodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRbcHJvcF0gPSB2YWx1ZSA9XG4gICAgICAgICAgICAgICAgICAgIC8vIFBhdGNoZXMgYXJlIG5ldmVyIGdlbmVyYXRlZCBmb3IgYXNzaWduZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hlcyAmJiBpbkRyYWZ0ICYmICFzdGF0ZS5hc3NpZ25lZFtwcm9wXSA/IF90aGlzMi5maW5hbGl6ZSh2YWx1ZSwgcGF0aC5jb25jYXQocHJvcCksIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKSA6IF90aGlzMi5maW5hbGl6ZSh2YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVW5jaGFuZ2VkIGRyYWZ0cyBhcmUgaWdub3JlZC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGluRHJhZnQgJiYgdmFsdWUgPT09IHN0YXRlLmJhc2VbcHJvcF0pIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVW5jaGFuZ2VkIGRyYWZ0IHByb3BlcnRpZXMgYXJlIGlnbm9yZWQuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaW5EcmFmdCAmJiBpcyh2YWx1ZSwgc3RhdGUuYmFzZVtwcm9wXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBTZWFyY2ggbmV3IG9iamVjdHMgZm9yIHVuZmluYWxpemVkIGRyYWZ0cy4gRnJvemVuIG9iamVjdHMgc2hvdWxkIG5ldmVyIGNvbnRhaW4gZHJhZnRzLlxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0RyYWZ0YWJsZSh2YWx1ZSkgJiYgIU9iamVjdC5pc0Zyb3plbih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYWNoKHZhbHVlLCBmaW5hbGl6ZVByb3BlcnR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpbkRyYWZ0ICYmIG9uQXNzaWduKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uQXNzaWduKHN0YXRlLCBwcm9wLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZWFjaChyb290LCBmaW5hbGl6ZVByb3BlcnR5KTtcbiAgICAgICAgICAgIHJldHVybiByb290O1xuICAgICAgICB9XG4gICAgfV0pO1xuICAgIHJldHVybiBJbW1lcjtcbn0oKTtcblxudmFyIGltbWVyID0gbmV3IEltbWVyKCk7XG5cbi8qKlxuICogVGhlIGBwcm9kdWNlYCBmdW5jdGlvbiB0YWtlcyBhIHZhbHVlIGFuZCBhIFwicmVjaXBlIGZ1bmN0aW9uXCIgKHdob3NlXG4gKiByZXR1cm4gdmFsdWUgb2Z0ZW4gZGVwZW5kcyBvbiB0aGUgYmFzZSBzdGF0ZSkuIFRoZSByZWNpcGUgZnVuY3Rpb24gaXNcbiAqIGZyZWUgdG8gbXV0YXRlIGl0cyBmaXJzdCBhcmd1bWVudCBob3dldmVyIGl0IHdhbnRzLiBBbGwgbXV0YXRpb25zIGFyZVxuICogb25seSBldmVyIGFwcGxpZWQgdG8gYSBfX2NvcHlfXyBvZiB0aGUgYmFzZSBzdGF0ZS5cbiAqXG4gKiBQYXNzIG9ubHkgYSBmdW5jdGlvbiB0byBjcmVhdGUgYSBcImN1cnJpZWQgcHJvZHVjZXJcIiB3aGljaCByZWxpZXZlcyB5b3VcbiAqIGZyb20gcGFzc2luZyB0aGUgcmVjaXBlIGZ1bmN0aW9uIGV2ZXJ5IHRpbWUuXG4gKlxuICogT25seSBwbGFpbiBvYmplY3RzIGFuZCBhcnJheXMgYXJlIG1hZGUgbXV0YWJsZS4gQWxsIG90aGVyIG9iamVjdHMgYXJlXG4gKiBjb25zaWRlcmVkIHVuY29weWFibGUuXG4gKlxuICogTm90ZTogVGhpcyBmdW5jdGlvbiBpcyBfX2JvdW5kX18gdG8gaXRzIGBJbW1lcmAgaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIHthbnl9IGJhc2UgLSB0aGUgaW5pdGlhbCBzdGF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvZHVjZXIgLSBmdW5jdGlvbiB0aGF0IHJlY2VpdmVzIGEgcHJveHkgb2YgdGhlIGJhc2Ugc3RhdGUgYXMgZmlyc3QgYXJndW1lbnQgYW5kIHdoaWNoIGNhbiBiZSBmcmVlbHkgbW9kaWZpZWRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHBhdGNoTGlzdGVuZXIgLSBvcHRpb25hbCBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdpdGggYWxsIHRoZSBwYXRjaGVzIHByb2R1Y2VkIGhlcmVcbiAqIEByZXR1cm5zIHthbnl9IGEgbmV3IHN0YXRlLCBvciB0aGUgaW5pdGlhbCBzdGF0ZSBpZiBub3RoaW5nIHdhcyBtb2RpZmllZFxuICovXG52YXIgcHJvZHVjZSA9IGltbWVyLnByb2R1Y2U7XG4vKipcbiAqIFBhc3MgdHJ1ZSB0byBhdXRvbWF0aWNhbGx5IGZyZWV6ZSBhbGwgY29waWVzIGNyZWF0ZWQgYnkgSW1tZXIuXG4gKlxuICogQnkgZGVmYXVsdCwgYXV0by1mcmVlemluZyBpcyBkaXNhYmxlZCBpbiBwcm9kdWN0aW9uLlxuICovXG52YXIgc2V0QXV0b0ZyZWV6ZSA9IGZ1bmN0aW9uIHNldEF1dG9GcmVlemUodmFsdWUpIHtcbiAgcmV0dXJuIGltbWVyLnNldEF1dG9GcmVlemUodmFsdWUpO1xufTtcblxuLyoqXG4gKiBQYXNzIHRydWUgdG8gdXNlIHRoZSBFUzIwMTUgYFByb3h5YCBjbGFzcyB3aGVuIGNyZWF0aW5nIGRyYWZ0cywgd2hpY2ggaXNcbiAqIGFsd2F5cyBmYXN0ZXIgdGhhbiB1c2luZyBFUzUgcHJveGllcy5cbiAqXG4gKiBCeSBkZWZhdWx0LCBmZWF0dXJlIGRldGVjdGlvbiBpcyB1c2VkLCBzbyBjYWxsaW5nIHRoaXMgaXMgcmFyZWx5IG5lY2Vzc2FyeS5cbiAqL1xudmFyIHNldFVzZVByb3hpZXMgPSBmdW5jdGlvbiBzZXRVc2VQcm94aWVzKHZhbHVlKSB7XG4gIHJldHVybiBpbW1lci5zZXRVc2VQcm94aWVzKHZhbHVlKTtcbn07XG5cbi8qKlxuICogQXBwbHkgYW4gYXJyYXkgb2YgSW1tZXIgcGF0Y2hlcyB0byB0aGUgZmlyc3QgYXJndW1lbnQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBhIHByb2R1Y2VyLCB3aGljaCBtZWFucyBjb3B5LW9uLXdyaXRlIGlzIGluIGVmZmVjdC5cbiAqL1xudmFyIGFwcGx5UGF0Y2hlcyQxID0gcHJvZHVjZShhcHBseVBhdGNoZXMpO1xuXG5leHBvcnQgeyBwcm9kdWNlLCBzZXRBdXRvRnJlZXplLCBzZXRVc2VQcm94aWVzLCBhcHBseVBhdGNoZXMkMSBhcyBhcHBseVBhdGNoZXMsIEltbWVyLCBvcmlnaW5hbCwgaXNEcmFmdCwgTk9USElORyBhcyBub3RoaW5nIH07XG5leHBvcnQgZGVmYXVsdCBwcm9kdWNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW1tZXIubW9kdWxlLmpzLm1hcFxuIiwiaW1wb3J0IFJlYWN0LCB7Q29tcG9uZW50fSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IGFzeW5jQ29tcG9uZW50ID0gKGltcG9ydENvbXBvbmVudCwgbG9hZGVyID0gbnVsbCkgPT4ge1xuICByZXR1cm4gY2xhc3MgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRlID0ge1xuICAgICAgY29tcG9uZW50OiBudWxsXG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICBpbXBvcnRDb21wb25lbnQoKVxuICAgICAgICAudGhlbihjbXAgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2NvbXBvbmVudDogY21wLmRlZmF1bHR9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgY29uc3QgQyA9IHRoaXMuc3RhdGUuY29tcG9uZW50O1xuICAgICAgcmV0dXJuIEMgPyA8QyB7Li4udGhpcy5wcm9wc30vPiA6IGxvYWRlcjtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jQ29tcG9uZW50O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5leHBvcnQgZGVmYXVsdCAocHJvcHMpID0+IHtcbiAgY29uc3Qge1xuICAgIHRpdGxlcyxcbiAgICBhY3RpdmVQb3N0SWR4LFxuICAgIG9uVGl0bGVDbGlja1xuICB9ID0gcHJvcHM7XG4gIHJldHVybiAoXG4gICAgPHVsPlxuICAgICAgICB7XG4gICAgICAgICAgdGl0bGVzLm1hcCgodGl0bGUsIGlkeCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBhY3RpdmVQb3N0SWR4ID09PSBpZHg7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7b25UaXRsZUNsaWNrKGlkeCl9fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7aXNBY3RpdmUgPyAnYWN0aXZlJyA6ICcnfWB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHt0aXRsZX1cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgPC91bD5cbiAgKVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgKHsgYXBpLCBwb3N0TGlzdFVwZGF0ZXIsIFBlcnNpc3Rvcn0pID0+ICh7ZXJyb3IsIHN1Y2Nlc3MsIHdhcm59LCBjbSkgPT4ge1xuICBhcGkudXBkYXRlKGNtLmdldE9wdGlvbignY29udGVudElkJyksIGNtLmRvYy5nZXRWYWx1ZSgpKVxuICAgIC50aGVuKChuZXdQb3N0KSA9PiB7XG4gICAgICBQZXJzaXN0b3IucmVtb3ZlKG5ld1Bvc3QuaWQpO1xuICAgICAgbmV3UG9zdC5wb3N0VHlwZSA9ICdwdWJsaXNoZWQnO1xuICAgICAgcG9zdExpc3RVcGRhdGVyKChvbGRQb3N0TGlzdCkgPT4ge1xuICAgICAgICByZXR1cm4gb2xkUG9zdExpc3QubWFwKHAgPT4ge1xuICAgICAgICAgIHJldHVybiBwLmlkID09PSBuZXdQb3N0LmlkXG4gICAgICAgICAgICA/IG5ld1Bvc3RcbiAgICAgICAgICAgIDogcDtcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgICBzdWNjZXNzKCfljZrmloflt7Lmm7TmlrAnKVxuICAgIH0pXG4gICAgLmNhdGNoKCgpID0+IHtcbiAgICAgIGVycm9yKCfljZrmlofmm7TmlrDlpLHotKUnKVxuICAgIH0pO1xufVxuXG4iLCJleHBvcnQgZGVmYXVsdCAoeyBQZXJzaXN0b3IsIHBvc3RMaXN0VXBkYXRlciwgYXBpLCBhY3RpdmV9LCB0eXBlKSA9PlxuICAoe2Vycm9yLCBzdWNjZXNzLCB3YXJufSwgY20pID0+IHtcbiAgICBjb25zdCBwaWQgPSBjbS5nZXRPcHRpb24oJ2NvbnRlbnRJZCcpO1xuICAgIFBlcnNpc3Rvci5yZW1vdmUocGlkKTtcbiAgICBwb3N0TGlzdFVwZGF0ZXIoKG9sZFBvc3RMaXN0KSA9PiB7XG4gICAgICByZXR1cm4gb2xkUG9zdExpc3QuZmlsdGVyKHAgPT4gcC5pZCAhPT0gcGlkKTtcbiAgICB9KTtcblxuICAgIGlmKHR5cGUgPT09ICdkcmFmdCcpIHtcbiAgICAgIHN1Y2Nlc3MoJ+WNmuaWh+W3sue7j+WIoOmZpCcpXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgYXBpLmRlbGV0ZShwaWQpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIGFjdGl2ZSgwKTtcbiAgICAgICAgc3VjY2Vzcygn5Y2a5paH5rC45LmF5Yig6ZmkJylcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgZXJyb3IoJ+WNmuaWh+WIoOmZpOWksei0pScpO1xuICAgICAgfSk7XG4gIH1cblxuIiwiZXhwb3J0IGRlZmF1bHQgKHsgUGVyc2lzdG9yLCBhcGksIHBvc3RMaXN0VXBkYXRlciB9KSA9PiBcbiAgKHtlcnJvciwgc3VjY2Vzcywgd2Fybn0sIGNtKSA9PiB7XG4gICAgY29uc3QgdGl0bGUgPSBjbS5nZXRPcHRpb24oJ25ld1Bvc3RUaXRsZScpO1xuICAgIGNvbnN0IHRtcElkID0gY20uZ2V0T3B0aW9uKCdjb250ZW50SWQnKTtcbiAgICBjb25zdCB0bXBUaXRsZSA9IFBlcnNpc3Rvci5nZXQodG1wSWQpLnRpdGxlO1xuXG4gICAgY29uc3QgY29udGVudCA9IGNtLmRvYy5nZXRWYWx1ZSgpO1xuICAgIGlmICghKHRpdGxlIHx8IHRtcFRpdGxlKSkge1xuICAgICAgZXJyb3IoJ+agh+mimOS4jeiDveS4uuepuiEnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFjb250ZW50KSB7XG4gICAgICBlcnJvcign5YaF5a655LiN6IO95Li656m6IScpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGFwaS5jcmVhdGUodGl0bGUgfHwgdG1wVGl0bGUsIGNvbnRlbnQpXG4gICAgICAudGhlbigobmV3UG9zdCkgPT4ge1xuICAgICAgICBQZXJzaXN0b3IucmVtb3ZlKHRtcElkKTtcbiAgICAgICAgcG9zdExpc3RVcGRhdGVyKChvbGRQb3N0TGlzdCkgPT4ge1xuICAgICAgICAgIG9sZFBvc3RMaXN0WzBdID0gbmV3UG9zdDtcbiAgICAgICAgICBvbGRQb3N0TGlzdFswXS5wb3N0VHlwZSA9ICdwdWJsaXNoZWQnXG4gICAgICAgIH0pXG4gICAgICAgIHN1Y2Nlc3MoJ+WNmuaWh+WIm+W7uuaIkOWKnycpXG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgIGVycm9yKCfljZrmlofliJvlu7rlpLHotKUnKVxuICAgICAgfSk7XG4gIH1cblxuIiwiaW1wb3J0IGhhc2ggZnJvbSAnb2JqZWN0LWhhc2gnO1xuZXhwb3J0IGRlZmF1bHQgKHsgUGVyc2lzdG9yLCBwb3N0TGlzdFVwZGF0ZXIsIGFjdGl2ZSB9KSA9PiBcbiAgKHtlcnJvciwgc3VjY2Vzcywgd2Fybn0sIGNtLCBwYXJhbXMpID0+IHtcbiAgICBjb25zdCB0aXRsZSA9IHBhcmFtcy5hcmdTdHJpbmcgJiYgcGFyYW1zLmFyZ1N0cmluZy50cmltKCk7XG4gICAgaWYoIXRpdGxlKSB7XG4gICAgICBlcnJvcign5qCH6aKY5LiN6IO95Li656m6OiBuZXcgJmx0O3RpdGxlJmd0OycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjbS5zZXRPcHRpb24oJ25ld1Bvc3RUaXRsZScsIHRpdGxlKTtcbiAgICBjb25zdCB0bXBJZCA9IGhhc2goRGF0ZS5ub3coKSkuc2xpY2UoMTYpO1xuICAgIGNvbnN0IG5ld1Bvc3QgPSB7XG4gICAgICB0aXRsZSxcbiAgICAgIGlkOiB0bXBJZCxcbiAgICAgIHBvc3RUeXBlOiAnZHJhZnQnLFxuICAgICAgY29udGVudDogJydcbiAgICB9XG4gICAgUGVyc2lzdG9yLnNldCh0bXBJZCwgbmV3UG9zdCk7XG4gICAgcG9zdExpc3RVcGRhdGVyKChvbGRQb3N0TGlzdCkgPT4ge1xuICAgICAgb2xkUG9zdExpc3QudW5zaGlmdChuZXdQb3N0KTtcbiAgICB9LCAoKSA9PiB7XG4gICAgICBhY3RpdmUoMCk7XG4gICAgfSlcbiAgfVxuXG4iLCJpbXBvcnQge1xuICBidWlsZFVwZGF0ZUNtZCxcbiAgYnVpbGREZWxldGVDbWQsXG4gIGJ1aWxkQ3JlYXRlQ21kLFxuICBidWlsZE5ld0NtZCxcbn0gZnJvbSAnLi9jb21tYW5kcyc7XG5cbi8qKlxuICogQHBvc3RUeXBlIHtTdHJpbmd9IFsnZHJhZnQnLCAncHVibGlzaGVkJ11cbiAqL1xuXG5jb25zdCBwaWNrQ21kID0gKGNtZE5hbWVBcnIsIGNvbW1hbmRzKSA9PiB7XG4gIHJldHVybiBjb21tYW5kcy5maWx0ZXIoKHsgbmFtZSB9KSA9PiBjbWROYW1lQXJyLmluY2x1ZGVzKG5hbWUpKVxufVxuXG5jb25zdCBidWlsZEVkaXRvckNvbW1hbmRzID0gKHRvb2xzLCBwb3N0VHlwZSkgPT4ge1xuICBjb25zdCB7XG4gICAgYXBpLCBwb3N0TGlzdFVwZGF0ZXIsIGFjdGl2ZSwgZXhpdCwgUGVyc2lzdG9yXG4gIH0gPSB0b29scztcblxuICBjb25zdCBnZW5lcmFsQ21kU2V0ID0gW1xuICAgICduZXcnLFxuICAgICdkZWxldGVUaGlzUG9zdEZvcmV2ZXInLFxuICAgICdleGl0JyxcbiAgXTtcblxuICBjb25zdCBleEhhbmRsZXJWYWxpZGF0b3IgPSAoZm4sIGV4TmFtZSkgPT4ge1xuICAgIGNvbnN0IGRlZGljYXRlZFBvc3RDbWRNYXAgPSB7XG4gICAgICBkcmFmdDogWydwdWJsaXNoJ10sXG4gICAgICBwdWJsaXNoZWQ6IFsndXBkYXRlJ11cbiAgICB9O1xuXG4gICAgY29uc3QgZGVmYXVsdEhhbmRsZXIgPSAoeyBlcnJvciB9KSA9PiB7XG4gICAgICBlcnJvcign6Z2e5rOV5ZG95LukJyk7XG4gICAgfTtcblxuICAgIGNvbnN0IGlzVmFsaWQgPSBkZWRpY2F0ZWRQb3N0Q21kTWFwW3Bvc3RUeXBlXS5pbmNsdWRlcyhleE5hbWUpO1xuICAgIHJldHVybiBpc1ZhbGlkID8gZm4gOiBkZWZhdWx0SGFuZGxlcjtcbiAgfTtcblxuICBjb25zdCBjb21tYW5kcyA9IFt7XG4gICAgbmFtZTogJ3VwZGF0ZScsXG4gICAgZm46IGV4SGFuZGxlclZhbGlkYXRvcihidWlsZFVwZGF0ZUNtZCh0b29scyksICd1cGRhdGUnKVxuICB9LCB7XG4gICAgbmFtZTogJ2RlbGV0ZVRoaXNQb3N0Rm9yZXZlcicsXG4gICAgZm46IGJ1aWxkRGVsZXRlQ21kKHRvb2xzLCBwb3N0VHlwZSlcbiAgfSwge1xuICAgIG5hbWU6ICdwdWJsaXNoJyxcbiAgICBmbjogZXhIYW5kbGVyVmFsaWRhdG9yKGJ1aWxkQ3JlYXRlQ21kKHRvb2xzKSwgJ3B1Ymxpc2gnKVxuICB9LCB7XG4gICAgbmFtZTogJ2V4aXQnLFxuICAgIGZuOiAoKSA9PiB7IGV4aXQoKTt9XG4gIH0sIHtcbiAgICBuYW1lOiAnbmV3JyxcbiAgICBmbjogYnVpbGROZXdDbWQodG9vbHMpXG4gIH1dXG5cbiAgcmV0dXJuIGNvbW1hbmRzO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgYnVpbGRFZGl0b3JDb21tYW5kcztcbiIsImNvbnN0IEtFWV9QUkVGSVggPSAncG0tcGVyc2lzdG9yLSc7XG5jb25zdCBLRVlfUFJFRklYX0ZPUl9USU1FU1RBTVAgPSAncG0tdGltZS1zdGFtcCc7XG5jb25zdCBLRVlfUkVHX0VYUCA9IG5ldyBSZWdFeHAoJ14nICsgS0VZX1BSRUZJWCk7XG5cbmNvbnN0IHVwZGF0ZVRpbWVTdGFtcCA9ICgpID0+IHtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXG4gICAgS0VZX1BSRUZJWF9GT1JfVElNRVNUQU1QLFxuICAgIERhdGUubm93KClcbiAgKTtcbn1cblxuY29uc3QgZ2V0VGltZVN0YW1wID0gKCkgPT4ge1xuICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcbiAgICBLRVlfUFJFRklYX0ZPUl9USU1FU1RBTVAsXG4gICkgfHwgMDtcbn1cblxuY29uc3Qgc2V0ID0gKGtleSwgdmFsKSA9PiB7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFxuICAgIEtFWV9QUkVGSVggKyBrZXksXG4gICAgSlNPTi5zdHJpbmdpZnkodmFsKVxuICApO1xuICB1cGRhdGVUaW1lU3RhbXAoKTtcbn1cblxuY29uc3QgZ2V0ID0gKGtleSkgPT4ge1xuICBpZiAoIWtleSkge1xuICAgIHJldHVybjtcbiAgfVxuICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcbiAgICBLRVlfUFJFRklYICsga2V5XG4gICkpO1xufVxuXG5jb25zdCBfZ2V0ID0gKGtleSkgPT4ge1xuICBpZiAoIWtleSkge1xuICAgIHJldHVybjtcbiAgfVxuICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcbiAgICBrZXlcbiAgKSk7XG59XG5cbmNvbnN0IF9nZXRQZXJzaXN0b3JLeWVzID0gKCkgPT4ge1xuICByZXR1cm4gT2JqZWN0LmtleXMobG9jYWxTdG9yYWdlKVxuICAgIC5maWx0ZXIoayA9PiBLRVlfUkVHX0VYUC50ZXN0KGspKVxufVxuXG5jb25zdCByZW1vdmUgPSAoa2V5KSA9PiB7XG4gIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFxuICAgIEtFWV9QUkVGSVggKyBrZXlcbiAgKTtcbn1cblxuY29uc3QgbGlzdCA9ICgpID0+IHtcbiAgcmV0dXJuIF9nZXRQZXJzaXN0b3JLeWVzKCkubWFwKF9nZXQpXG59O1xuXG5jb25zdCB3aXRoTG9jYWxMaXN0ID0gKGFycikgPT4ge1xuICBjb25zdCBsb2NhbExpc3QgPSBsaXN0KCk7XG4gIGNvbnN0IGlkTWFwID0ge307XG4gIGFyci5mb3JFYWNoKCh7aWR9KSA9PiB7XG4gICAgaWRNYXBbaWRdID0gdHJ1ZTtcbiAgfSk7XG5cbiAgaWYgKCFhcnIubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGxvY2FsTGlzdDtcbiAgfVxuXG4gIGNvbnN0IG5ld1Bvc3RzID0gbG9jYWxMaXN0XG4gICAgLmZpbHRlcigoeyBpZCB9KSA9PiB7XG4gICAgICByZXR1cm4gIWlkTWFwW2lkXTtcbiAgICB9KTtcblxuICByZXR1cm4gW1xuICAgIC4uLm5ld1Bvc3RzLm1hcChwID0+ICh7cG9zdFR5cGU6ICdkcmFmdCcsIC4uLnB9KSksXG4gICAgLi4uYXJyLm1hcChwID0+ICh7cG9zdFR5cGU6ICdwdWJsaXNoZWQnLCAuLi5wfSkpXG4gIF1cbn07XG5cbmNvbnN0IGRlc3Ryb3kgPSAoKSA9PiB7XG4gIF9nZXRQZXJzaXN0b3JLeWVzKCkuZm9yRWFjaChrID0+IHtcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrKVxuICB9KTtcbn1cblxuZXhwb3J0IHtcbiAgc2V0LFxuICBnZXQsXG4gIHJlbW92ZSxcbiAgbGlzdCxcbiAgZGVzdHJveSxcbiAgd2l0aExvY2FsTGlzdCxcbn1cbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBwcm9kdWNlIGZyb20gJ2ltbWVyJztcblxuaW1wb3J0IEFzeW5jSW1wb3J0IGZyb20gJy4vYXN5bmMtaW1wb3J0JztcbmltcG9ydCBQb3N0TGlzdCBmcm9tICcuL3Bvc3QtbGlzdC8nXG5pbXBvcnQgYnVpbGRFZGl0b3JFeEFyciBmcm9tICcuL2N1c3RvbS1lZGl0b3ItY29tbWFuZHMvJ1xuaW1wb3J0ICogYXMgUGVyc2lzdG9yIGZyb20gJy4uL3BlcnNpc3Rvci8nXG5cbmNvbnN0IEVkaXRvciA9IEFzeW5jSW1wb3J0KFxuICAoKSA9PiB7XG4gICAgcmV0dXJuIGltcG9ydCgnQHpob3VqaWFoYW8vZWRpdG9yL2xpYi9yZWFjdC1jb2RlLW1pcnJvcicpO1xuICB9LFxuICAoXG4gICAgPGRpdlxuICAgICAgc3R5bGU9e3tcbiAgICAgICAgd2lkdGg6ICdjYWxjKDUwJSAtIDE1cHgpJyxcbiAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgIGJvcmRlcjogJ2RvdHRlZCAxcHggIzAwMCcsXG4gICAgICAgIGJhY2tncm91bmQ6ICcjZjBmMGYwJyxcbiAgICAgIH19XG4gICAgLz5cbiAgKVxuKVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYW5lIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBhY3RpdmVQb3N0SWR4OiAwLFxuICAgICAgcG9zdExpc3Q6IHRoaXMucHJvcHMucG9zdHNcbiAgICB9XG4gIH1cbiAgXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIC8vIFBlcnNpc3Rvci5kZXN0cm95KCk7XG4gIH1cblxuICBhY3RpdmUgPSAoYWN0aXZlUG9zdElkeCkgPT4ge3RoaXMuc2V0U3RhdGUoeyBhY3RpdmVQb3N0SWR4IH0pfVxuXG4gIHVwZGF0ZVBvc3RMaXN0ID0gKHVwZGF0ZXJGbiwgY2JGbiA9ICgpID0+IG51bGwpID0+IHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh1cGRhdGVyRm4pKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgcG9zdExpc3Q6IHVwZGF0ZXJGblxuICAgICAgfSlcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB0aGlzLnNldFN0YXRlKHByZXZTdGF0ZSA9PiAoe1xuICAgICAgcG9zdExpc3Q6IHByb2R1Y2UocHJldlN0YXRlLnBvc3RMaXN0LCB1cGRhdGVyRm4pXG4gICAgfSksIGNiRm4pXG4gIH1cblxuICBidWlsZEVkdENscyA9ICgpID0+IHtcbiAgICBjb25zdCBlZGl0aW5nUG9zdCA9IHRoaXMuc3RhdGUucG9zdExpc3RbXG4gICAgICB0aGlzLnN0YXRlLmFjdGl2ZVBvc3RJZHhcbiAgICBdO1xuICAgIGNvbnN0IGxvY2FsQ2hhbmdlcyA9IFBlcnNpc3Rvci5nZXQoZWRpdGluZ1Bvc3QuaWQpO1xuICAgIGxldCB0eXBlID0gbG9jYWxDaGFuZ2VzXG4gICAgICA/ICdjaGFuZ2VkLWZpbGUnXG4gICAgICA6ICdub3JtYWwtZmlsZSdcblxuICAgIGlmICghZWRpdGluZ1Bvc3QuaGFzT3duUHJvcGVydHkoJ2NyZWF0ZWRBdCcpKSB7XG4gICAgICB0eXBlID0gJ25ldy1maWxlJztcbiAgICB9XG5cbiAgICByZXR1cm4gXCJlZGl0b3Itd3JhcHBlciBcIiArIHR5cGU7XG4gIH1cblxuICB0aXRsZUZvcm1hdHRlciA9IHAgPT4ge1xuICAgIHJldHVybiBgJHtwLnRpdGxlfWA7XG4gIH1cblxuICBnZXRFZGl0aW5nUG9zdFRpdGxlID0gKCkgPT4ge1xuICAgIGNvbnN0IGVkaXRpbmdQb3N0ID0gdGhpcy5zdGF0ZS5wb3N0TGlzdFtcbiAgICAgIHRoaXMuc3RhdGUuYWN0aXZlUG9zdElkeFxuICAgIF07XG4gICAgcmV0dXJuIGVkaXRpbmdQb3N0LnRpdGxlO1xuICB9XG5cbiAgaGFuZGxlRWRpdG9yQ29udGVudENoYW5nZSA9IChpZCwgY29udGVudCkgPT4ge1xuICAgIGNvbnN0IGVkaXRpbmdQb3N0ID0gdGhpcy5zdGF0ZS5wb3N0TGlzdFtcbiAgICAgIHRoaXMuc3RhdGUuYWN0aXZlUG9zdElkeFxuICAgIF07XG4gICAgUGVyc2lzdG9yLnNldChpZCwge1xuICAgICAgdGl0bGU6IHRoaXMuZ2V0RWRpdGluZ1Bvc3RUaXRsZSgpLFxuICAgICAgcG9zdFR5cGU6IGVkaXRpbmdQb3N0LnR5cGUsXG4gICAgICBpZCxcbiAgICAgIGNvbnRlbnRcbiAgICB9KVxuICB9XG5cbiAgcmVuZGVyVGl0bGVMaXN0ID0gKCkgPT4ge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNpZGUtbGlzdC1jb2xcIj5cbiAgICAgICAgPFBvc3RMaXN0XG4gICAgICAgICAgdGl0bGVzPXt0aGlzLnN0YXRlLnBvc3RMaXN0Lm1hcCh0aGlzLnRpdGxlRm9ybWF0dGVyKX1cbiAgICAgICAgICBvblRpdGxlQ2xpY2s9e3RoaXMuYWN0aXZlfVxuICAgICAgICAgIGFjdGl2ZVBvc3RJZHg9e3RoaXMuc3RhdGUuYWN0aXZlUG9zdElkeH1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIHJlbmRlckVkaXRvciA9ICgpID0+IHtcbiAgICBjb25zdCBlZGl0aW5nUG9zdCA9IHRoaXMuc3RhdGUucG9zdExpc3RbXG4gICAgICB0aGlzLnN0YXRlLmFjdGl2ZVBvc3RJZHhcbiAgICBdO1xuICAgIGNvbnN0IGxvY2FsQ2hhbmdlcyA9IFBlcnNpc3Rvci5nZXQoZWRpdGluZ1Bvc3QuaWQpO1xuICAgIGNvbnN0IGluaXRDb250ZW50ID0gKGxvY2FsQ2hhbmdlcyAmJiBsb2NhbENoYW5nZXMuY29udGVudCAhPT0gdW5kZWZpbmVkKVxuICAgICAgPyBsb2NhbENoYW5nZXMuY29udGVudFxuICAgICAgOiAoZWRpdGluZ1Bvc3QuY29udGVudCB8fCAnJylcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5idWlsZEVkdENscygpfSA+XG4gICAgICAgIDxFZGl0b3JcbiAgICAgICAgICB2YWx1ZT17aW5pdENvbnRlbnR9XG4gICAgICAgICAgY29udGVudElkPXtlZGl0aW5nUG9zdC5pZH1cbiAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I9XCIjZjJmMmYyXCJcbiAgICAgICAgICBvblNhdmU9e3RoaXMuaGFuZGxlRWRpdG9yQ29udGVudENoYW5nZX1cbiAgICAgICAgICBleEFycj17YnVpbGRFZGl0b3JFeEFycih7XG4gICAgICAgICAgICBhcGk6IHRoaXMucHJvcHMuYXBpLFxuICAgICAgICAgICAgcG9zdExpc3RVcGRhdGVyOiB0aGlzLnVwZGF0ZVBvc3RMaXN0LFxuICAgICAgICAgICAgYWN0aXZlOiB0aGlzLmFjdGl2ZSxcbiAgICAgICAgICAgIGV4aXQ6IHRoaXMucHJvcHMuZXhpdCxcbiAgICAgICAgICAgIFBlcnNpc3RvclxuICAgICAgICAgIH0sIGVkaXRpbmdQb3N0LnBvc3RUeXBlKX1cbiAgICAgICAgLz5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJwYW5lXCI+XG4gICAgICAgICAge3RoaXMucmVuZGVyVGl0bGVMaXN0KCl9XG4gICAgICAgICAge3RoaXMucmVuZGVyRWRpdG9yKCl9XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbn1cbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcblxuaW1wb3J0IHsgJCB9IGZyb20gJ0B6aG91amlhaGFvL3V0aWxzJztcblxuaW1wb3J0IFBhbmUgZnJvbSAnLi9wYW5lJztcbmltcG9ydCAnLi9zdHlsZS5zY3NzJztcblxuZXhwb3J0IGNvbnN0IHVuaW5zdGFsbCA9ICgpID0+IHtcbiAgUmVhY3RET00udW5tb3VudENvbXBvbmVudEF0Tm9kZSgkKCcjZ3VpJykpO1xufVxuXG5leHBvcnQgZGVmYXVsdCAocG9zdHMsIGFwaSwgZXhpdCkgPT4ge1xuICBjb25zdCAkZ3VpID0gJCgnI2d1aScpXG4gICRndWkuY2xhc3NMaXN0LmFkZCgnZnVsbHNjcmVlbicpO1xuICBSZWFjdERPTS5yZW5kZXIoXG4gICAgPFBhbmUgcG9zdHM9e3Bvc3RzfSBhcGk9e2FwaX0gZXhpdD17ZXhpdH0vPixcbiAgICAkZ3VpXG4gIClcbn1cbiIsImltcG9ydCB7IHJlcSwgcmVxQW5kQ2FjaGUgfSBmcm9tICdAemhvdWppYWhhby91dGlscyc7XG5cbmNvbnN0IEFQSV9DT05GSUcgPSB7XG4gIGJhc2VVUkw6ICdodHRwczovL2FwaS1ncm9jZXJ5LnpqaC1pbS5ub3cuc2gveicsXG4gIGNvbnRlbnRUeXBlOiAncG9zdHMnLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgKGNyZWRlbnRpYWwpID0+IHtcbiAgY29uc3QgYWN0aW9uc05lZWRDcmVkZW50aWFsID0gY3JlZGVudGlhbFxuICAgID8ge1xuICAgICAgY3JlYXRlOiAodGl0bGUsIGNvbnRlbnQpID0+IHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfSxcbiAgICAgIHVwZGF0ZTogKGlkLCBjb250ZW50KSA9PiB7XG4gICAgICAgIHJldHVybiByZXEoXG4gICAgICAgICAgYCR7QVBJX0NPTkZJRy5iYXNlVVJMfS9wb3N0L3VwZGF0ZWAsXG4gICAgICAgICAgJ1BPU1QnLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgIC4uLmNyZWRlbnRpYWxcbiAgICAgICAgICB9KVxuICAgICAgfSxcbiAgICAgIGRlbGV0ZTogKGlkKSA9PiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgOiB7XG4gICAgICBjcmVhdGU6ICgpID0+IFByb21pc2UucmVzb2x2ZSgpLFxuICAgICAgdXBkYXRlOiAoKSA9PiBQcm9taXNlLnJlc29sdmUoKSxcbiAgICAgIGRlbGV0ZTogKCkgPT4gUHJvbWlzZS5yZXNvbHZlKCksXG4gICAgfTtcblxuICByZXR1cm4ge1xuICAgIGxpc3Q6ICgpID0+IHtcbiAgICAgIHJldHVybiByZXFBbmRDYWNoZShgJHtBUElfQ09ORklHLmJhc2VVUkx9L3Bvc3RzYCk7XG4gICAgfSxcbiAgICAuLi5hY3Rpb25zTmVlZENyZWRlbnRpYWxcbiAgfVxufVxuIiwiaW1wb3J0IHsgZG9jVHBsLCAkIH0gZnJvbSAnQHpob3VqaWFoYW8vdXRpbHMnO1xuXG5pbXBvcnQgcnVuTWFuYWdlUGFuZWwgZnJvbSAnLi9tYW5hZ2UtcGFuZSc7XG5pbXBvcnQge3VuaW5zdGFsbH0gZnJvbSAnLi9tYW5hZ2UtcGFuZSc7XG5pbXBvcnQgcG9zdFNESyBmcm9tICcuL2Jsb2ctYXBpLyc7XG5pbXBvcnQgeyB3aXRoTG9jYWxMaXN0IH0gZnJvbSAnLi9wZXJzaXN0b3IvJztcblxuY29uc3QgZG9jID0gZG9jVHBsKCdwbScsICdwbSBbYWNjZXNzIHRva2VuXScsICdwb3N0cyBtYW5hZ2VyIGZvciBteSBibG9nLicpO1xuZXhwb3J0IGRlZmF1bHQge1xuICBkb2MsXG4gIHNob3J0b3B0czogJ2UnLFxuICBoYW5kbGVyOiBhc3luYyAoXG4gICAgcGFyYW1zT2JqLFxuICAgIGNtZFNldCxcbiAgICAkdGVybWluYWwsXG4gICAge1xuICAgICAgcmVzdFBhcmFtczogYWNjZXNzVG9rZW5cbiAgICB9XG4gICkgPT4ge1xuICAgIGlmIChwYXJhbXNPYmouZSkge1xuICAgICAgdW5pbnN0YWxsKCk7XG4gICAgICByZXR1cm4gJ0dvb2RieWUnO1xuICAgIH07XG5cbiAgICBjb25zdCBjcmVkZW50aWFsID0gKCBwYXJhbXNPYmoudXNlciAmJiBwYXJhbXNPYmoucGFzc3dvcmQgKVxuICAgICAgPyB7XG4gICAgICAgIHVzZXI6IHBhcmFtc09iai51c2VyLFxuICAgICAgICBwYXNzd29yZDogcGFyYW1zT2JqLnBhc3N3b3JkXG4gICAgICB9XG4gICAgICA6IG51bGw7XG5cbiAgICBjb25zdCBhcGkgPSBwb3N0U0RLKGNyZWRlbnRpYWwpO1xuICAgIGNvbnN0IHBvc3RzID0gYXdhaXQgYXBpLmxpc3QoKTtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcnVuTWFuYWdlUGFuZWwod2l0aExvY2FsTGlzdChwb3N0cyksIGFwaSwgKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAkKCcjZ3VpJykuY2xhc3NMaXN0LnJlbW92ZSgnZnVsbHNjcmVlbicpO1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgVGVybWluYWwgJiYgVGVybWluYWwuZXhlYygncG0gLWUnKTtcbiAgICAgICAgICB9KVxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIFwiRXJyb3I6IEludmFsaWQgQWNjZXNzIFRva2VuLiBcXG5Bbm9ueW1vdXMgbW9kZSBpcyB1bnN1cHBvcnQgcmlnaHQgbm93LlwiO1xuICAgICAgfVxuICAgIH0pXG4gIH1cbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=