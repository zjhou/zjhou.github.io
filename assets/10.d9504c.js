(this.webpackJsonp=this.webpackJsonp||[]).push([[10],{Rf5Z:function(t,n,e){"use strict";e.r(n);var r=e("8RZD");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i={clear:function(){return""},history:function(){return""},echo:function(t,n,e,r){return r.fromPipe||r.restParams},man:{handler:function(t,n,e,i){var u=i.restParams;if(!n)return!1;if(!u)return Object(r.b)(n.man.doc);if(u&&n[u.trim()]){var c=n[u.trim()];return"object"===o(c)&&Object(r.b)(c.doc)||"没有帮助信息"}},doc:"\n            NAME\n                man -- display command's manual info.\n                \n            SYNOPSIS\n                man [ command name ]"},help:function(t,n){if(!n)return!1;var e;return"Available commands: \n"+Object.keys(n).sort().map((e="- ",function(t){return e+t})).join("\n")}},u="\n    .session > .input {line-height: 1.2}\n    ::-webkit-scrollbar {\n        width: 2pt\n    }\n    \n    ::-webkit-scrollbar:horizontal {\n        height: 0\n    }\n\n    ::-webkit-scrollbar-button {\n        display: none\n    }\n\n    ::-webkit-scrollbar-thumb {\n        background: #d0d0d0\n    }\n",c=(Symbol(),Symbol(),function(t,n){n||(n={});var e={bools:{},strings:{},unknownFn:null};"function"==typeof n.unknown&&(e.unknownFn=n.unknown),"boolean"==typeof n.boolean&&n.boolean?e.allBools=!0:[].concat(n.boolean).filter(Boolean).forEach((function(t){e.bools[t]=!0}));var r={};Object.keys(n.alias||{}).forEach((function(t){r[t]=[].concat(n.alias[t]),r[t].forEach((function(n){r[n]=[t].concat(r[t].filter((function(t){return n!==t})))}))})),[].concat(n.string).filter(Boolean).forEach((function(t){e.strings[t]=!0,r[t]&&(e.strings[r[t]]=!0)}));var o=n.default||{},i={_:[]};Object.keys(e.bools).forEach((function(t){c(t,void 0!==o[t]&&o[t])}));var u=[];function c(t,n,o){if(!o||!e.unknownFn||function(t,n){return e.allBools&&/^--[^=]+$/.test(n)||e.strings[t]||e.bools[t]||r[t]}(t,o)||!1!==e.unknownFn(o)){var u=!e.strings[t]&&a(n)?Number(n):n;s(i,t.split("."),u),(r[t]||[]).forEach((function(t){s(i,t.split("."),u)}))}}function s(t,n,r){var o=t;n.slice(0,-1).forEach((function(t){void 0===o[t]&&(o[t]={}),o=o[t]}));var i=n[n.length-1];void 0===o[i]||e.bools[i]||"boolean"==typeof o[i]?o[i]=r:Array.isArray(o[i])?o[i].push(r):o[i]=[o[i],r]}function l(t){return r[t].some((function(t){return e.bools[t]}))}-1!==t.indexOf("--")&&(u=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var f=0;f<t.length;f++){var p=t[f];if(/^--.+=/.test(p)){var b=p.match(/^--([^=]+)=([\s\S]*)$/),d=b[1],h=b[2];e.bools[d]&&(h="false"!==h),c(d,h,p)}else if(/^--no-.+/.test(p)){c(p.match(/^--no-(.+)/)[1],!1,p)}else if(/^--.+/.test(p)){var y=p.match(/^--(.+)/)[1],v=t[f+1];void 0===v||/^-/.test(v)||e.bools[y]||e.allBools||r[y]&&l(y)?/^(true|false)$/.test(v)?(c(y,"true"===v,p),f++):c(y,!e.strings[y]||"",p):(c(y,v,p),f++)}else if(/^-[^-]+/.test(p)){for(var m=p.slice(1,-1).split(""),g=!1,O=0;O<m.length;O++){var j=p.slice(O+2);if("-"!==j){if(/[A-Za-z]/.test(m[O])&&/=/.test(j)){c(m[O],j.split("=")[1],p),g=!0;break}if(/[A-Za-z]/.test(m[O])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(j)){c(m[O],j,p),g=!0;break}if(m[O+1]&&m[O+1].match(/\W/)){c(m[O],p.slice(O+2),p),g=!0;break}c(m[O],!e.strings[m[O]]||"",p)}else c(m[O],j,p)}var w=p.slice(-1)[0];g||"-"===w||(!t[f+1]||/^(-|--)[^-]/.test(t[f+1])||e.bools[w]||r[w]&&l(w)?t[f+1]&&/true|false/.test(t[f+1])?(c(w,"true"===t[f+1],p),f++):c(w,!e.strings[w]||"",p):(c(w,t[f+1],p),f++))}else if(e.unknownFn&&!1===e.unknownFn(p)||i._.push(e.strings._||!a(p)?p:Number(p)),n.stopEarly){i._.push.apply(i._,t.slice(f+1));break}}return Object.keys(o).forEach((function(t){var n,e,u;n=i,e=t.split("."),u=n,e.slice(0,-1).forEach((function(t){u=u[t]||{}})),e[e.length-1]in u||(s(i,t.split("."),o[t]),(r[t]||[]).forEach((function(n){s(i,n.split("."),o[t])})))})),n["--"]?(i["--"]=new Array,u.forEach((function(t){i["--"].push(t)}))):u.forEach((function(t){i._.push(t)})),i});function a(t){return"number"==typeof t||(!!/^0x[0-9a-f]+$/i.test(t)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t))}var s=function(t){var n=function(n){if(!n.trim())return{userInput:n,errorInfo:"空命令"};var e=n.trim().split(/\s+/),r=e[0];if(!r)return{userInput:n,errorInfo:"空命令"};var o=Object.keys(t),i=n.replace(r,"").trim();if(!o.includes(r))return{restParams:i,userInput:n,errorInfo:"".concat(r," 不是合法命令")};var u=t[r],a=e.slice(1),s={};try{s=c(a)}catch(t){return{restParams:i,userInput:n,errorInfo:t}}return{restParams:i,userInput:n,errorInfo:null,command:u,paramsObj:s}};return function(t){if(t.includes("|")){var e=t.split("|");return e.length<2?n(e[0]):{isMultiResult:!0,userInput:t,parsedResults:e.map((function(t){return n(t.trim())}))}}return n(t)}},l=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"],f={a:"a",enter:"Enter"},p='"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace',b="12px",d=function(t){var n=t.cursorColor,e=void 0===n?"#000":n,r=t.blinkSpeed,o=void 0===r?"1s":r;return"\n        @keyframes cursor-blink {\n          from {\n             background: ".concat(e,";\n             color: #fff;\n          }\n\n          to {\n             background: none;\n             color: #000;\n          }\n        }\n        \n        .highlight {\n            color: #fff;\n            background: #000;\n        }\n        \n        .blink:not(.disabled) {\n          animation-duration: ").concat(o,";\n          animation-name: cursor-blink;\n          animation-iteration-count: infinite\n        }\n    ")},h=e("K9Ia"),y=e("nkY7"),v=e("IUTb"),m=e("JF+6");var g=e("p0ib"),O=new h.a,j=function(t){return function(n){O.next({input:t,output:n})}},w={in:function(t){var n=t.parsedResult,e=t.cmdSet,o=t.$terminal;if(n)if(n.isMultiResult)!function(t){var n=t.parsedResult,e=t.cmdSet,o=t.$terminal,i=n.userInput;O.next({input:i,loading:!0,output:""}),Object(r.s)(n.parsedResults.map((function(t){return function(n){var r;return regeneratorRuntime.async((function(i){for(;;)switch(i.prev=i.next){case 0:if(!t.errorInfo){i.next=2;break}throw t.errorInfo;case 2:return r=t.command.handler||t.command,t.fromPipe=n,i.abrupt("return",r(t.paramsObj,e,o,t));case 5:case"end":return i.stop()}}))}}))).then((function(t){O.next({output:t,input:i})})).catch(j(i))}({parsedResult:n,cmdSet:e,$terminal:o});else{var i=n.userInput;if(n.errorInfo)O.next({input:i,output:n.errorInfo});else{var u=n.command.handler||n.command,c="";try{c=u(n.paramsObj,e,o,n,function(t){return function(n,e){O.next({loading:!0,print:!0,input:t,output:e?Object(r.r)()+" "+n:n})}}(i))}catch(t){return void j(i)(t)}"string"!=typeof c?(O.next({input:i,loading:!0,output:""}),Promise.resolve(c).then((function(t){O.next({output:t,input:i})})).catch(j(i))):O.next({input:i,output:c})}}else O.next(null)},out$:O},S=e("mrSG"),k=e("FFOo");function x(t,n){var e=!1;return arguments.length>=2&&(e=!0),function(r){return r.lift(new P(t,n,e))}}var P=function(){function t(t,n,e){void 0===e&&(e=!1),this.accumulator=t,this.seed=n,this.hasSeed=e}return t.prototype.call=function(t,n){return n.subscribe(new E(t,this.accumulator,this.seed,this.hasSeed))},t}(),E=function(t){function n(n,e,r,o){var i=t.call(this,n)||this;return i.accumulator=e,i._seed=r,i.hasSeed=o,i.index=0,i}return S.a(n,t),Object.defineProperty(n.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),n.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},n.prototype._tryNext=function(t){var n,e=this.index++;try{n=this.accumulator(this.seed,t,e)}catch(t){this.destination.error(t)}this.seed=n,this.destination.next(n)},n}(k.a),R=e("67Y/"),A=e("MGBS"),I=e("zotm");function _(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(n){var e;"function"==typeof t[t.length-1]&&(e=t.pop());var r=t;return n.lift(new $(r,e))}}var $=function(){function t(t,n){this.observables=t,this.project=n}return t.prototype.call=function(t,n){return n.subscribe(new D(t,this.observables,this.project))},t}(),D=function(t){function n(n,e,r){var o=t.call(this,n)||this;o.observables=e,o.project=r,o.toRespond=[];var i=e.length;o.values=new Array(i);for(var u=0;u<i;u++)o.toRespond.push(u);for(u=0;u<i;u++){var c=e[u];o.add(Object(I.a)(o,c,c,u))}return o}return S.a(n,t),n.prototype.notifyNext=function(t,n,e,r,o){this.values[e]=n;var i=this.toRespond;if(i.length>0){var u=i.indexOf(e);-1!==u&&i.splice(u,1)}},n.prototype.notifyComplete=function(){},n.prototype._next=function(t){if(0===this.toRespond.length){var n=[t].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},n.prototype._tryProject=function(t){var n;try{n=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(n)},n}(A.a),F=e("VnD/"),M=e("bne5"),C=e("8g8A"),N=function(t){function n(n){var e=t.call(this)||this;return e._value=n,e}return S.a(n,t),Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),n.prototype._subscribe=function(n){var e=t.prototype._subscribe.call(this,n);return e&&!e.closed&&n.next(this._value),e},n.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new C.a;return this._value},n.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},n}(h.a),z=e("isby"),B={};function L(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=null,r=null;return Object(y.a)(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(z.a)(t[0])&&(t=t[0]),Object(v.a)(t,r).lift(new T(e))}var T=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,n){return n.subscribe(new H(t,this.resultSelector))},t}(),H=function(t){function n(n,e){var r=t.call(this,n)||this;return r.resultSelector=e,r.active=0,r.values=[],r.observables=[],r}return S.a(n,t),n.prototype._next=function(t){this.values.push(B),this.observables.push(t)},n.prototype._complete=function(){var t=this.observables,n=t.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(var e=0;e<n;e++){var r=t[e];this.add(Object(I.a)(this,r,r,e))}}},n.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},n.prototype.notifyNext=function(t,n,e,r,o){var i=this.values,u=i[e],c=this.toRespond?u===B?--this.toRespond:this.toRespond:0;i[e]=n,0===c&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},n.prototype._tryResultSelector=function(t){var n;try{n=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(n)},n}(A.a);function J(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return function(n){return Object(R.a)(function(t,n){return function(e){for(var r=e,o=0;o<n;o++){var i=r[t[o]];if(void 0===i)return;r=i}return r}}(t,e))(n)}}var q=e("ad02"),Y=function(){var t=document.createElement("input");return t.style.height="20px",t.style.position="fixed",t.style.zIndex="-1",t.style.outline="none",t.style.border="none",t.style.top="0",t.style.left="0",t.style.opacity="0",screen.width<500&&(t.style.transform="scale(0)"),t.style.color="transparent",t.setAttribute("autocomplete","off"),t.onblur=function(){setTimeout((function(){t.focus()}))},t},Z=function(t,n){var e=t.getBoundingClientRect(),r=e.left,o=e.top;n.style.left="".concat(r,"px"),n.style.top="".concat(o,"px")},V=function(t,n){return Z(t,n),function(e){Z(t,n);var r=e.start!==e.end,o=""===e.inputStr,i=e.inputStr.split("").map((function(t){return" "===t?"&nbsp;":t}));r&&!o||i.push("&nbsp;"),t.innerHTML=i.map((function(t,n){return function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return'<span class="'.concat(e.join(" "),'">').concat(t,"</span>")}(t,(i=n,o?"blink":r&&i>=e.start&&i<=e.end?"highlight":i===e.start?"blink":""));var i})).join("")}},G=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(r.l)(d(e)),t.style.fontFamily=p,t.style.fontSize=b,t.style.wordBreak="break-all",V(t,n)({inputStr:"",start:0,end:0})};function U(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function K(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?U(Object(e),!0).forEach((function(n){W(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):U(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function W(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function Q(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var e=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var X=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw"Input wrapper element missing.";var e=Y();document.body.appendChild(e),e.focus(),G(t,e,n);var o=Object(M.a)(e,"input"),i=Object(M.a)(e,"select"),u=Object(M.a)(e,"keyup"),c=new N("");o.pipe(J("target","value")).subscribe((function(t){return c.next(t)}));var a=u.pipe(Object(F.a)((function(t){return l.includes(t.key)}))),s=u.pipe(Object(F.a)((function(t){return t.key===f.enter})),Object(F.a)((function(t){return!t.target.disabled})),_(c),Object(R.a)((function(t){var n=Q(t,2);n[0];return n[1]})),Object(F.a)((function(t){return!!t}))),p=Object(g.a)(o,a,i),b=p.pipe(Object(R.a)((function(t){return{start:t.target.selectionStart,end:t.target.selectionEnd}}))),d=L(c,b).pipe(Object(R.a)((function(t){var n=Q(t,2);return K({inputStr:n[0]},n[1])})),Object(q.a)((function(t,n){return JSON.stringify(t)===JSON.stringify(n)}))),h=V(t,e);return d.subscribe(h),{enter$:s,input$:o,get target(){return e},set value(n){e.value=n,c.next(n),""===n&&Z(t,e),Object(r.y)(e,l[0])},set disabled(n){var r=t.querySelector(".blink");n?(e.setAttribute("disabled",!0),r.classList.add("disabled")):(r.classList.remove("disabled"),e.removeAttribute("disabled"),e.focus())}}};function tt(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function nt(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function et(t){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var rt=Object(r.p)(),ot=function(t){var n=document.querySelector("#hist-sess"),e=document.querySelector("#curr-sess"),o=(document.querySelector("#curr-sess .input .prompt"),Object(r.i)(t)),i=o&&o.loading,u=function(n,e){var r=t[n-1];return r&&r.print&&r.input===e.input},c=i?'<span class="blink">&nbsp;</span>':"";t.length<1?n.innerHTML="":(n.innerHTML=t.map((function(t,n){return function(t){var n,e,r=t.input,o=t.output,i=t.shouldHideInput,u=t.print;if("string"==typeof o)n=o;else if("object"===et(o))try{n=o.html||JSON.stringify(o),o.html&&(e=!0)}catch(t){e=!1,n="ERROR: 不支持的显示类型"}else n=void 0===o?"":"ERROR: 不支持的显示类型";if(o instanceof Error){var c=o.message,a=o.stack;n="".concat(c,"\n\n").concat(a)}var s=e?n:'<pre style="'.concat(u?"margin: 0":"",'">').concat(n||"","</pre>"),l='\n      <div class="input">\n          <span class="prompt">$</span>\n          <span class="cmd">\n            '.concat(r||"","\n          </span>\n      </div>\n    ");return'<div class="session">\n            '.concat(i?"":l,'\n            <div class="output">\n                ').concat(s,"\n            </div>\n        </div>")}(function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?tt(Object(e),!0).forEach((function(n){nt(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):tt(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}({},t,{shouldHideInput:u(n,t)}))})).join("")+c,i?e.style.display="none":(rt(!1),e.style.display="block"))},it=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(r.l)(u),t.innerHTML='\n        <div>\n            <div id="hist-sess"></div> \n            <div id="curr-sess">\n                <div class="session">\n                    <div class="input">\n                        <span class="prompt">$</span>\n                        <span class="cmd" id="input"></span>\n                    </div>\n                </div>\n            </div> \n        </div>';var e=t.firstElementChild,o=document.querySelector("#input"),i=X(o,n),c=14;return e.style.height="calc(100% - 10px)",e.style.overflow="auto",e.style.fontFamily=p,e.style.background=n.background||"unset",e.style.color=n.color||"#000",e.style.fontSize=b,e.addEventListener("click",(function(t){var n=i.target.getBoundingClientRect().top;(t.clientY>n||Math.abs(t.clientY-n)<c)&&i.target.focus()}),{capture:!1}),{$terminal:e,input:i}};function ut(t){return function(t){if(Array.isArray(t)){for(var n=0,e=new Array(t.length);n<t.length;n++)e[n]=t[n];return e}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var ct=[],at=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,e=arguments.length>2?arguments[2]:void 0;switch(n){case"clear":return ct=[].concat(ut(ct),ut(t),[{input:"clear",output:""}]),[];case"history":var o=[].concat(ut(ct),ut(t)),i=o.map((function(t,n){return Object(r.c)(" ")(n+1,o.length+1)+". "+t.input})).join("\n");return t.push({input:e,output:i}),t;default:return t}};function st(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var e=[],r=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(r=(u=c.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==c.return||c.return()}finally{if(o)throw i}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function lt(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function ft(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?lt(Object(e),!0).forEach((function(n){pt(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):lt(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function pt(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function bt(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw"wrapper element not found";var e=it(t,n),o=e.$terminal,u=e.input,c=new h.a,a=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=t[t.length-1];return Object(y.a)(e)?(t.pop(),Object(m.a)(t,e)):Object(v.a)(t)}(i),l=Object(g.a)(c,a).pipe(x((function(t,n){return ft({},n,{},t)}),{}),Object(R.a)((function(t){return ft({},t,{},i)}))),p=u.enter$.pipe(_(l),Object(R.a)((function(t){var n=st(t,2),e=n[0],r=n[1];return{parsedResult:s(r)(e),cmdSet:r,$terminal:o}})),Object(R.a)(w.in)).subscribe((function(){u.target.blur()})),b=w.out$.pipe(Object(F.a)((function(t){return t})),x((function(t,n){var e=n?n.input.trim().split(/\s+/)[0]:"";if(n&&function(t){var n=Object.keys(i).includes(t);if(!n)return!1;var e=i[t].handler||i[t];try{return n=""===e()}catch(t){return!1}}(e))return at(t&&t.slice(),e,n.input);var r=t.slice().pop();return r&&r.loading&&!r.print&&t.pop(),t.push(n),t}),[])).subscribe((function(t){var n=Object(r.i)(t);ot(t),Object(r.v)(o),u.disabled=n&&n.loading,u.value=""}));u.input$.subscribe((function(){Object(r.v)(o)}));var d=function(t){return regeneratorRuntime.async((function(n){for(;;)switch(n.prev=n.next){case 0:return Object(r.v)(o),n.next=3,regeneratorRuntime.awrap(Object(r.k)(t,(function(t){return u.value=t}),50));case 3:return n.abrupt("return",new Promise((function(n,e){w.out$.pipe(Object(F.a)((function(t){return t})),Object(F.a)((function(t){return!0!==t.loading}))).subscribe((function(e){e.input===t&&n()})),Object(r.y)(u.target,f.enter)})));case 4:case"end":return n.stop()}}))};return{set disabled(t){u.disabled=t},set commands(t){c.next(t)},set currentInput(t){u.value=t},destroy:function(){b.unsubscribe(),p.unsubscribe(),o.remove(),u.target.remove()},addCommands:function(t){c.next(t)},input:function(t,n){if(n)return Object(r.k)(t,(function(t){u.value=t}));u.value=t},humanizerExec:d,humanizerExecCmdArr:function(t){var n=t.map((function(t){return function(){return d(t)}}));return Object(r.s)(n)},exec:function(t){u.value=t,Object(r.y)(u.target,f.enter)}}}e.d(n,"default",(function(){return bt}))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHpob3VqaWFoYW8vdGVybWluYWwvbGliL3BzZXVkb1Rlcm1pbmFsL2NvbnN0YW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AemhvdWppYWhhby90ZXJtaW5hbC9saWIvcGFyc2VyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AemhvdWppYWhhby90ZXJtaW5hbC9saWIvcHNldWRvVGVybWluYWwvcGFyc2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AemhvdWppYWhhby90ZXJtaW5hbC9saWIvcHNldWRvSW5wdXQvY29uc3RhbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B6aG91amlhaGFvL3Rlcm1pbmFsL2xpYi9wc2V1ZG9UZXJtaW5hbC9leGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3NjYW4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3dpdGhMYXRlc3RGcm9tLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL0JlaGF2aW9yU3ViamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vYnNlcnZhYmxlL2NvbWJpbmVMYXRlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb3BlcmF0b3JzL3BsdWNrLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AemhvdWppYWhhby90ZXJtaW5hbC9saWIvcHNldWRvSW5wdXQvaW5wdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B6aG91amlhaGFvL3Rlcm1pbmFsL2xpYi9wc2V1ZG9JbnB1dC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHpob3VqaWFoYW8vdGVybWluYWwvbGliL3BzZXVkb1Rlcm1pbmFsL3Rlcm1pbmFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AemhvdWppYWhhby90ZXJtaW5hbC9saWIvcHNldWRvVGVybWluYWwvaGlzdEludGVyY2VwdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AemhvdWppYWhhby90ZXJtaW5hbC9saWIvcHNldWRvVGVybWluYWwvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9vZi5qcyJdLCJuYW1lcyI6WyJCVUlMVF9JTl9DTURTIiwiY2xlYXIiLCJoaXN0b3J5IiwiZWNobyIsImEiLCJiIiwiYyIsInBhcnNlZFBhcmFtcyIsImZyb21QaXBlIiwicmVzdFBhcmFtcyIsIm1hbiIsImhhbmRsZXIiLCJwYXJhbXMiLCJjbWRTZXQiLCIkdGVybWluYWwiLCJUcmltIiwiZG9jIiwidHJpbSIsImNtZCIsImhlbHAiLCJwcmVmaXgiLCJPYmplY3QiLCJrZXlzIiwic29ydCIsIm1hcCIsInN0ciIsImpvaW4iLCJERUZBVUxUX1NUWUxFIiwiU3ltYm9sIiwiYXJncyIsIm9wdHMiLCJmbGFncyIsImJvb2xzIiwic3RyaW5ncyIsInVua25vd25GbiIsImFsbEJvb2xzIiwiY29uY2F0IiwiZmlsdGVyIiwiQm9vbGVhbiIsImZvckVhY2giLCJrZXkiLCJhbGlhc2VzIiwiYWxpYXMiLCJ4IiwieSIsInN0cmluZyIsImRlZmF1bHRzIiwiYXJndiIsIl8iLCJzZXRBcmciLCJ1bmRlZmluZWQiLCJub3RGbGFncyIsInZhbCIsImFyZyIsInRlc3QiLCJhcmdEZWZpbmVkIiwidmFsdWUiLCJpc051bWJlciIsIk51bWJlciIsInNldEtleSIsInNwbGl0Iiwib2JqIiwibyIsInNsaWNlIiwibGVuZ3RoIiwiQXJyYXkiLCJpc0FycmF5IiwicHVzaCIsImFsaWFzSXNCb29sZWFuIiwic29tZSIsImluZGV4T2YiLCJpIiwibSIsIm1hdGNoIiwibmV4dCIsImxldHRlcnMiLCJicm9rZW4iLCJqIiwic3RvcEVhcmx5IiwiYXBwbHkiLCJwYXJzZSIsInBhcnNlSW5wdXQiLCJ1c2VySW5wdXQiLCJlcnJvckluZm8iLCJpbnB1dEFyciIsImNtZE5hbWUiLCJ2YWxpZENvbW1hbmRzIiwicmVwbGFjZSIsImluY2x1ZGVzIiwidGFyZ2V0Q29tbWFuZCIsInBhcnNlZE9wdHMiLCJnZXRPcHRzIiwiZSIsImNvbW1hbmQiLCJwYXJhbXNPYmoiLCJ1c2VySW5wdXRBcnIiLCJpc011bHRpUmVzdWx0IiwicGFyc2VkUmVzdWx0cyIsImlucHV0IiwiTU9WRV9LRVkiLCJLRVlTIiwiZW50ZXIiLCJCQVNFX0NTUyIsImN1cnNvckNvbG9yIiwiYmxpbmtTcGVlZCIsImV4ZWNSZXN1bHQkIiwiU3ViamVjdCIsImVycm9yIiwib3V0cHV0IiwiZXhlIiwiaW4iLCJwYXJzZWRSZXN1bHQiLCJsb2FkaW5nIiwicHJvbWlzZU9uZUJ5T25lIiwicHJldlJlc3VsdCIsImFzeW5jIiwidGhlbiIsInJlc3VsdCIsImhhbmRsZU11bHRpUmVzdWx0IiwiZXhlY1Jlc3VsdCIsIndpdGhUaW1lc3RhbXAiLCJwcmludCIsIm5vdyIsIlByb21pc2UiLCJyZXNvbHZlIiwib3V0JCIsInNjYW4iLCJhY2N1bXVsYXRvciIsInNlZWQiLCJoYXNTZWVkIiwiYXJndW1lbnRzIiwic291cmNlIiwibGlmdCIsIlNjYW5PcGVyYXRvciIsInRoaXMiLCJwcm90b3R5cGUiLCJjYWxsIiwic3Vic2NyaWJlciIsInN1YnNjcmliZSIsIl9zdXBlciIsIlNjYW5TdWJzY3JpYmVyIiwiZGVzdGluYXRpb24iLCJfc2VlZCIsIl90aGlzIiwiaW5kZXgiLCJkZWZpbmVQcm9wZXJ0eSIsImdldCIsInNldCIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJfbmV4dCIsIl90cnlOZXh0IiwiZXJyIiwiU3Vic2NyaWJlciIsIndpdGhMYXRlc3RGcm9tIiwiX2kiLCJwcm9qZWN0IiwicG9wIiwib2JzZXJ2YWJsZXMiLCJXaXRoTGF0ZXN0RnJvbU9wZXJhdG9yIiwiV2l0aExhdGVzdEZyb21TdWJzY3JpYmVyIiwidG9SZXNwb25kIiwibGVuIiwidmFsdWVzIiwib2JzZXJ2YWJsZSIsImFkZCIsInN1YnNjcmliZVRvUmVzdWx0Iiwibm90aWZ5TmV4dCIsIm91dGVyVmFsdWUiLCJpbm5lclZhbHVlIiwib3V0ZXJJbmRleCIsImlubmVySW5kZXgiLCJpbm5lclN1YiIsImZvdW5kIiwic3BsaWNlIiwibm90aWZ5Q29tcGxldGUiLCJfdHJ5UHJvamVjdCIsIk91dGVyU3Vic2NyaWJlciIsIkJlaGF2aW9yU3ViamVjdCIsIl92YWx1ZSIsImdldFZhbHVlIiwiX3N1YnNjcmliZSIsInN1YnNjcmlwdGlvbiIsImNsb3NlZCIsImhhc0Vycm9yIiwidGhyb3duRXJyb3IiLCJPYmplY3RVbnN1YnNjcmliZWRFcnJvciIsIk5PTkUiLCJjb21iaW5lTGF0ZXN0IiwicmVzdWx0U2VsZWN0b3IiLCJzY2hlZHVsZXIiLCJpc1NjaGVkdWxlciIsImZyb21BcnJheSIsIkNvbWJpbmVMYXRlc3RPcGVyYXRvciIsIkNvbWJpbmVMYXRlc3RTdWJzY3JpYmVyIiwiYWN0aXZlIiwiX2NvbXBsZXRlIiwiY29tcGxldGUiLCJ1bnVzZWQiLCJvbGRWYWwiLCJfdHJ5UmVzdWx0U2VsZWN0b3IiLCJwbHVjayIsInByb3BlcnRpZXMiLCJFcnJvciIsInByb3BzIiwiY3VycmVudFByb3AiLCJwIiwicGx1Y2tlciIsImNyZWF0ZUlucHV0IiwiJFJlYWxJbnB1dCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsInN0eWxlIiwiaGVpZ2h0IiwicG9zaXRpb24iLCJ6SW5kZXgiLCJvdXRsaW5lIiwiYm9yZGVyIiwidG9wIiwibGVmdCIsIm9wYWNpdHkiLCJzY3JlZW4iLCJ3aWR0aCIsInRyYW5zZm9ybSIsImNvbG9yIiwic2V0QXR0cmlidXRlIiwib25ibHVyIiwic2V0VGltZW91dCIsImZvY3VzIiwidXBkYXRlUG9zIiwiJHdyYXBwZXIiLCIkaW5wdXQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJyZW5kZXJQc2V1ZG9JbnB1dCIsImlucHV0U3RhdGUiLCJoYXNTZWxlY3Rpb24iLCJzdGFydCIsImVuZCIsImlzRW1wdHkiLCJpbnB1dFN0ciIsInRvUmVuZGVyIiwiY2giLCJpbm5lckhUTUwiLCJpZHgiLCJjaGFyIiwiY2xhc3NOYW1lIiwiY2hhclRwbCIsImNoYXJJZHgiLCJpbml0IiwidGhlbWUiLCJpbmplY3RDU1MiLCJmb250RmFtaWx5IiwiZm9udFNpemUiLCJ3b3JkQnJlYWsiLCIkaW5wdXRXcmFwcGVyIiwiYm9keSIsImFwcGVuZENoaWxkIiwiaW5wdXQkIiwiZnJvbUV2ZW50Iiwic2VsZWN0JCIsImtleXVwJCIsImlucHV0U3RyJCIsInBpcGUiLCJtb3ZlQ3Vyc29yJCIsImV2dCIsImVudGVyJCIsInRhcmdldCIsImRpc2FibGVkIiwiY3Vyc29yUG9zQ2hhbmdlJCIsIm1lcmdlIiwiY3Vyc29yUG9zJCIsInNlbGVjdGlvblN0YXJ0Iiwic2VsZWN0aW9uRW5kIiwiaW5wdXRTdGF0ZSQiLCJkaXN0aW5jdFVudGlsQ2hhbmdlZCIsInByZXZTdGF0ZSIsIm5leHRTdGF0ZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJyZW5kZXIiLCJ0cmlnZ2VyIiwiJGN1cnNvciIsInF1ZXJ5U2VsZWN0b3IiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzcGlubmVyIiwibWFrZVRleHRTcGlubmVyIiwicmVuZGVyVGVybWluYWwiLCJzZXNzaW9uRGF0YSIsIiRoaXN0U2Vzc2lvbiIsIiRjdXJyZW50U2VzcyIsImxhc3RTZXNzRGF0YSIsImdldExhc3RFbGUiLCJpc0xvYWRpbmciLCJzaG91bGRIaWRlSW5wdXQiLCJjdXJyZW50RGF0YSIsInByZXZTZXNzRGF0YSIsInRtcEN1cnNvciIsImRhdGEiLCJpc1JpY2hUZXh0IiwiaHRtbCIsIm1lc3NhZ2UiLCJzdGFjayIsInJlc3VsdFN0ciIsInNlc3Npb25UcGwiLCJkaXNwbGF5IiwiZmlyc3RFbGVtZW50Q2hpbGQiLCIkaW5wdXRGb3JUZXJtaW5hbCIsIklucHV0IiwiaW5wdXRIZWlnaHQiLCJvdmVyZmxvdyIsImJhY2tncm91bmQiLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJpbnB1dFkiLCJjbGllbnRZIiwiTWF0aCIsImFicyIsImNhcHR1cmUiLCJISVNUIiwiaGlzdCIsImFsbEhpc3QiLCJoaXN0U3RyIiwiY29tcGxldGlvbldpdGgiLCJwc2V1ZG9UZXJtaW5hbCIsIiR0ZXJtaW5hbFdyYXBwZXIiLCJ1c2VyQ21kcyQiLCJzeXNDbWRzJCIsInNjaGVkdWxlQXJyYXkiLCJvZiIsImNtZFNldCQiLCJuZXdDbWQiLCJvbGRDbWQiLCJlbnRTdWIiLCJwYXJzZVdpdGgiLCJibHVyIiwic2Vzc1N1YiIsImlzU3BlY2lhbCIsImlzU3BlY2lhbENtZCIsImhpc3RJbnRlcmNlcHRvciIsImxhc3RSZXN1bHQiLCJsYXN0RGF0YSIsInNjcm9sbFRvQm90dG9tIiwiaHVtYW5pemVyRXhlYyIsImNtZFN0ciIsImh1bWFuaXplcklucHV0IiwidiIsInJlamVjdCIsImRlc3Ryb3kiLCJ1bnN1YnNjcmliZSIsImFkZENvbW1hbmRzIiwiZW5hYmxlSHVtYW5pemVySW5wdXRFZmZlY3QiLCJjdXJyZW50IiwiaHVtYW5pemVyRXhlY0NtZEFyciIsImNtZEFyciIsImV4ZWNGdW5BcnIiLCJleGVjIl0sIm1hcHBpbmdzIjoib1ZBRUEsSUFBTUEsRUFBZ0IsQ0FDbEJDLE1BQU8saUJBQU0sSUFDYkMsUUFBUyxpQkFBTSxJQUNmQyxLQUFNLFNBQVVDLEVBQUdDLEVBQUdDLEVBQUdDLEdBQ3JCLE9BQU9BLEVBQWFDLFVBQVlELEVBQWFFLFlBRWpEQyxJQUFLLENBQ0RDLFFBQVMsU0FBVUMsRUFBUUMsRUFBUUMsRUFBMUIsR0FBbUQsSUFBYkwsRUFBYSxFQUFiQSxXQUMzQyxJQUFLSSxFQUNELE9BQU8sRUFHWCxJQUFLSixFQUNELE9BQU9NLFlBQUtGLEVBQU9ILElBQUlNLEtBRzNCLEdBQUlQLEdBQWNJLEVBQU9KLEVBQVdRLFFBQVMsQ0FDekMsSUFBSUMsRUFBTUwsRUFBT0osRUFBV1EsUUFDNUIsTUFBbUIsV0FBZixFQUFPQyxJQUNBSCxZQUFLRyxFQUFJRixNQUVULFdBSW5CQSxJQUFLLDJKQU9URyxLQUFNLFNBQVVQLEVBQVFDLEdBQ3BCLElBQUlBLEVBQ0EsT0FBTyxFQUVYLElBQWNPLEVBQ2QsTUFBTyx5QkFBMkJDLE9BQU9DLEtBQUtULEdBQVFVLE9BQU9DLEtBRC9DSixFQUMwRCxLQUQvQyxTQUFDSyxHQUFELE9BQVNMLEVBQVNLLEtBQ29DQyxLQUFLLFFBSXRGQyxFQUFnQixvVEMxQ1AsR0Q4REZDLFNBQ0ZBLFNDL0RJLFNBQVVDLEVBQU1DLEdBQ3hCQSxJQUFNQSxFQUFPLElBRWxCLElBQUlDLEVBQVEsQ0FBRUMsTUFBUSxHQUFJQyxRQUFVLEdBQUlDLFVBQVcsTUFFcEIsbUJBQXBCSixFQUFJLFVBQ2JDLEVBQU1HLFVBQVlKLEVBQUksU0FHTyxrQkFBcEJBLEVBQUksU0FBNkJBLEVBQUksUUFDOUNDLEVBQU1JLFVBQVcsRUFFakIsR0FBR0MsT0FBT04sRUFBSSxTQUFhTyxPQUFPQyxTQUFTQyxTQUFRLFNBQVVDLEdBQzNEVCxFQUFNQyxNQUFNUSxJQUFPLEtBSXZCLElBQUlDLEVBQVUsR0FDZHBCLE9BQU9DLEtBQUtRLEVBQUtZLE9BQVMsSUFBSUgsU0FBUSxTQUFVQyxHQUM5Q0MsRUFBUUQsR0FBTyxHQUFHSixPQUFPTixFQUFLWSxNQUFNRixJQUNwQ0MsRUFBUUQsR0FBS0QsU0FBUSxTQUFVSSxHQUM3QkYsRUFBUUUsR0FBSyxDQUFDSCxHQUFLSixPQUFPSyxFQUFRRCxHQUFLSCxRQUFPLFNBQVVPLEdBQ3RELE9BQU9ELElBQU1DLFlBS25CLEdBQUdSLE9BQU9OLEVBQUtlLFFBQVFSLE9BQU9DLFNBQVNDLFNBQVEsU0FBVUMsR0FDdkRULEVBQU1FLFFBQVFPLElBQU8sRUFDakJDLEVBQVFELEtBQ1ZULEVBQU1FLFFBQVFRLEVBQVFELEtBQVEsTUFJbEMsSUFBSU0sRUFBV2hCLEVBQUksU0FBZSxHQUU5QmlCLEVBQU8sQ0FBRUMsRUFBSSxJQUNqQjNCLE9BQU9DLEtBQUtTLEVBQU1DLE9BQU9PLFNBQVEsU0FBVUMsR0FDekNTLEVBQU9ULE9BQXVCVSxJQUFsQkosRUFBU04sSUFBNkJNLEVBQVNOLE9BRzdELElBQUlXLEVBQVcsR0FZZixTQUFTRixFQUFRVCxFQUFLWSxFQUFLQyxHQUN6QixJQUFJQSxJQUFPdEIsRUFBTUcsV0FObkIsU0FBb0JNLEVBQUthLEdBQ3ZCLE9BQVF0QixFQUFNSSxVQUFZLFlBQVltQixLQUFLRCxJQUN6Q3RCLEVBQU1FLFFBQVFPLElBQVFULEVBQU1DLE1BQU1RLElBQVFDLEVBQVFELEdBSXJCZSxDQUFXZixFQUFLYSxLQUNoQixJQUF6QnRCLEVBQU1HLFVBQVVtQixHQUR0QixDQUlBLElBQUlHLEdBQVN6QixFQUFNRSxRQUFRTyxJQUFRaUIsRUFBU0wsR0FDeENNLE9BQU9OLEdBQU9BLEVBRWxCTyxFQUFPWixFQUFNUCxFQUFJb0IsTUFBTSxLQUFNSixJQUU1QmYsRUFBUUQsSUFBUSxJQUFJRCxTQUFRLFNBQVVJLEdBQ3JDZ0IsRUFBT1osRUFBTUosRUFBRWlCLE1BQU0sS0FBTUosT0FJL0IsU0FBU0csRUFBUUUsRUFBS3ZDLEVBQU1rQyxHQUMxQixJQUFJTSxFQUFJRCxFQUNSdkMsRUFBS3lDLE1BQU0sR0FBRyxHQUFHeEIsU0FBUSxTQUFVQyxRQUNsQlUsSUFBWFksRUFBRXRCLEtBQW9Cc0IsRUFBRXRCLEdBQU8sSUFDbkNzQixFQUFJQSxFQUFFdEIsTUFHUixJQUFJQSxFQUFNbEIsRUFBS0EsRUFBSzBDLE9BQVMsUUFDZGQsSUFBWFksRUFBRXRCLElBQXNCVCxFQUFNQyxNQUFNUSxJQUEwQixrQkFBWHNCLEVBQUV0QixHQUN2RHNCLEVBQUV0QixHQUFPZ0IsRUFFRlMsTUFBTUMsUUFBUUosRUFBRXRCLElBQ3ZCc0IsRUFBRXRCLEdBQUsyQixLQUFLWCxHQUdaTSxFQUFFdEIsR0FBTyxDQUFFc0IsRUFBRXRCLEdBQU1nQixHQUl2QixTQUFTWSxFQUFlNUIsR0FDdEIsT0FBT0MsRUFBUUQsR0FBSzZCLE1BQUssU0FBVTFCLEdBQ2pDLE9BQU9aLEVBQU1DLE1BQU1XLE9BOUNLLElBQXhCZCxFQUFLeUMsUUFBUSxRQUNmbkIsRUFBV3RCLEVBQUtrQyxNQUFNbEMsRUFBS3lDLFFBQVEsTUFBTSxHQUN6Q3pDLEVBQU9BLEVBQUtrQyxNQUFNLEVBQUdsQyxFQUFLeUMsUUFBUSxRQWdEcEMsSUFBSyxJQUFJQyxFQUFJLEVBQUdBLEVBQUkxQyxFQUFLbUMsT0FBUU8sSUFBSyxDQUNwQyxJQUFJbEIsRUFBTXhCLEVBQUswQyxHQUVmLEdBQUksU0FBU2pCLEtBQUtELEdBQU0sQ0FJdEIsSUFBSW1CLEVBQUluQixFQUFJb0IsTUFBTSx5QkFDZGpDLEVBQU1nQyxFQUFFLEdBQ1JoQixFQUFRZ0IsRUFBRSxHQUNWekMsRUFBTUMsTUFBTVEsS0FDZGdCLEVBQWtCLFVBQVZBLEdBRVZQLEVBQU9ULEVBQUtnQixFQUFPSCxRQUVoQixHQUFJLFdBQVdDLEtBQUtELEdBQU0sQ0FFN0JKLEVBRFVJLEVBQUlvQixNQUFNLGNBQWMsSUFDdEIsRUFBT3BCLFFBRWhCLEdBQUksUUFBUUMsS0FBS0QsR0FBTSxDQUMxQixJQUFJYixFQUFNYSxFQUFJb0IsTUFBTSxXQUFXLEdBQzNCQyxFQUFPN0MsRUFBSzBDLEVBQUksUUFDUHJCLElBQVR3QixHQUF1QixLQUFLcEIsS0FBS29CLElBQy9CM0MsRUFBTUMsTUFBTVEsSUFDWlQsRUFBTUksVUFDTk0sRUFBUUQsSUFBUTRCLEVBQWU1QixHQUk1QixpQkFBaUJjLEtBQUtvQixJQUM3QnpCLEVBQU9ULEVBQWMsU0FBVGtDLEVBQWlCckIsR0FDN0JrQixLQUdBdEIsRUFBT1QsR0FBS1QsRUFBTUUsUUFBUU8sSUFBTyxHQUFXYSxJQVI1Q0osRUFBT1QsRUFBS2tDLEVBQU1yQixHQUNsQmtCLFVBVUMsR0FBSSxVQUFVakIsS0FBS0QsR0FBTSxDQUk1QixJQUhBLElBQUlzQixFQUFVdEIsRUFBSVUsTUFBTSxHQUFHLEdBQUdILE1BQU0sSUFFaENnQixHQUFTLEVBQ0pDLEVBQUksRUFBR0EsRUFBSUYsRUFBUVgsT0FBUWEsSUFBSyxDQUN2QyxJQUFJSCxFQUFPckIsRUFBSVUsTUFBTWMsRUFBRSxHQUV2QixHQUFhLE1BQVRILEVBQUosQ0FLQSxHQUFJLFdBQVdwQixLQUFLcUIsRUFBUUUsS0FBTyxJQUFJdkIsS0FBS29CLEdBQU8sQ0FDakR6QixFQUFPMEIsRUFBUUUsR0FBSUgsRUFBS2QsTUFBTSxLQUFLLEdBQUlQLEdBQ3ZDdUIsR0FBUyxFQUNULE1BR0YsR0FBSSxXQUFXdEIsS0FBS3FCLEVBQVFFLEtBQ3ZCLDBCQUEwQnZCLEtBQUtvQixHQUFPLENBQ3pDekIsRUFBTzBCLEVBQVFFLEdBQUlILEVBQU1yQixHQUN6QnVCLEdBQVMsRUFDVCxNQUdGLEdBQUlELEVBQVFFLEVBQUUsSUFBTUYsRUFBUUUsRUFBRSxHQUFHSixNQUFNLE1BQU8sQ0FDNUN4QixFQUFPMEIsRUFBUUUsR0FBSXhCLEVBQUlVLE1BQU1jLEVBQUUsR0FBSXhCLEdBQ25DdUIsR0FBUyxFQUNULE1BR0EzQixFQUFPMEIsRUFBUUUsSUFBSTlDLEVBQU1FLFFBQVEwQyxFQUFRRSxLQUFNLEdBQVd4QixRQXZCMURKLEVBQU8wQixFQUFRRSxHQUFJSCxFQUFNckIsR0EyQjdCLElBQUliLEVBQU1hLEVBQUlVLE9BQU8sR0FBRyxHQUNuQmEsR0FBa0IsTUFBUnBDLEtBQ1RYLEVBQUswQyxFQUFFLElBQU8sY0FBY2pCLEtBQUt6QixFQUFLMEMsRUFBRSxLQUN0Q3hDLEVBQU1DLE1BQU1RLElBQ1pDLEVBQVFELElBQVE0QixFQUFlNUIsR0FJNUJYLEVBQUswQyxFQUFFLElBQU0sYUFBYWpCLEtBQUt6QixFQUFLMEMsRUFBRSxLQUM3Q3RCLEVBQU9ULEVBQW1CLFNBQWRYLEVBQUswQyxFQUFFLEdBQWVsQixHQUNsQ2tCLEtBR0F0QixFQUFPVCxHQUFLVCxFQUFNRSxRQUFRTyxJQUFPLEdBQVdhLElBUjVDSixFQUFPVCxFQUFLWCxFQUFLMEMsRUFBRSxHQUFJbEIsR0FDdkJrQixXQWlCSixHQUxLeEMsRUFBTUcsWUFBc0MsSUFBekJILEVBQU1HLFVBQVVtQixJQUN0Q04sRUFBS0MsRUFBRW1CLEtBQ0xwQyxFQUFNRSxRQUFOLElBQXVCd0IsRUFBU0osR0FBT0EsRUFBTUssT0FBT0wsSUFHcER2QixFQUFLZ0QsVUFBVyxDQUNsQi9CLEVBQUtDLEVBQUVtQixLQUFLWSxNQUFNaEMsRUFBS0MsRUFBR25CLEVBQUtrQyxNQUFNUSxFQUFJLElBQ3pDLE9BMkJOLE9BdEJBbEQsT0FBT0MsS0FBS3dCLEdBQVVQLFNBQVEsU0FBVUMsR0F5QjFDLElBQWlCcUIsRUFBS3ZDLEVBQ2hCd0MsRUFEV0QsRUF4QkRkLEVBd0JNekIsRUF4QkFrQixFQUFJb0IsTUFBTSxLQXlCMUJFLEVBQUlELEVBQ1J2QyxFQUFLeUMsTUFBTSxHQUFHLEdBQUd4QixTQUFRLFNBQVVDLEdBQ2pDc0IsRUFBS0EsRUFBRXRCLElBQVEsTUFHUGxCLEVBQUtBLEVBQUswQyxPQUFTLEtBQ2ZGLElBOUJWSCxFQUFPWixFQUFNUCxFQUFJb0IsTUFBTSxLQUFNZCxFQUFTTixLQUVyQ0MsRUFBUUQsSUFBUSxJQUFJRCxTQUFRLFNBQVVJLEdBQ3JDZ0IsRUFBT1osRUFBTUosRUFBRWlCLE1BQU0sS0FBTWQsRUFBU04sV0FLdENWLEVBQUssT0FDUGlCLEVBQUssTUFBUSxJQUFJa0IsTUFDakJkLEVBQVNaLFNBQVEsU0FBU0MsR0FDeEJPLEVBQUssTUFBTW9CLEtBQUszQixPQUlsQlcsRUFBU1osU0FBUSxTQUFTQyxHQUN4Qk8sRUFBS0MsRUFBRW1CLEtBQUszQixNQUlUTyxJQWFULFNBQVNVLEVBQVVkLEdBQ2pCLE1BQWlCLGlCQUFOQSxNQUNQLGlCQUFpQlcsS0FBS1gsSUFDbkIsNkNBQTZDVyxLQUFLWCxJQ3JMM0QsSUE0RWVxQyxFQTVFRCxTQUFDbkUsR0FDWCxJQUFNb0UsRUFBYSxTQUFDQyxHQUNoQixJQUFLQSxFQUFVakUsT0FDWCxNQUFPLENBQ0hpRSxZQUNBQyxVQUFXLE9BSW5CLElBQU1DLEVBQVdGLEVBQVVqRSxPQUFPMkMsTUFBTSxPQUNsQ3lCLEVBQVVELEVBQVMsR0FFekIsSUFBS0MsRUFDRCxNQUFPLENBQ0hILFlBQ0FDLFVBQVcsT0FJbkIsSUFBTUcsRUFBZ0JqRSxPQUFPQyxLQUFLVCxHQUM1QkosRUFBYXlFLEVBQVVLLFFBQVFGLEVBQVMsSUFBSXBFLE9BR2xELElBRnVCcUUsRUFBY0UsU0FBU0gsR0FHMUMsTUFBTyxDQUNINUUsYUFDQXlFLFlBQ0FDLFVBQVcsR0FBRixPQUFLRSxFQUFMLFlBSWpCLElBQU1JLEVBQWdCNUUsRUFBT3dFLEdBQ3ZCekUsRUFBU3dFLEVBQVNyQixNQUFNLEdBRTFCMkIsRUFBYSxHQUNqQixJQUNJQSxFQUFhQyxFQUFRL0UsR0FDdkIsTUFBT2dGLEdBQ0wsTUFBTyxDQUNIbkYsYUFDQXlFLFlBQ0FDLFVBQVdTLEdBSW5CLE1BQU8sQ0FDSG5GLGFBQ0F5RSxZQUNBQyxVQUFXLEtBQ1hVLFFBQVNKLEVBQ1RLLFVBQVdKLElBR25CLE9BQU8sU0FBQ1IsR0FFSixHQURjQSxFQUFVTSxTRnhDbkIsS0V5Q08sQ0FDUixJQUFJTyxFQUFlYixFQUFVdEIsTUYxQzVCLEtFNENELE9BQUdtQyxFQUFhL0IsT0FBUyxFQUNkaUIsRUFBV2MsRUFBYSxJQU01QixDQUNIQyxlQUFlLEVBQ2ZkLFlBQ0FlLGNBTmdCRixFQUFhdkUsS0FBSSxTQUFBMEUsR0FBSyxPQUN0Q2pCLEVBQVdpQixFQUFNakYsWUFRckIsT0FBT2dFLEVBQVdDLEtDNUh4QmlCLEVBQVcsQ0FBQyxZQUFhLGFBQWMsVUFBVyxhQVFsREMsRUFBTyxDQUNUaEcsRUFBRyxJQUNIaUcsTUFBTyxTQUdMQyxFQUNVLDJFQURWQSxFQUVRLE9BRlJBLEVBR00sb0JBQUVDLG1CQUFGLE1BQWMsT0FBZCxNQUFzQkMsa0JBQXRCLE1BQWlDLEtBQWpDLGtHQUdlRCxFQUhmLHdVQW1Cb0JDLEVBbkJwQiwrRyxnRUNiUkMsRUFBYyxJQUFJQyxJQUVoQkMsRUFBUSxTQUFDVCxHQUFELE9BQVcsU0FBQ04sR0FDdEJhLEVBQVkvQixLQUFLLENBQ2J3QixRQUNBVSxPQUFRaEIsTUF5R0RpQixFQUxMLENBQ05DLEdBNURpQixTQUFDLEdBQXNDLElBQXJDQyxFQUFxQyxFQUFyQ0EsYUFBY2xHLEVBQXVCLEVBQXZCQSxPQUFRQyxFQUFlLEVBQWZBLFVBQ3pDLEdBQUtpRyxFQUtMLEdBQUlBLEVBQWFmLGVBaENLLFNBQUMsR0FBc0MsSUFBckNlLEVBQXFDLEVBQXJDQSxhQUFjbEcsRUFBdUIsRUFBdkJBLE9BQVFDLEVBQWUsRUFBZkEsVUFDeENvRixFQUFRYSxFQUFhN0IsVUFVM0J1QixFQUFZL0IsS0FBSyxDQUNid0IsUUFDQWMsU0FBUyxFQUNUSixPQUFRLEtBRVpLLFlBQWdCRixFQUFhZCxjQUFjekUsS0FkdkIsU0FBQ3VGLEdBQUQsT0FBa0IsU0FBT0csR0FBUCxnQ0FBQUMsT0FBQSxvREFDL0JKLEVBQWE1QixVQURrQixzQkFFeEI0QixFQUFhNUIsVUFGVyxjQUk5QnhFLEVBQVVvRyxFQUFhbEIsUUFBUWxGLFNBQVdvRyxFQUFhbEIsUUFDM0RrQixFQUFhdkcsU0FBVzBHLEVBTFUsa0JBTTNCdkcsRUFBUW9HLEVBQWFqQixVQUFXakYsRUFBUUMsRUFBV2lHLElBTnhCLDBDQWVqQ0ssTUFBSyxTQUFBQyxHQUNGWixFQUFZL0IsS0FBSyxDQUNia0MsT0FBUVMsRUFDUm5CLGFBSlosTUFPV1MsRUFBTVQsSUFVYm9CLENBQWtCLENBQUNQLGVBQWNsRyxTQUFRQyxrQkFEN0MsQ0FLQSxJQUFJb0YsRUFBUWEsRUFBYTdCLFVBQ3pCLEdBQUk2QixFQUFhNUIsVUFDYnNCLEVBQVkvQixLQUFLLENBQ2J3QixRQUNBVSxPQUFRRyxFQUFhNUIsZ0JBSDdCLENBUUEsSUFBSXhFLEVBQVVvRyxFQUFhbEIsUUFBUWxGLFNBQVdvRyxFQUFhbEIsUUFDdkQwQixFQUFhLEdBQ2pCLElBQ0lBLEVBQWE1RyxFQUNYb0csRUFBYWpCLFVBQ2JqRixFQUNBQyxFQUNBaUcsRUFoRUksU0FBQ2IsR0FBRCxPQUFXLFNBQUNVLEVBQVFZLEdBQzlCZixFQUFZL0IsS0FBSyxDQUNic0MsU0FBUyxFQUNUUyxPQUFPLEVBQ1B2QixRQUNBVSxPQUFRWSxFQUFnQkUsY0FBUSxJQUFNZCxFQUFTQSxLQTREN0NhLENBQU12QixJQUVWLE1BQU9OLEdBRUwsWUFEQWUsRUFBTVQsRUFBTlMsQ0FBYWYsR0FJUyxpQkFBZjJCLEdBUVhkLEVBQVkvQixLQUFLLENBQ2J3QixRQUNBYyxTQUFTLEVBQ1RKLE9BQVEsS0FHWmUsUUFBUUMsUUFBUUwsR0FDWEgsTUFBSyxTQUFBQyxHQUNGWixFQUFZL0IsS0FBSyxDQUNia0MsT0FBUVMsRUFDUm5CLGFBSlosTUFPV1MsRUFBTVQsS0FwQmJPLEVBQVkvQixLQUFLLENBQ2J3QixRQUNBVSxPQUFRVyxVQXBDWmQsRUFBWS9CLEtBQUssT0EyRHJCbUQsS0FBTXBCLEcsd0JDM0dILFNBQVNxQixFQUFLQyxFQUFhQyxHQUM5QixJQUFJQyxHQUFVLEVBSWQsT0FISUMsVUFBVWxFLFFBQVUsSUFDcEJpRSxHQUFVLEdBRVAsU0FBOEJFLEdBQ2pDLE9BQU9BLEVBQU9DLEtBQUssSUFBSUMsRUFBYU4sRUFBYUMsRUFBTUMsS0FHL0QsSUFBSUksRUFBOEIsV0FDOUIsU0FBU0EsRUFBYU4sRUFBYUMsRUFBTUMsUUFDckIsSUFBWkEsSUFDQUEsR0FBVSxHQUVkSyxLQUFLUCxZQUFjQSxFQUNuQk8sS0FBS04sS0FBT0EsRUFDWk0sS0FBS0wsUUFBVUEsRUFLbkIsT0FIQUksRUFBYUUsVUFBVUMsS0FBTyxTQUFVQyxFQUFZTixHQUNoRCxPQUFPQSxFQUFPTyxVQUFVLElBQUksRUFBZUQsRUFBWUgsS0FBS1AsWUFBYU8sS0FBS04sS0FBTU0sS0FBS0wsV0FFdEZJLEVBWnNCLEdBYzdCLEVBQWdDLFNBQVVNLEdBRTFDLFNBQVNDLEVBQWVDLEVBQWFkLEVBQWFlLEVBQU9iLEdBQ3JELElBQUljLEVBQVFKLEVBQU9ILEtBQUtGLEtBQU1PLElBQWdCUCxLQUs5QyxPQUpBUyxFQUFNaEIsWUFBY0EsRUFDcEJnQixFQUFNRCxNQUFRQSxFQUNkQyxFQUFNZCxRQUFVQSxFQUNoQmMsRUFBTUMsTUFBUSxFQUNQRCxFQWtDWCxPQXpDQSxJQUFrQkgsRUFBZ0JELEdBU2xDdEgsT0FBTzRILGVBQWVMLEVBQWVMLFVBQVcsT0FBUSxDQUNwRFcsSUFBSyxXQUNELE9BQU9aLEtBQUtRLE9BRWhCSyxJQUFLLFNBQVUzRixHQUNYOEUsS0FBS0wsU0FBVSxFQUNmSyxLQUFLUSxNQUFRdEYsR0FFakI0RixZQUFZLEVBQ1pDLGNBQWMsSUFFbEJULEVBQWVMLFVBQVVlLE1BQVEsU0FBVTlGLEdBQ3ZDLEdBQUs4RSxLQUFLTCxRQUtOLE9BQU9LLEtBQUtpQixTQUFTL0YsR0FKckI4RSxLQUFLTixLQUFPeEUsRUFDWjhFLEtBQUtPLFlBQVluRSxLQUFLbEIsSUFNOUJvRixFQUFlTCxVQUFVZ0IsU0FBVyxTQUFVL0YsR0FDMUMsSUFDSTZELEVBREEyQixFQUFRVixLQUFLVSxRQUVqQixJQUNJM0IsRUFBU2lCLEtBQUtQLFlBQVlPLEtBQUtOLEtBQU14RSxFQUFPd0YsR0FFaEQsTUFBT1EsR0FDSGxCLEtBQUtPLFlBQVlsQyxNQUFNNkMsR0FFM0JsQixLQUFLTixLQUFPWCxFQUNaaUIsS0FBS08sWUFBWW5FLEtBQUsyQyxJQUVuQnVCLEVBMUN3QixDQTJDakNhLEVBQUEsRyxvQ0NqRUssU0FBU0MsSUFFWixJQURBLElBQUk3SCxFQUFPLEdBQ0Y4SCxFQUFLLEVBQUdBLEVBQUt6QixVQUFVbEUsT0FBUTJGLElBQ3BDOUgsRUFBSzhILEdBQU16QixVQUFVeUIsR0FFekIsT0FBTyxTQUFVeEIsR0FDYixJQUFJeUIsRUFDaUMsbUJBQTFCL0gsRUFBS0EsRUFBS21DLE9BQVMsS0FDMUI0RixFQUFVL0gsRUFBS2dJLE9BRW5CLElBQUlDLEVBQWNqSSxFQUNsQixPQUFPc0csRUFBT0MsS0FBSyxJQUFJMkIsRUFBdUJELEVBQWFGLEtBR25FLElBQUlHLEVBQXdDLFdBQ3hDLFNBQVNBLEVBQXVCRCxFQUFhRixHQUN6Q3RCLEtBQUt3QixZQUFjQSxFQUNuQnhCLEtBQUtzQixRQUFVQSxFQUtuQixPQUhBRyxFQUF1QnhCLFVBQVVDLEtBQU8sU0FBVUMsRUFBWU4sR0FDMUQsT0FBT0EsRUFBT08sVUFBVSxJQUFJLEVBQXlCRCxFQUFZSCxLQUFLd0IsWUFBYXhCLEtBQUtzQixXQUVyRkcsRUFSZ0MsR0FVdkMsRUFBMEMsU0FBVXBCLEdBRXBELFNBQVNxQixFQUF5Qm5CLEVBQWFpQixFQUFhRixHQUN4RCxJQUFJYixFQUFRSixFQUFPSCxLQUFLRixLQUFNTyxJQUFnQlAsS0FDOUNTLEVBQU1lLFlBQWNBLEVBQ3BCZixFQUFNYSxRQUFVQSxFQUNoQmIsRUFBTWtCLFVBQVksR0FDbEIsSUFBSUMsRUFBTUosRUFBWTlGLE9BQ3RCK0UsRUFBTW9CLE9BQVMsSUFBSWxHLE1BQU1pRyxHQUN6QixJQUFLLElBQUkzRixFQUFJLEVBQUdBLEVBQUkyRixFQUFLM0YsSUFDckJ3RSxFQUFNa0IsVUFBVTlGLEtBQUtJLEdBRXpCLElBQVNBLEVBQUksRUFBR0EsRUFBSTJGLEVBQUszRixJQUFLLENBQzFCLElBQUk2RixFQUFhTixFQUFZdkYsR0FDN0J3RSxFQUFNc0IsSUFBSSxPQUFBQyxFQUFBLEdBQWtCdkIsRUFBT3FCLEVBQVlBLEVBQVk3RixJQUUvRCxPQUFPd0UsRUFvQ1gsT0FuREEsSUFBa0JpQixFQUEwQnJCLEdBaUI1Q3FCLEVBQXlCekIsVUFBVWdDLFdBQWEsU0FBVUMsRUFBWUMsRUFBWUMsRUFBWUMsRUFBWUMsR0FDdEd0QyxLQUFLNkIsT0FBT08sR0FBY0QsRUFDMUIsSUFBSVIsRUFBWTNCLEtBQUsyQixVQUNyQixHQUFJQSxFQUFVakcsT0FBUyxFQUFHLENBQ3RCLElBQUk2RyxFQUFRWixFQUFVM0YsUUFBUW9HLElBQ2YsSUFBWEcsR0FDQVosRUFBVWEsT0FBT0QsRUFBTyxLQUlwQ2IsRUFBeUJ6QixVQUFVd0MsZUFBaUIsYUFFcERmLEVBQXlCekIsVUFBVWUsTUFBUSxTQUFVOUYsR0FDakQsR0FBOEIsSUFBMUI4RSxLQUFLMkIsVUFBVWpHLE9BQWMsQ0FDN0IsSUFBSW5DLEVBQU8sQ0FBQzJCLEdBQU9wQixPQUFPa0csS0FBSzZCLFFBQzNCN0IsS0FBS3NCLFFBQ0x0QixLQUFLMEMsWUFBWW5KLEdBR2pCeUcsS0FBS08sWUFBWW5FLEtBQUs3QyxLQUlsQ21JLEVBQXlCekIsVUFBVXlDLFlBQWMsU0FBVW5KLEdBQ3ZELElBQUl3RixFQUNKLElBQ0lBLEVBQVNpQixLQUFLc0IsUUFBUTdFLE1BQU11RCxLQUFNekcsR0FFdEMsTUFBTzJILEdBRUgsWUFEQWxCLEtBQUtPLFlBQVlsQyxNQUFNNkMsR0FHM0JsQixLQUFLTyxZQUFZbkUsS0FBSzJDLElBRW5CMkMsRUFwRGtDLENBcUQzQ2lCLEVBQUEsRyxvQ0M3RUUsRUFBaUMsU0FBVXRDLEdBRTNDLFNBQVN1QyxFQUFnQkMsR0FDckIsSUFBSXBDLEVBQVFKLEVBQU9ILEtBQUtGLE9BQVNBLEtBRWpDLE9BREFTLEVBQU1vQyxPQUFTQSxFQUNScEMsRUE4QlgsT0FsQ0EsSUFBa0JtQyxFQUFpQnZDLEdBTW5DdEgsT0FBTzRILGVBQWVpQyxFQUFnQjNDLFVBQVcsUUFBUyxDQUN0RFcsSUFBSyxXQUNELE9BQU9aLEtBQUs4QyxZQUVoQmhDLFlBQVksRUFDWkMsY0FBYyxJQUVsQjZCLEVBQWdCM0MsVUFBVThDLFdBQWEsU0FBVTVDLEdBQzdDLElBQUk2QyxFQUFlM0MsRUFBT0osVUFBVThDLFdBQVc3QyxLQUFLRixLQUFNRyxHQUkxRCxPQUhJNkMsSUFBaUJBLEVBQWFDLFFBQzlCOUMsRUFBVy9ELEtBQUs0RCxLQUFLNkMsUUFFbEJHLEdBRVhKLEVBQWdCM0MsVUFBVTZDLFNBQVcsV0FDakMsR0FBSTlDLEtBQUtrRCxTQUNMLE1BQU1sRCxLQUFLbUQsWUFFVixHQUFJbkQsS0FBS2lELE9BQ1YsTUFBTSxJQUFJRyxFQUFBLEVBR1YsT0FBT3BELEtBQUs2QyxRQUdwQkQsRUFBZ0IzQyxVQUFVN0QsS0FBTyxTQUFVbEIsR0FDdkNtRixFQUFPSixVQUFVN0QsS0FBSzhELEtBQUtGLEtBQU1BLEtBQUs2QyxPQUFTM0gsSUFFNUMwSCxFQW5DeUIsQ0FvQ2xDeEUsRUFBQSxHLFlDakNFaUYsRUFBTyxHQUNKLFNBQVNDLElBRVosSUFEQSxJQUFJOUIsRUFBYyxHQUNUSCxFQUFLLEVBQUdBLEVBQUt6QixVQUFVbEUsT0FBUTJGLElBQ3BDRyxFQUFZSCxHQUFNekIsVUFBVXlCLEdBRWhDLElBQUlrQyxFQUFpQixLQUNqQkMsRUFBWSxLQVVoQixPQVRJLE9BQUFDLEVBQUEsR0FBWWpDLEVBQVlBLEVBQVk5RixPQUFTLE1BQzdDOEgsRUFBWWhDLEVBQVlELE9BRXVCLG1CQUF4Q0MsRUFBWUEsRUFBWTlGLE9BQVMsS0FDeEM2SCxFQUFpQi9CLEVBQVlELE9BRU4sSUFBdkJDLEVBQVk5RixRQUFnQixPQUFBRSxFQUFBLEdBQVE0RixFQUFZLE1BQ2hEQSxFQUFjQSxFQUFZLElBRXZCLE9BQUFrQyxFQUFBLEdBQVVsQyxFQUFhZ0MsR0FBVzFELEtBQUssSUFBSTZELEVBQXNCSixJQUU1RSxJQUFJSSxFQUF1QyxXQUN2QyxTQUFTQSxFQUFzQkosR0FDM0J2RCxLQUFLdUQsZUFBaUJBLEVBSzFCLE9BSEFJLEVBQXNCMUQsVUFBVUMsS0FBTyxTQUFVQyxFQUFZTixHQUN6RCxPQUFPQSxFQUFPTyxVQUFVLElBQUksRUFBd0JELEVBQVlILEtBQUt1RCxrQkFFbEVJLEVBUCtCLEdBVXRDLEVBQXlDLFNBQVV0RCxHQUVuRCxTQUFTdUQsRUFBd0JyRCxFQUFhZ0QsR0FDMUMsSUFBSTlDLEVBQVFKLEVBQU9ILEtBQUtGLEtBQU1PLElBQWdCUCxLQUs5QyxPQUpBUyxFQUFNOEMsZUFBaUJBLEVBQ3ZCOUMsRUFBTW9ELE9BQVMsRUFDZnBELEVBQU1vQixPQUFTLEdBQ2ZwQixFQUFNZSxZQUFjLEdBQ2JmLEVBcURYLE9BNURBLElBQWtCbUQsRUFBeUJ2RCxHQVMzQ3VELEVBQXdCM0QsVUFBVWUsTUFBUSxTQUFVYyxHQUNoRDlCLEtBQUs2QixPQUFPaEcsS0FBS3dILEdBQ2pCckQsS0FBS3dCLFlBQVkzRixLQUFLaUcsSUFFMUI4QixFQUF3QjNELFVBQVU2RCxVQUFZLFdBQzFDLElBQUl0QyxFQUFjeEIsS0FBS3dCLFlBQ25CSSxFQUFNSixFQUFZOUYsT0FDdEIsR0FBWSxJQUFSa0csRUFDQTVCLEtBQUtPLFlBQVl3RCxlQUVoQixDQUNEL0QsS0FBSzZELE9BQVNqQyxFQUNkNUIsS0FBSzJCLFVBQVlDLEVBQ2pCLElBQUssSUFBSTNGLEVBQUksRUFBR0EsRUFBSTJGLEVBQUszRixJQUFLLENBQzFCLElBQUk2RixFQUFhTixFQUFZdkYsR0FDN0IrRCxLQUFLK0IsSUFBSSxPQUFBQyxFQUFBLEdBQWtCaEMsS0FBTThCLEVBQVlBLEVBQVk3RixPQUlyRTJILEVBQXdCM0QsVUFBVXdDLGVBQWlCLFNBQVV1QixHQUM5QixJQUF0QmhFLEtBQUs2RCxRQUFVLElBQ2hCN0QsS0FBS08sWUFBWXdELFlBR3pCSCxFQUF3QjNELFVBQVVnQyxXQUFhLFNBQVVDLEVBQVlDLEVBQVlDLEVBQVlDLEVBQVlDLEdBQ3JHLElBQUlULEVBQVM3QixLQUFLNkIsT0FDZG9DLEVBQVNwQyxFQUFPTyxHQUNoQlQsRUFBYTNCLEtBQUsyQixVQUVoQnNDLElBQVdaLElBQVNyRCxLQUFLMkIsVUFBWTNCLEtBQUsyQixVQUQxQyxFQUVORSxFQUFPTyxHQUFjRCxFQUNILElBQWRSLElBQ0kzQixLQUFLdUQsZUFDTHZELEtBQUtrRSxtQkFBbUJyQyxHQUd4QjdCLEtBQUtPLFlBQVluRSxLQUFLeUYsRUFBT3BHLFdBSXpDbUksRUFBd0IzRCxVQUFVaUUsbUJBQXFCLFNBQVVyQyxHQUM3RCxJQUFJOUMsRUFDSixJQUNJQSxFQUFTaUIsS0FBS3VELGVBQWU5RyxNQUFNdUQsS0FBTTZCLEdBRTdDLE1BQU9YLEdBRUgsWUFEQWxCLEtBQUtPLFlBQVlsQyxNQUFNNkMsR0FHM0JsQixLQUFLTyxZQUFZbkUsS0FBSzJDLElBRW5CNkUsRUE3RGlDLENBOEQxQ2pCLEVBQUEsR0NoR0ssU0FBU3dCLElBRVosSUFEQSxJQUFJQyxFQUFhLEdBQ1IvQyxFQUFLLEVBQUdBLEVBQUt6QixVQUFVbEUsT0FBUTJGLElBQ3BDK0MsRUFBVy9DLEdBQU16QixVQUFVeUIsR0FFL0IsSUFBSTNGLEVBQVMwSSxFQUFXMUksT0FDeEIsR0FBZSxJQUFYQSxFQUNBLE1BQU0sSUFBSTJJLE1BQU0sdUNBRXBCLE9BQU8sU0FBVXhFLEdBQVUsT0FBTyxPQUFBM0csRUFBQSxHQUV0QyxTQUFpQm9MLEVBQU81SSxHQWNwQixPQWJhLFNBQVVyQixHQUVuQixJQURBLElBQUlrSyxFQUFjbEssRUFDVDRCLEVBQUksRUFBR0EsRUFBSVAsRUFBUU8sSUFBSyxDQUM3QixJQUFJdUksRUFBSUQsRUFBWUQsRUFBTXJJLElBQzFCLFFBQWlCLElBQU51SSxFQUlQLE9BSEFELEVBQWNDLEVBTXRCLE9BQU9ELEdBZDJCRSxDQUFRTCxFQUFZMUksR0FBeEIsQ0FBaUNtRSxJLGdCQ1JqRTZFLEVBQWMsV0FDaEIsSUFBSUMsRUFBYUMsU0FBU0MsY0FBYyxTQXNCeEMsT0FwQkFGLEVBQVdHLE1BQU1DLE9BQVMsT0FDMUJKLEVBQVdHLE1BQU1FLFNBQVcsUUFDNUJMLEVBQVdHLE1BQU1HLE9BQVEsS0FDekJOLEVBQVdHLE1BQU1JLFFBQVUsT0FDM0JQLEVBQVdHLE1BQU1LLE9BQVEsT0FDekJSLEVBQVdHLE1BQU1NLElBQU0sSUFDdkJULEVBQVdHLE1BQU1PLEtBQU0sSUFDdkJWLEVBQVdHLE1BQU1RLFFBQVUsSUFDeEJDLE9BQU9DLE1BQVEsTUFDZGIsRUFBV0csTUFBTVcsVUFBWSxZQUVqQ2QsRUFBV0csTUFBTVksTUFBTyxjQUN4QmYsRUFBV2dCLGFBQWEsZUFBZ0IsT0FFeENoQixFQUFXaUIsT0FBTyxXQUNkQyxZQUFXLFdBQ1BsQixFQUFXbUIsWUFJWm5CLEdBR0xvQixFQUFZLFNBQUNDLEVBQVVDLEdBQVcsTUFDaEJELEVBQVNFLHdCQUF0QmIsRUFENkIsRUFDN0JBLEtBQU1ELEVBRHVCLEVBQ3ZCQSxJQUNiYSxFQUFPbkIsTUFBTU8sS0FBYixVQUF1QkEsRUFBdkIsTUFDQVksRUFBT25CLE1BQU1NLElBQWIsVUFBc0JBLEVBQXRCLE9BR0VlLEVBQW9CLFNBQUNILEVBQVVDLEdBRWpDLE9BREFGLEVBQVVDLEVBQVVDLEdBQ2IsU0FBU0csR0FDWkwsRUFBVUMsRUFBVUMsR0FDcEIsSUFHSUksRUFBZUQsRUFBV0UsUUFBVUYsRUFBV0csSUFDL0NDLEVBQWtDLEtBQXhCSixFQUFXSyxTQWNyQkMsRUFEZU4sRUFBV0ssU0FBU25MLE1BQU0sSUFDakJwQyxLQUFJLFNBQUF5TixHQUFFLE1BQVcsTUFBUEEsRUFBYSxTQUFXQSxLQUMxRE4sSUFBZ0JHLEdBQ2hCRSxFQUFTN0ssS0FBSyxVQUlsQm1LLEVBQVNZLFVBQVlGLEVBQVN4TixLQUMxQixTQUFDeU4sRUFBSUUsR0FBTCxPQXpCWSxTQUFDQyxHQUFELDJCQUFVQyxFQUFWLGlDQUFVQSxFQUFWLCtDQUNJQSxFQUFVM04sS0FBSyxLQURuQixhQUM0QjBOLEVBRDVCLFdBeUJDRSxDQUFRTCxHQXBCR00sRUFvQm9CSixFQW5CekNMLEVBQWdCLFFBQ2ZILEdBQ0FZLEdBQVdiLEVBQVdFLE9BQ3RCVyxHQUFXYixFQUFXRyxJQUVmLFlBR0pVLElBQVliLEVBQVdFLE1BQVEsUUFBVSxLQVR6QixJQUFDVyxLQXFCMUI3TixLQUFLLE1BSVQ4TixFQUFPLFNBQUNsQixFQUFVQyxHQUFxQixJQUFia0IsRUFBYSx1REFBUCxHQUNsQ0MsWUFBVXBKLEVBQWdCbUosSUFDMUJuQixFQUFTbEIsTUFBTXVDLFdBQWFySixFQUM1QmdJLEVBQVNsQixNQUFNd0MsU0FBV3RKLEVBQzFCZ0ksRUFBU2xCLE1BQU15QyxVQUFZLFlBQzNCcEIsRUFBa0JILEVBQVVDLEVBQTVCRSxDQUFvQyxDQUNoQ00sU0FBVSxHQUNWSCxNQUFPLEVBQ1BDLElBQUssSyw2cUNDMUNFLGVBQVVpQixHQUF5QixJQUFWTCxFQUFVLHVEQUFKLEdBQzFDLElBQUlLLEVBQ0EsS0FBTSxpQ0FHVixJQUFJdkIsRUFBU3ZCLElBQ2JFLFNBQVM2QyxLQUFLQyxZQUFZekIsR0FDMUJBLEVBQU9ILFFBRVBvQixFQUFLTSxFQUFldkIsRUFBUWtCLEdBRzVCLElBQUlRLEVBQVNDLFlBQVUzQixFQUFRLFNBQzNCNEIsRUFBVUQsWUFBVTNCLEVBQVEsVUFDNUI2QixFQUFTRixZQUFVM0IsRUFBUSxTQUUzQjhCLEVBQVksSUFBSW5GLEVBQWdCLElBRXBDK0UsRUFBT0ssS0FDSDdELEVBQU0sU0FBVSxVQUNsQi9ELFdBQVUsU0FBQWpILEdBQUcsT0FBSTRPLEVBQVUzTCxLQUFLakQsTUFFbEMsSUFBSThPLEVBQWNILEVBQU9FLEtBQ2pCak8sYUFBTyxTQUFBbU8sR0FBRyxPQUFJckssRUFBU1gsU0FBU2dMLEVBQUloTyxTQUd4Q2lPLEVBQVNMLEVBQU9FLEtBQ1pqTyxhQUFPLFNBQUFtTyxHQUFHLE9BQUlBLEVBQUloTyxNQUFRNEQsRUFBS0MsU0FDL0JoRSxhQUFPLHFCQUFFcU8sT0FBb0JDLFlBQzdCakgsRUFBZTJHLEdBQ2Y3TyxhQUFJLDZDQUNKYSxhQUFPLFNBQUFaLEdBQUcsUUFBTUEsTUFHcEJtUCxFQUFtQkMsWUFBTVosRUFBUU0sRUFBYUosR0FDOUNXLEVBQWFGLEVBQWlCTixLQUMxQjlPLGFBQUksU0FBQWdQLEdBQUcsTUFBSyxDQUNSNUIsTUFBTzRCLEVBQUlFLE9BQU9LLGVBQ2xCbEMsSUFBSzJCLEVBQUlFLE9BQU9NLGtCQUl4QkMsRUFBY3JGLEVBQWN5RSxFQUFXUyxHQUFZUixLQUMvQzlPLGFBQUksbUNBQXVCdU4sU0FBdkIsZUFDSm1DLGFBQXFCLFNBQUNDLEVBQVdDLEdBQVosT0FDakJDLEtBQUtDLFVBQVVILEtBQWVFLEtBQUtDLFVBQVVGLE9BSW5ERyxFQUFTOUMsRUFBa0JxQixFQUFldkIsR0FJaEQsT0FIQTBDLEVBQVl2SSxVQUFVNkksR0FHZixDQUNIZCxTQUNBUixTQUNBLGFBQ0ksT0FBTzFCLEdBRVgsVUFBVW5MLEdBQ05tTCxFQUFPL0ssTUFBUUosRUFDZmlOLEVBQVUzTCxLQUFLdEIsR0FDSCxLQUFSQSxHQUNBaUwsRUFBVXlCLEVBQWV2QixHQUU3QmlELFlBQVFqRCxFQUFRcEksRUFBUyxLQUU3QixhQUFhd0ssR0FDVCxJQUFJYyxFQUFVM0IsRUFBYzRCLGNBQWMsVUFDdkNmLEdBQ0NwQyxFQUFPTixhQUFhLFlBQVksR0FDaEN3RCxFQUFRRSxVQUFVdEgsSUFBSSxjQUd0Qm9ILEVBQVFFLFVBQVVDLE9BQU8sWUFDekJyRCxFQUFPc0QsZ0JBQWdCLFlBQ3ZCdEQsRUFBT0gsWSwrakJDbEd2QixJQUFNMEQsR0FBVUMsY0FnRVZDLEdBQWlCLFNBQUNDLEdBQ3BCLElBQUlDLEVBQWVoRixTQUFTd0UsY0FBYyxjQUN0Q1MsRUFBZWpGLFNBQVN3RSxjQUFjLGNBR3RDVSxHQUZxQmxGLFNBQVN3RSxjQUFjLDZCQUU3QlcsWUFBV0osSUFDMUJLLEVBQVlGLEdBQWdCQSxFQUFhcEwsUUFFdkN1TCxFQUFrQixTQUFDcEQsRUFBS3FELEdBQzFCLElBQU1DLEVBQWVSLEVBQVk5QyxFQUFNLEdBQ3ZDLE9BQU9zRCxHQUNBQSxFQUFhaEwsT0FDYmdMLEVBQWF2TSxRQUFVc00sRUFBWXRNLE9BR3hDd00sRUFBWUosRUFBWSxvQ0FBc0MsR0FDakVMLEVBQVlqTyxPQUFTLEVBQ3BCa08sRUFBYWhELFVBQVksSUFFekJnRCxFQUFhaEQsVUFBWStDLEVBQVl6USxLQUFJLFNBQUNtUixFQUFNeEQsR0FDNUMsT0FuRU8sU0FBQyxHQUE0QyxJQUN4RDlILEVBQVF1TCxFQURLMU0sRUFBMkMsRUFBM0NBLE1BQU9VLEVBQW9DLEVBQXBDQSxPQUFRMkwsRUFBNEIsRUFBNUJBLGdCQUFpQjlLLEVBQVcsRUFBWEEsTUFHakQsR0FBcUIsaUJBQVhiLEVBQ05TLEVBQVNULE9BQ04sR0FBcUIsV0FBbEIsR0FBT0EsR0FDYixJQUNJUyxFQUFTVCxFQUFPaU0sTUFBUXhCLEtBQUtDLFVBQVUxSyxHQUNwQ0EsRUFBT2lNLE9BQ05ELEdBQWEsR0FFbkIsTUFBT2hOLEdBQ0xnTixHQUFhLEVBQ2J2TCxFQUFTLHVCQUdiQSxPQURpQm5FLElBQVgwRCxFQUNJLEdBRUQsa0JBR2IsR0FBSUEsYUFBa0IrRixNQUFPLEtBQ2xCbUcsRUFBa0JsTSxFQUFsQmtNLFFBQVNDLEVBQVNuTSxFQUFUbU0sTUFDaEIxTCxFQUFTLEdBQUgsT0FBTXlMLEVBQU4sZUFBb0JDLEdBRzlCLElBQUlDLEVBQVlKLEVBQ1Z2TCxFQURvQixzQkFFTEksRUFBUSxZQUFjLEdBRmpCLGFBRXdCSixHQUFVLEdBRmxDLFVBSXBCMEgsRUFBVyxtSEFBSCxPQUlKN0ksR0FBUyxHQUpMLDJDQVNkLG1EQUNVcU0sRUFBa0IsR0FBS3hELEVBRGpDLCtEQUdjaUUsRUFIZCx3Q0E0QmVDLEMsa1dBQVcsSUFBS04sRUFBTixDQUFZSixnQkFBaUJBLEVBQWdCcEQsRUFBS3dELFNBQ3BFalIsS0FBSyxJQUFNZ1IsRUFFWEosRUFFQ0gsRUFBYS9FLE1BQU04RixRQUFVLFFBRTdCcEIsSUFBUSxHQUNSSyxFQUFhL0UsTUFBTThGLFFBQVUsV0FNbkMxRCxHQUFPLFNBQUNsQixHQUF1QixJQUFibUIsRUFBYSx1REFBUCxHQUMxQkMsWUFBVS9OLEdBQ1YyTSxFQUFTWSxVQWpHVCwyWEFrR0EsSUFBTXBPLEVBQVl3TixFQUFTNkUsa0JBQ3JCQyxFQUFvQmxHLFNBQVN3RSxjQUFjLFVBQzNDeEwsRUFBUW1OLEVBQU1ELEVBQW1CM0QsR0FDakM2RCxFQUFjLEdBaUJwQixPQWhCQXhTLEVBQVVzTSxNQUFNQyxPQUFTLG9CQUN6QnZNLEVBQVVzTSxNQUFNbUcsU0FBVyxPQUMzQnpTLEVBQVVzTSxNQUFNdUMsV0FBYXJKLEVBQzdCeEYsRUFBVXNNLE1BQU1vRyxXQUFhL0QsRUFBTStELFlBQWMsUUFDakQxUyxFQUFVc00sTUFBTVksTUFBUXlCLEVBQU16QixPQUFTLE9BQ3ZDbE4sRUFBVXNNLE1BQU13QyxTQUFXdEosRUFDM0J4RixFQUFVMlMsaUJBQWlCLFNBQVMsU0FBVUMsR0FBTyxJQUNyQ0MsRUFBVXpOLEVBQU13SyxPQUFPbEMsd0JBQTVCZCxLQUNGZ0csRUFBTUUsUUFBVUQsR0FDZEUsS0FBS0MsSUFBSUosRUFBTUUsUUFBVUQsR0FBVUwsSUFFdENwTixFQUFNd0ssT0FBT3RDLFVBRWxCLENBQ0MyRixTQUFTLElBRU4sQ0FDSGpULFlBQ0FvRixVLHNWQ3RJUixJQUFJOE4sR0FBTyxHQUNJLGNBQWlDLElBQXZCQyxFQUF1Qix1REFBaEIsR0FBSS9TLEVBQVksdUNBQVBnRixFQUFPLHVDQUM1QyxPQUFRaEYsR0FDSixJQUFLLFFBRUQsT0FEQThTLEdBQU8sR0FBSCxVQUFPQSxJQUFQLEdBQWdCQyxHQUFoQixDQUFzQixDQUFDL04sTUFBTyxRQUFTVSxPQUFRLE1BQzVDLEdBQ1gsSUFBSyxVQUNELElBQUlzTixFQUFVLEdBQUgsVUFBT0YsSUFBUCxHQUFnQkMsSUFDdkJFLEVBQVVELEVBQVExUyxLQUFJLFNBQUNxRSxFQUFTc0osR0FFaEMsT0FEVWlGLFlBQWUsSUFBZkEsQ0FBb0JqRixFQUFNLEVBQUcrRSxFQUFRbFEsT0FBUyxHQUMzQyxLQUFPNkIsRUFBUUssU0FDN0J4RSxLQUFLLE1BTVIsT0FKQXVTLEVBQUs5UCxLQUFLLENBQ04rQixRQUNBVSxPQUFRdU4sSUFFTEYsRUFDWCxRQUFTLE9BQU9BLEksb3JDQ0lULFNBQVNJLEdBQWVDLEdBQTRCLElBQVY3RSxFQUFVLHVEQUFKLEdBQzNELElBQUs2RSxFQUNELEtBQU0sNEJBRnFELE1BSXBDOUUsR0FBSzhFLEVBQWtCN0UsR0FBM0MzTyxFQUp3RCxFQUl4REEsVUFBV29GLEVBSjZDLEVBSTdDQSxNQUNkcU8sRUFBWSxJQUFJN04sSUFDaEI4TixFQzFCRCxXQUVILElBREEsSUFBSTNTLEVBQU8sR0FDRjhILEVBQUssRUFBR0EsRUFBS3pCLFVBQVVsRSxPQUFRMkYsSUFDcEM5SCxFQUFLOEgsR0FBTXpCLFVBQVV5QixHQUV6QixJQUFJbUMsRUFBWWpLLEVBQUtBLEVBQUttQyxPQUFTLEdBQ25DLE9BQUksT0FBQStILEVBQUEsR0FBWUQsSUFDWmpLLEVBQUtnSSxNQUNFLE9BQUE0SyxFQUFBLEdBQWM1UyxFQUFNaUssSUFHcEIsT0FBQUUsRUFBQSxHQUFVbkssR0RlTjZTLENBQUcxVSxHQUNkMlUsRUFBVTlELFlBQU0wRCxFQUFXQyxHQUFVbEUsS0FDckN4SSxHQUFLLFNBQUM4TSxFQUFRQyxHQUFULGFBQ0VBLEVBREYsR0FFRUQsS0FDSCxJQUNKcFQsYUFBSSxTQUFDTixHQUFELGFBQ0dBLEVBREgsR0FFR2xCLE9BSUw4VSxFQUFTNU8sRUFBTXVLLE9BQU9ILEtBQ3hCNUcsRUFBZWlMLEdBQ2ZuVCxhQUFJLFlBQXFCLGNBQW5CMEUsRUFBbUIsS0FBWnJGLEVBQVksS0FDckIsTUFBTyxDQUNIa0csYUFBY2dPLEVBQVVsVSxFQUFWa1UsQ0FBa0I3TyxHQUNoQ3JGLFNBQ0FDLGdCQUdSVSxZQUFJcUYsRUFBRyxLQUNUNkIsV0FBVSxXQUNSeEMsRUFBTXdLLE9BQU9zRSxVQXVDWEMsRUFwQ2FwTyxFQUFJZ0IsS0FBS3lJLEtBQ3hCak8sYUFBTyxTQUFBTSxHQUFDLE9BQUlBLEtBQ1ptRixHQUFLLFNBQUNtTSxFQUFNNU0sR0FDUixJQWdCSW5HLEVBQU1tRyxFQUNKQSxFQUFPbkIsTUFBTWpGLE9BQU8yQyxNQUFNLE9BQU8sR0FDakMsR0FFTixHQUFJeUQsR0FwQmUsU0FBQW5HLEdBQ2YsSUFBSWdVLEVBQVk3VCxPQUFPQyxLQUFLdEIsR0FBZXdGLFNBQVN0RSxHQUVwRCxJQUFLZ1UsRUFDRCxPQUFPLEVBR1gsSUFBSXZVLEVBQVVYLEVBQWNrQixHQUFLUCxTQUFXWCxFQUFja0IsR0FDMUQsSUFFSSxPQURBZ1UsRUFBMEIsS0FBZHZVLElBRWQsTUFBT2lGLEdBQ0wsT0FBTyxHQVFEdVAsQ0FBYWpVLEdBQ3ZCLE9BQU9rVSxHQUFnQm5CLEdBQVFBLEVBQUtsUSxRQUFTN0MsRUFBS21HLEVBQU9uQixPQUc3RCxJQUFJbVAsRUFBYXBCLEVBQUtsUSxRQUFROEYsTUFLOUIsT0FKSXdMLEdBQWNBLEVBQVdyTyxVQUFZcU8sRUFBVzVOLE9BQ2hEd00sRUFBS3BLLE1BRVRvSyxFQUFLOVAsS0FBS2tELEdBQ0g0TSxJQUNSLEtBR3NCdkwsV0FBVSxTQUFDaUssR0FDcEMsSUFBSTJDLEVBQVdqRCxZQUFXTSxHQUMxQlgsR0FBZVcsR0FDZjRDLFlBQWV6VSxHQUVmb0YsRUFBTXlLLFNBQVcyRSxHQUFZQSxFQUFTdE8sUUFDdENkLEVBQU0xQyxNQUFRLE1BR2xCMEMsRUFBTStKLE9BQU92SCxXQUFVLFdBQ25CNk0sWUFBZXpVLE1BR25CLElBQU0wVSxFQUFnQixTQUFPQyxHQUFQLDBCQUFBdE8sT0FBQSx1REFDbEJvTyxZQUFlelUsR0FERyxrQ0FFWjRVLFlBQWVELEdBQVEsU0FBQUUsR0FBQyxPQUFJelAsRUFBTTFDLE1BQVFtUyxJQUFHLEtBRmpDLGdDQUlYLElBQUloTyxTQUFRLFNBQUNDLEVBQVNnTyxHQUN6Qi9PLEVBQUlnQixLQUFLeUksS0FDTGpPLGFBQU8sU0FBQU0sR0FBQyxPQUFJQSxLQUNaTixhQUFPLG1CQUEyQixJQUEzQixFQUFFMkUsWUFDWDBCLFdBQVUsWUFBYSxFQUFYeEMsUUFDR3VQLEdBQ1Q3TixPQUdSNEosWUFBUXRMLEVBQU13SyxPQUFRdEssRUFBS0MsV0FiYixzQ0FpQnRCLE1BQU8sQ0FDSCxhQUFhakQsR0FDVDhDLEVBQU15SyxTQUFXdk4sR0FFckIsYUFBYXZDLEdBQ1QwVCxFQUFVN1AsS0FBSzdELElBRW5CLGlCQUFpQjJDLEdBQ2IwQyxFQUFNMUMsTUFBUUEsR0FFbEJxUyxRQVZHLFdBV0NaLEVBQVFhLGNBQ1JoQixFQUFPZ0IsY0FDUGhWLEVBQVU4USxTQUNWMUwsRUFBTXdLLE9BQU9rQixVQUVqQm1FLFlBaEJHLFNBZ0JTbFYsR0FDUjBULEVBQVU3UCxLQUFLN0QsSUFFbkJxRixNQW5CRyxTQW1CRzFDLEVBQU93UyxHQUNULEdBQUlBLEVBQ0EsT0FBT04sWUFBZWxTLEdBQU8sU0FBQ3lTLEdBQzFCL1AsRUFBTTFDLE1BQVF5UyxLQUdsQi9QLEVBQU0xQyxNQUFRQSxHQUd0QmdTLGdCQUNBVSxvQkFBcUIsU0FBQ0MsR0FDbEIsSUFBSUMsRUFBYUQsRUFBTzNVLEtBQUksU0FBQU4sR0FBRyxPQUFJLGtCQUFNc1UsRUFBY3RVLE9BQ3ZELE9BQU8rRixZQUFnQm1QLElBRTNCQyxLQUFNLFNBQUNuVixHQUNIZ0YsRUFBTTFDLE1BQVF0QyxFQUNkc1EsWUFBUXRMLEVBQU13SyxPQUFRdEssRUFBS0MsUyIsImZpbGUiOiIxMC5kOTUwNGMuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1RyaW19IGZyb20gXCJAemhvdWppYWhhby91dGlsc1wiO1xuXG5jb25zdCBCVUlMVF9JTl9DTURTID0ge1xuICAgIGNsZWFyOiAoKSA9PiBcIlwiLFxuICAgIGhpc3Rvcnk6ICgpID0+IFwiXCIsXG4gICAgZWNobzogZnVuY3Rpb24gKGEsIGIsIGMsIHBhcnNlZFBhcmFtcykge1xuICAgICAgICByZXR1cm4gcGFyc2VkUGFyYW1zLmZyb21QaXBlIHx8IHBhcnNlZFBhcmFtcy5yZXN0UGFyYW1zO1xuICAgIH0sXG4gICAgbWFuOiB7XG4gICAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIChwYXJhbXMsIGNtZFNldCwgJHRlcm1pbmFsLCB7cmVzdFBhcmFtc30pIHtcbiAgICAgICAgICAgIGlmICghY21kU2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXJlc3RQYXJhbXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gVHJpbShjbWRTZXQubWFuLmRvYyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChyZXN0UGFyYW1zICYmIGNtZFNldFtyZXN0UGFyYW1zLnRyaW0oKV0pIHtcbiAgICAgICAgICAgICAgICBsZXQgY21kID0gY21kU2V0W3Jlc3RQYXJhbXMudHJpbSgpXTtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGNtZCA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFRyaW0oY21kLmRvYykgfHwgJ+ayoeacieW4ruWKqeS/oeaBryc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICfmsqHmnInluK7liqnkv6Hmga8nO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZG9jOiBgXG4gICAgICAgICAgICBOQU1FXG4gICAgICAgICAgICAgICAgbWFuIC0tIGRpc3BsYXkgY29tbWFuZCdzIG1hbnVhbCBpbmZvLlxuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgU1lOT1BTSVNcbiAgICAgICAgICAgICAgICBtYW4gWyBjb21tYW5kIG5hbWUgXWBcbiAgICB9LFxuICAgIGhlbHA6IGZ1bmN0aW9uIChwYXJhbXMsIGNtZFNldCkge1xuICAgICAgICBpZighY21kU2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGluc2VydCA9IChwcmVmaXgpID0+IChzdHIpID0+IHByZWZpeCArIHN0cjtcbiAgICAgICAgcmV0dXJuIFwiQXZhaWxhYmxlIGNvbW1hbmRzOiBcXG5cIiArIE9iamVjdC5rZXlzKGNtZFNldCkuc29ydCgpLm1hcChpbnNlcnQoJy0gJykpLmpvaW4oXCJcXG5cIik7XG4gICAgfVxufTtcblxuY29uc3QgREVGQVVMVF9TVFlMRSA9IGBcbiAgICAuc2Vzc2lvbiA+IC5pbnB1dCB7bGluZS1oZWlnaHQ6IDEuMn1cbiAgICA6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcbiAgICAgICAgd2lkdGg6IDJwdFxuICAgIH1cbiAgICBcbiAgICA6Oi13ZWJraXQtc2Nyb2xsYmFyOmhvcml6b250YWwge1xuICAgICAgICBoZWlnaHQ6IDBcbiAgICB9XG5cbiAgICA6Oi13ZWJraXQtc2Nyb2xsYmFyLWJ1dHRvbiB7XG4gICAgICAgIGRpc3BsYXk6IG5vbmVcbiAgICB9XG5cbiAgICA6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcbiAgICAgICAgYmFja2dyb3VuZDogI2QwZDBkMFxuICAgIH1cbmA7XG5cbmNvbnN0IFNUQVRVUyA9IHtcbiAgICBMT0FESU5HOiBTeW1ib2woKSxcbiAgICBFUlJPUjogU3ltYm9sKCksXG59O1xuXG5jb25zdCBQSVBFID0gJ3wnO1xuXG5leHBvcnQge0JVSUxUX0lOX0NNRFMsIFNUQVRVUywgREVGQVVMVF9TVFlMRSwgUElQRX1cbiIsIi8vIGh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9zdWJzdGFjay9taW5pbWlzdC9tYXN0ZXIvaW5kZXguanNcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChhcmdzLCBvcHRzKSB7XG4gIGlmICghb3B0cykgb3B0cyA9IHt9O1xuXG4gIGxldCBmbGFncyA9IHsgYm9vbHMgOiB7fSwgc3RyaW5ncyA6IHt9LCB1bmtub3duRm46IG51bGwgfTtcblxuICBpZiAodHlwZW9mIG9wdHNbJ3Vua25vd24nXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGZsYWdzLnVua25vd25GbiA9IG9wdHNbJ3Vua25vd24nXTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb3B0c1snYm9vbGVhbiddID09PSAnYm9vbGVhbicgJiYgb3B0c1snYm9vbGVhbiddKSB7XG4gICAgZmxhZ3MuYWxsQm9vbHMgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIFtdLmNvbmNhdChvcHRzWydib29sZWFuJ10pLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGZsYWdzLmJvb2xzW2tleV0gPSB0cnVlO1xuICAgIH0pO1xuICB9XG5cbiAgbGV0IGFsaWFzZXMgPSB7fTtcbiAgT2JqZWN0LmtleXMob3B0cy5hbGlhcyB8fCB7fSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgYWxpYXNlc1trZXldID0gW10uY29uY2F0KG9wdHMuYWxpYXNba2V5XSk7XG4gICAgYWxpYXNlc1trZXldLmZvckVhY2goZnVuY3Rpb24gKHgpIHtcbiAgICAgIGFsaWFzZXNbeF0gPSBba2V5XS5jb25jYXQoYWxpYXNlc1trZXldLmZpbHRlcihmdW5jdGlvbiAoeSkge1xuICAgICAgICByZXR1cm4geCAhPT0geTtcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgW10uY29uY2F0KG9wdHMuc3RyaW5nKS5maWx0ZXIoQm9vbGVhbikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgZmxhZ3Muc3RyaW5nc1trZXldID0gdHJ1ZTtcbiAgICBpZiAoYWxpYXNlc1trZXldKSB7XG4gICAgICBmbGFncy5zdHJpbmdzW2FsaWFzZXNba2V5XV0gPSB0cnVlO1xuICAgIH1cbiAgfSk7XG5cbiAgbGV0IGRlZmF1bHRzID0gb3B0c1snZGVmYXVsdCddIHx8IHt9O1xuXG4gIGxldCBhcmd2ID0geyBfIDogW10gfTtcbiAgT2JqZWN0LmtleXMoZmxhZ3MuYm9vbHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIHNldEFyZyhrZXksIGRlZmF1bHRzW2tleV0gPT09IHVuZGVmaW5lZCA/IGZhbHNlIDogZGVmYXVsdHNba2V5XSk7XG4gIH0pO1xuXG4gIGxldCBub3RGbGFncyA9IFtdO1xuXG4gIGlmIChhcmdzLmluZGV4T2YoJy0tJykgIT09IC0xKSB7XG4gICAgbm90RmxhZ3MgPSBhcmdzLnNsaWNlKGFyZ3MuaW5kZXhPZignLS0nKSsxKTtcbiAgICBhcmdzID0gYXJncy5zbGljZSgwLCBhcmdzLmluZGV4T2YoJy0tJykpO1xuICB9XG5cbiAgZnVuY3Rpb24gYXJnRGVmaW5lZChrZXksIGFyZykge1xuICAgIHJldHVybiAoZmxhZ3MuYWxsQm9vbHMgJiYgL14tLVtePV0rJC8udGVzdChhcmcpKSB8fFxuICAgICAgZmxhZ3Muc3RyaW5nc1trZXldIHx8IGZsYWdzLmJvb2xzW2tleV0gfHwgYWxpYXNlc1trZXldO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0QXJnIChrZXksIHZhbCwgYXJnKSB7XG4gICAgaWYgKGFyZyAmJiBmbGFncy51bmtub3duRm4gJiYgIWFyZ0RlZmluZWQoa2V5LCBhcmcpKSB7XG4gICAgICBpZiAoZmxhZ3MudW5rbm93bkZuKGFyZykgPT09IGZhbHNlKSByZXR1cm47XG4gICAgfVxuXG4gICAgbGV0IHZhbHVlID0gIWZsYWdzLnN0cmluZ3Nba2V5XSAmJiBpc051bWJlcih2YWwpXG4gICAgICA/IE51bWJlcih2YWwpIDogdmFsXG4gICAgO1xuICAgIHNldEtleShhcmd2LCBrZXkuc3BsaXQoJy4nKSwgdmFsdWUpO1xuXG4gICAgKGFsaWFzZXNba2V5XSB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbiAoeCkge1xuICAgICAgc2V0S2V5KGFyZ3YsIHguc3BsaXQoJy4nKSwgdmFsdWUpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0S2V5IChvYmosIGtleXMsIHZhbHVlKSB7XG4gICAgbGV0IG8gPSBvYmo7XG4gICAga2V5cy5zbGljZSgwLC0xKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmIChvW2tleV0gPT09IHVuZGVmaW5lZCkgb1trZXldID0ge307XG4gICAgICBvID0gb1trZXldO1xuICAgIH0pO1xuXG4gICAgbGV0IGtleSA9IGtleXNba2V5cy5sZW5ndGggLSAxXTtcbiAgICBpZiAob1trZXldID09PSB1bmRlZmluZWQgfHwgZmxhZ3MuYm9vbHNba2V5XSB8fCB0eXBlb2Ygb1trZXldID09PSAnYm9vbGVhbicpIHtcbiAgICAgIG9ba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9ba2V5XSkpIHtcbiAgICAgIG9ba2V5XS5wdXNoKHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBvW2tleV0gPSBbIG9ba2V5XSwgdmFsdWUgXTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhbGlhc0lzQm9vbGVhbihrZXkpIHtcbiAgICByZXR1cm4gYWxpYXNlc1trZXldLnNvbWUoZnVuY3Rpb24gKHgpIHtcbiAgICAgIHJldHVybiBmbGFncy5ib29sc1t4XTtcbiAgICB9KTtcbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYXJncy5sZW5ndGg7IGkrKykge1xuICAgIGxldCBhcmcgPSBhcmdzW2ldO1xuXG4gICAgaWYgKC9eLS0uKz0vLnRlc3QoYXJnKSkge1xuICAgICAgLy8gVXNpbmcgW1xcc1xcU10gaW5zdGVhZCBvZiAuIGJlY2F1c2UganMgZG9lc24ndCBzdXBwb3J0IHRoZVxuICAgICAgLy8gJ2RvdGFsbCcgcmVnZXggbW9kaWZpZXIuIFNlZTpcbiAgICAgIC8vIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzEwNjgzMDgvMTMyMTZcbiAgICAgIGxldCBtID0gYXJnLm1hdGNoKC9eLS0oW149XSspPShbXFxzXFxTXSopJC8pO1xuICAgICAgbGV0IGtleSA9IG1bMV07XG4gICAgICBsZXQgdmFsdWUgPSBtWzJdO1xuICAgICAgaWYgKGZsYWdzLmJvb2xzW2tleV0pIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSAhPT0gJ2ZhbHNlJztcbiAgICAgIH1cbiAgICAgIHNldEFyZyhrZXksIHZhbHVlLCBhcmcpO1xuICAgIH1cbiAgICBlbHNlIGlmICgvXi0tbm8tLisvLnRlc3QoYXJnKSkge1xuICAgICAgbGV0IGtleSA9IGFyZy5tYXRjaCgvXi0tbm8tKC4rKS8pWzFdO1xuICAgICAgc2V0QXJnKGtleSwgZmFsc2UsIGFyZyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKC9eLS0uKy8udGVzdChhcmcpKSB7XG4gICAgICBsZXQga2V5ID0gYXJnLm1hdGNoKC9eLS0oLispLylbMV07XG4gICAgICBsZXQgbmV4dCA9IGFyZ3NbaSArIDFdO1xuICAgICAgaWYgKG5leHQgIT09IHVuZGVmaW5lZCAmJiAhL14tLy50ZXN0KG5leHQpXG4gICAgICAgICYmICFmbGFncy5ib29sc1trZXldXG4gICAgICAgICYmICFmbGFncy5hbGxCb29sc1xuICAgICAgICAmJiAoYWxpYXNlc1trZXldID8gIWFsaWFzSXNCb29sZWFuKGtleSkgOiB0cnVlKSkge1xuICAgICAgICBzZXRBcmcoa2V5LCBuZXh0LCBhcmcpO1xuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICgvXih0cnVlfGZhbHNlKSQvLnRlc3QobmV4dCkpIHtcbiAgICAgICAgc2V0QXJnKGtleSwgbmV4dCA9PT0gJ3RydWUnLCBhcmcpO1xuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc2V0QXJnKGtleSwgZmxhZ3Muc3RyaW5nc1trZXldID8gJycgOiB0cnVlLCBhcmcpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICgvXi1bXi1dKy8udGVzdChhcmcpKSB7XG4gICAgICBsZXQgbGV0dGVycyA9IGFyZy5zbGljZSgxLC0xKS5zcGxpdCgnJyk7XG5cbiAgICAgIGxldCBicm9rZW4gPSBmYWxzZTtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgbGV0dGVycy5sZW5ndGg7IGorKykge1xuICAgICAgICBsZXQgbmV4dCA9IGFyZy5zbGljZShqKzIpO1xuXG4gICAgICAgIGlmIChuZXh0ID09PSAnLScpIHtcbiAgICAgICAgICBzZXRBcmcobGV0dGVyc1tqXSwgbmV4dCwgYXJnKVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKC9bQS1aYS16XS8udGVzdChsZXR0ZXJzW2pdKSAmJiAvPS8udGVzdChuZXh0KSkge1xuICAgICAgICAgIHNldEFyZyhsZXR0ZXJzW2pdLCBuZXh0LnNwbGl0KCc9JylbMV0sIGFyZyk7XG4gICAgICAgICAgYnJva2VuID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgvW0EtWmEtel0vLnRlc3QobGV0dGVyc1tqXSlcbiAgICAgICAgICAmJiAvLT9cXGQrKFxcLlxcZCopPyhlLT9cXGQrKT8kLy50ZXN0KG5leHQpKSB7XG4gICAgICAgICAgc2V0QXJnKGxldHRlcnNbal0sIG5leHQsIGFyZyk7XG4gICAgICAgICAgYnJva2VuID0gdHJ1ZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsZXR0ZXJzW2orMV0gJiYgbGV0dGVyc1tqKzFdLm1hdGNoKC9cXFcvKSkge1xuICAgICAgICAgIHNldEFyZyhsZXR0ZXJzW2pdLCBhcmcuc2xpY2UoaisyKSwgYXJnKTtcbiAgICAgICAgICBicm9rZW4gPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNldEFyZyhsZXR0ZXJzW2pdLCBmbGFncy5zdHJpbmdzW2xldHRlcnNbal1dID8gJycgOiB0cnVlLCBhcmcpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGxldCBrZXkgPSBhcmcuc2xpY2UoLTEpWzBdO1xuICAgICAgaWYgKCFicm9rZW4gJiYga2V5ICE9PSAnLScpIHtcbiAgICAgICAgaWYgKGFyZ3NbaSsxXSAmJiAhL14oLXwtLSlbXi1dLy50ZXN0KGFyZ3NbaSsxXSlcbiAgICAgICAgICAmJiAhZmxhZ3MuYm9vbHNba2V5XVxuICAgICAgICAgICYmIChhbGlhc2VzW2tleV0gPyAhYWxpYXNJc0Jvb2xlYW4oa2V5KSA6IHRydWUpKSB7XG4gICAgICAgICAgc2V0QXJnKGtleSwgYXJnc1tpKzFdLCBhcmcpO1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChhcmdzW2krMV0gJiYgL3RydWV8ZmFsc2UvLnRlc3QoYXJnc1tpKzFdKSkge1xuICAgICAgICAgIHNldEFyZyhrZXksIGFyZ3NbaSsxXSA9PT0gJ3RydWUnLCBhcmcpO1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBzZXRBcmcoa2V5LCBmbGFncy5zdHJpbmdzW2tleV0gPyAnJyA6IHRydWUsIGFyZyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAoIWZsYWdzLnVua25vd25GbiB8fCBmbGFncy51bmtub3duRm4oYXJnKSAhPT0gZmFsc2UpIHtcbiAgICAgICAgYXJndi5fLnB1c2goXG4gICAgICAgICAgZmxhZ3Muc3RyaW5nc1snXyddIHx8ICFpc051bWJlcihhcmcpID8gYXJnIDogTnVtYmVyKGFyZylcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRzLnN0b3BFYXJseSkge1xuICAgICAgICBhcmd2Ll8ucHVzaC5hcHBseShhcmd2Ll8sIGFyZ3Muc2xpY2UoaSArIDEpKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgT2JqZWN0LmtleXMoZGVmYXVsdHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICghaGFzS2V5KGFyZ3YsIGtleS5zcGxpdCgnLicpKSkge1xuICAgICAgc2V0S2V5KGFyZ3YsIGtleS5zcGxpdCgnLicpLCBkZWZhdWx0c1trZXldKTtcblxuICAgICAgKGFsaWFzZXNba2V5XSB8fCBbXSkuZm9yRWFjaChmdW5jdGlvbiAoeCkge1xuICAgICAgICBzZXRLZXkoYXJndiwgeC5zcGxpdCgnLicpLCBkZWZhdWx0c1trZXldKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKG9wdHNbJy0tJ10pIHtcbiAgICBhcmd2WyctLSddID0gbmV3IEFycmF5KCk7XG4gICAgbm90RmxhZ3MuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgIGFyZ3ZbJy0tJ10ucHVzaChrZXkpO1xuICAgIH0pO1xuICB9XG4gIGVsc2Uge1xuICAgIG5vdEZsYWdzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICBhcmd2Ll8ucHVzaChrZXkpO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGFyZ3Y7XG59O1xuXG5mdW5jdGlvbiBoYXNLZXkgKG9iaiwga2V5cykge1xuICBsZXQgbyA9IG9iajtcbiAga2V5cy5zbGljZSgwLC0xKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBvID0gKG9ba2V5XSB8fCB7fSk7XG4gIH0pO1xuXG4gIGxldCBrZXkgPSBrZXlzW2tleXMubGVuZ3RoIC0gMV07XG4gIHJldHVybiBrZXkgaW4gbztcbn1cblxuZnVuY3Rpb24gaXNOdW1iZXIgKHgpIHtcbiAgaWYgKHR5cGVvZiB4ID09PSAnbnVtYmVyJykgcmV0dXJuIHRydWU7XG4gIGlmICgvXjB4WzAtOWEtZl0rJC9pLnRlc3QoeCkpIHJldHVybiB0cnVlO1xuICByZXR1cm4gL15bLStdPyg/OlxcZCsoPzpcXC5cXGQqKT98XFwuXFxkKykoZVstK10/XFxkKyk/JC8udGVzdCh4KTtcbn1cbiIsImltcG9ydCB7UElQRX0gZnJvbSBcIi4vY29uc3RhbnRcIjtcbmltcG9ydCBnZXRPcHRzIGZyb20gJy4uL3BhcnNlcidcblxuLy8g56e75qSN5LqOIGh0dHBzOi8vZ2l0aHViLmNvbS9weXRob24vY3B5dGhvbi9ibG9iLzIuNy9MaWIvZ2V0b3B0LnB5XG5mdW5jdGlvbiBnZXRPcHQoc2hvcnRvcHRzLCBhcmdzQXJyKSB7XG4gICAgbGV0IG9wdHMgPSB7fTtcbiAgICB3aGlsZSAoYXJnc0Fyci5sZW5ndGggPiAwICYmIGFyZ3NBcnJbMF0uc3RhcnRzV2l0aCgnLScpICYmIGFyZ3NBcnJbMF0gIT09ICctJykge1xuICAgICAgICBpZiAoYXJnc0FyclswXSA9PT0gJy0tJykge1xuICAgICAgICAgICAgYXJnc0FyciA9IGFyZ3NBcnIuc2xpY2UoMSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBpZiAoYXJnc0FyclswXS5zdGFydHNXaXRoKCctLScpKSB7XG4gICAgICAgICAgICB0aHJvdyBgY2FuJ3QgcmVjb2duaXplIGxvbmcgb3B0aW9uYFxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgW29wdHMsIGFyZ3NBcnJdID0gZG9TaG9ydHMob3B0cywgYXJnc0FyclswXS5zbGljZSgxKSwgc2hvcnRvcHRzLCBhcmdzQXJyLnNsaWNlKDEpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRvU2hvcnRzKG9wdHMsIG9wdHN0cmluZywgc2hvcnRvcHRzLCBhcmdzKSB7XG4gICAgICAgIHdoaWxlIChvcHRzdHJpbmcgIT09ICcnKSB7XG4gICAgICAgICAgICBsZXQgb3B0ID0gb3B0c3RyaW5nWzBdO1xuICAgICAgICAgICAgb3B0c3RyaW5nID0gb3B0c3RyaW5nLnNsaWNlKDEpO1xuXG4gICAgICAgICAgICBpZiAoaGFzQXJnKG9wdCwgc2hvcnRvcHRzKSkge1xuICAgICAgICAgICAgICAgIGlmIChvcHRzdHJpbmcgPT09IFwiXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MubGVuZ3RoIDwgMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgYG9wdGlvbiAnLSR7b3B0fScgcmVxdWlyZXMgYXJndW1lbnRgXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb3B0c3RyaW5nID0gYXJnc1swXTtcbiAgICAgICAgICAgICAgICAgICAgYXJncyA9IGFyZ3Muc2xpY2UoMSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gPyDlj6/og73kvJrmiorlkI7nu63nmoQgb3B0IOWQg+aOiVxuICAgICAgICAgICAgICAgIG9wdHNbb3B0XSA9IG9wdHN0cmluZztcbiAgICAgICAgICAgICAgICBvcHRzdHJpbmcgPSAnJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3B0c1tvcHRdID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW29wdHMsIGFyZ3NdO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhc0FyZyhvcHQsIHNob3J0b3B0cykge1xuICAgICAgICBsZXQgc2hvcnRvcHRzQXJyID0gc2hvcnRvcHRzLnNwbGl0KFwiXCIpLFxuICAgICAgICAgICAgb3B0SWR4ID0gc2hvcnRvcHRzQXJyLmluZGV4T2Yob3B0KTtcbiAgICAgICAgaWYgKG9wdElkeCA8IDApIHtcbiAgICAgICAgICAgIHRocm93IGBvcHRpb24gJy0ke29wdH0nIG5vdCByZWNvZ25pemVkYFxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcHRJZHggPj0gMCAmJiBzaG9ydG9wdHNBcnJbb3B0SWR4ICsgMV0gPT09ICc6JztcbiAgICB9XG5cbiAgICByZXR1cm4gb3B0cztcbn1cblxuY29uc3QgcGFyc2UgPSAoY21kU2V0KSA9PiB7XG4gICAgY29uc3QgcGFyc2VJbnB1dCA9ICh1c2VySW5wdXQpID0+IHtcbiAgICAgICAgaWYgKCF1c2VySW5wdXQudHJpbSgpKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVzZXJJbnB1dCxcbiAgICAgICAgICAgICAgICBlcnJvckluZm86ICfnqbrlkb3ku6QnXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpbnB1dEFyciA9IHVzZXJJbnB1dC50cmltKCkuc3BsaXQoL1xccysvKVxuICAgICAgICAgICAgLCBjbWROYW1lID0gaW5wdXRBcnJbMF07XG5cbiAgICAgICAgaWYgKCFjbWROYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHVzZXJJbnB1dCxcbiAgICAgICAgICAgICAgICBlcnJvckluZm86ICfnqbrlkb3ku6QnXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB2YWxpZENvbW1hbmRzID0gT2JqZWN0LmtleXMoY21kU2V0KVxuICAgICAgICAgICAgLCByZXN0UGFyYW1zID0gdXNlcklucHV0LnJlcGxhY2UoY21kTmFtZSwgJycpLnRyaW0oKVxuICAgICAgICAgICAgLCBpc1ZhbGlkQ29tbWFuZCA9IHZhbGlkQ29tbWFuZHMuaW5jbHVkZXMoY21kTmFtZSk7XG5cbiAgICAgICAgaWYgKCFpc1ZhbGlkQ29tbWFuZCkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByZXN0UGFyYW1zLFxuICAgICAgICAgICAgICAgIHVzZXJJbnB1dCxcbiAgICAgICAgICAgICAgICBlcnJvckluZm86IGAke2NtZE5hbWV9IOS4jeaYr+WQiOazleWRveS7pGBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRhcmdldENvbW1hbmQgPSBjbWRTZXRbY21kTmFtZV1cbiAgICAgICAgICAgICwgcGFyYW1zID0gaW5wdXRBcnIuc2xpY2UoMSk7XG5cbiAgICAgICAgbGV0IHBhcnNlZE9wdHMgPSB7fTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHBhcnNlZE9wdHMgPSBnZXRPcHRzKHBhcmFtcyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcmVzdFBhcmFtcyxcbiAgICAgICAgICAgICAgICB1c2VySW5wdXQsXG4gICAgICAgICAgICAgICAgZXJyb3JJbmZvOiBlXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmVzdFBhcmFtcyxcbiAgICAgICAgICAgIHVzZXJJbnB1dCxcbiAgICAgICAgICAgIGVycm9ySW5mbzogbnVsbCxcbiAgICAgICAgICAgIGNvbW1hbmQ6IHRhcmdldENvbW1hbmQsXG4gICAgICAgICAgICBwYXJhbXNPYmo6IHBhcnNlZE9wdHMvLyAhIXNob3J0b3B0cyA/IHBhcnNlZE9wdHMgOiB7fVxuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gKHVzZXJJbnB1dCkgPT4ge1xuICAgICAgICBsZXQgaGFzUGlwZSA9IHVzZXJJbnB1dC5pbmNsdWRlcyhQSVBFKTtcbiAgICAgICAgaWYoaGFzUGlwZSkge1xuICAgICAgICAgICAgbGV0IHVzZXJJbnB1dEFyciA9IHVzZXJJbnB1dC5zcGxpdChQSVBFKTtcblxuICAgICAgICAgICAgaWYodXNlcklucHV0QXJyLmxlbmd0aCA8IDIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnB1dCh1c2VySW5wdXRBcnJbMF0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcGFyc2VkUmVzdWx0cyA9IHVzZXJJbnB1dEFyci5tYXAoaW5wdXQgPT5cbiAgICAgICAgICAgICAgICBwYXJzZUlucHV0KGlucHV0LnRyaW0oKSkpO1xuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGlzTXVsdGlSZXN1bHQ6IHRydWUsXG4gICAgICAgICAgICAgICAgdXNlcklucHV0LFxuICAgICAgICAgICAgICAgIHBhcnNlZFJlc3VsdHNcbiAgICAgICAgICAgIH1cbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VJbnB1dCh1c2VySW5wdXQpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuZXhwb3J0IGRlZmF1bHQgcGFyc2U7XG4iLCJjb25zdCBNT1ZFX0tFWSA9IFtcIkFycm93TGVmdFwiLCBcIkFycm93UmlnaHRcIiwgXCJBcnJvd1VwXCIsIFwiQXJyb3dEb3duXCJdO1xuY29uc3QgSU5QVVRfQ09ORiA9IHtcbiAgICBtYXhsZW46IDUwLFxuICAgIHRoZW1lOiB7XG4gICAgICAgIGNvbG9yOiAnIzAwMCcsXG4gICAgICAgIGJhY2tncm91bmQ6ICcjZmZmJyxcbiAgICB9XG59O1xuY29uc3QgS0VZUyA9IHtcbiAgICBhOiAnYScsXG4gICAgZW50ZXI6ICdFbnRlcidcbn07XG4vLyB0b2RvOiDpg6jliIbluLjph48gdGVybWluYWwg5Lmf5Lya55So5Yiw77yM5Y+v5Lul5o+Q5Y+W5oiQ5YWs55So55qEXG5jb25zdCBCQVNFX0NTUyA9IHtcbiAgICBmb250RmFtaWx5OiAnXCJTRk1vbm8tUmVndWxhclwiLCBDb25zb2xhcywgXCJMaWJlcmF0aW9uIE1vbm9cIiwgTWVubG8sIENvdXJpZXIsIG1vbm9zcGFjZScsXG4gICAgZm9udFNpemU6ICcxMnB4JyxcbiAgICBjdXJzb3I6ICh7Y3Vyc29yQ29sb3I9JyMwMDAnLCBibGlua1NwZWVkPScxcyd9KSA9PiBgXG4gICAgICAgIEBrZXlmcmFtZXMgY3Vyc29yLWJsaW5rIHtcbiAgICAgICAgICBmcm9tIHtcbiAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAke2N1cnNvckNvbG9yfTtcbiAgICAgICAgICAgICBjb2xvcjogI2ZmZjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB0byB7XG4gICAgICAgICAgICAgYmFja2dyb3VuZDogbm9uZTtcbiAgICAgICAgICAgICBjb2xvcjogIzAwMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5oaWdobGlnaHQge1xuICAgICAgICAgICAgY29sb3I6ICNmZmY7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kOiAjMDAwO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAuYmxpbms6bm90KC5kaXNhYmxlZCkge1xuICAgICAgICAgIGFuaW1hdGlvbi1kdXJhdGlvbjogJHtibGlua1NwZWVkfTtcbiAgICAgICAgICBhbmltYXRpb24tbmFtZTogY3Vyc29yLWJsaW5rO1xuICAgICAgICAgIGFuaW1hdGlvbi1pdGVyYXRpb24tY291bnQ6IGluZmluaXRlXG4gICAgICAgIH1cbiAgICBgXG59O1xuXG5leHBvcnQge1xuICAgIE1PVkVfS0VZLCBLRVlTLCBCQVNFX0NTU1xufVxuIiwiaW1wb3J0IHtTdWJqZWN0fSBmcm9tICdyeGpzJ1xuaW1wb3J0IHtwcm9taXNlT25lQnlPbmUsIG5vd30gZnJvbSBcIkB6aG91amlhaGFvL3V0aWxzXCI7XG5cbmxldCBleGVjUmVzdWx0JCA9IG5ldyBTdWJqZWN0KCk7XG5cbmNvbnN0IGVycm9yID0gKGlucHV0KSA9PiAoZSkgPT4ge1xuICAgIGV4ZWNSZXN1bHQkLm5leHQoe1xuICAgICAgICBpbnB1dCxcbiAgICAgICAgb3V0cHV0OiBlXG4gICAgfSlcbn07XG5cbmNvbnN0IHByaW50ID0gKGlucHV0KSA9PiAob3V0cHV0LCB3aXRoVGltZXN0YW1wKSA9PiB7XG4gICAgZXhlY1Jlc3VsdCQubmV4dCh7XG4gICAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICAgIHByaW50OiB0cnVlLFxuICAgICAgICBpbnB1dCxcbiAgICAgICAgb3V0cHV0OiB3aXRoVGltZXN0YW1wID8gbm93KCkgKyAnICcgKyBvdXRwdXQgOiBvdXRwdXQsXG4gICAgfSlcbn07XG5cblxuXG5jb25zdCBoYW5kbGVNdWx0aVJlc3VsdCA9ICh7cGFyc2VkUmVzdWx0LCBjbWRTZXQsICR0ZXJtaW5hbH0pID0+IHtcbiAgICBjb25zdCBpbnB1dCA9IHBhcnNlZFJlc3VsdC51c2VySW5wdXQ7XG4gICAgY29uc3QgZ2VuRXhlY0Z1bmMgPSAocGFyc2VkUmVzdWx0KSA9PiBhc3luYyAocHJldlJlc3VsdCkgPT4ge1xuICAgICAgICBpZihwYXJzZWRSZXN1bHQuZXJyb3JJbmZvKSB7XG4gICAgICAgICAgICB0aHJvdyBwYXJzZWRSZXN1bHQuZXJyb3JJbmZvO1xuICAgICAgICB9XG4gICAgICAgIGxldCBoYW5kbGVyID0gcGFyc2VkUmVzdWx0LmNvbW1hbmQuaGFuZGxlciB8fCBwYXJzZWRSZXN1bHQuY29tbWFuZDtcbiAgICAgICAgcGFyc2VkUmVzdWx0LmZyb21QaXBlID0gcHJldlJlc3VsdDtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXIocGFyc2VkUmVzdWx0LnBhcmFtc09iaiwgY21kU2V0LCAkdGVybWluYWwsIHBhcnNlZFJlc3VsdClcbiAgICB9O1xuXG4gICAgZXhlY1Jlc3VsdCQubmV4dCh7XG4gICAgICAgIGlucHV0LFxuICAgICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgICBvdXRwdXQ6IFwiXCJcbiAgICB9KTtcbiAgICBwcm9taXNlT25lQnlPbmUocGFyc2VkUmVzdWx0LnBhcnNlZFJlc3VsdHMubWFwKGdlbkV4ZWNGdW5jKSlcbiAgICAgICAgLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgIGV4ZWNSZXN1bHQkLm5leHQoe1xuICAgICAgICAgICAgICAgIG91dHB1dDogcmVzdWx0LFxuICAgICAgICAgICAgICAgIGlucHV0XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyb3IoaW5wdXQpKVxufTtcblxuY29uc3QgaGFuZGxlUmVzdWx0ID0gKHtwYXJzZWRSZXN1bHQsIGNtZFNldCwgJHRlcm1pbmFsfSkgPT4ge1xuICAgIGlmICghcGFyc2VkUmVzdWx0KSB7XG4gICAgICAgIGV4ZWNSZXN1bHQkLm5leHQobnVsbCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocGFyc2VkUmVzdWx0LmlzTXVsdGlSZXN1bHQpIHtcbiAgICAgICAgaGFuZGxlTXVsdGlSZXN1bHQoe3BhcnNlZFJlc3VsdCwgY21kU2V0LCAkdGVybWluYWx9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBpbnB1dCA9IHBhcnNlZFJlc3VsdC51c2VySW5wdXQ7XG4gICAgaWYgKHBhcnNlZFJlc3VsdC5lcnJvckluZm8pIHtcbiAgICAgICAgZXhlY1Jlc3VsdCQubmV4dCh7XG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIG91dHB1dDogcGFyc2VkUmVzdWx0LmVycm9ySW5mb1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBoYW5kbGVyID0gcGFyc2VkUmVzdWx0LmNvbW1hbmQuaGFuZGxlciB8fCBwYXJzZWRSZXN1bHQuY29tbWFuZDtcbiAgICBsZXQgZXhlY1Jlc3VsdCA9IFwiXCI7XG4gICAgdHJ5IHtcbiAgICAgICAgZXhlY1Jlc3VsdCA9IGhhbmRsZXIoXG4gICAgICAgICAgcGFyc2VkUmVzdWx0LnBhcmFtc09iaiwgLy8gMVxuICAgICAgICAgIGNtZFNldCwgLy8gMlxuICAgICAgICAgICR0ZXJtaW5hbCwgLy8gM1xuICAgICAgICAgIHBhcnNlZFJlc3VsdCwgLy8gNFxuICAgICAgICAgIHByaW50KGlucHV0KSwgLy8gNVxuICAgICAgICApO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZXJyb3IoaW5wdXQpKGUpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBleGVjUmVzdWx0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGV4ZWNSZXN1bHQkLm5leHQoe1xuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBvdXRwdXQ6IGV4ZWNSZXN1bHRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBleGVjUmVzdWx0JC5uZXh0KHtcbiAgICAgICAgaW5wdXQsXG4gICAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICAgIG91dHB1dDogXCJcIlxuICAgIH0pO1xuXG4gICAgUHJvbWlzZS5yZXNvbHZlKGV4ZWNSZXN1bHQpXG4gICAgICAgIC50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICBleGVjUmVzdWx0JC5uZXh0KHtcbiAgICAgICAgICAgICAgICBvdXRwdXQ6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICBpbnB1dFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVycm9yKGlucHV0KSlcbn07XG5cbmxldCBleGUgPSB7XG4gICAgaW46IGhhbmRsZVJlc3VsdCxcbiAgICBvdXQkOiBleGVjUmVzdWx0JFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZXhlO1xuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHNjYW4oYWNjdW11bGF0b3IsIHNlZWQpIHtcbiAgICB2YXIgaGFzU2VlZCA9IGZhbHNlO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgaGFzU2VlZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBzY2FuT3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBTY2FuT3BlcmF0b3IoYWNjdW11bGF0b3IsIHNlZWQsIGhhc1NlZWQpKTtcbiAgICB9O1xufVxudmFyIFNjYW5PcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY2FuT3BlcmF0b3IoYWNjdW11bGF0b3IsIHNlZWQsIGhhc1NlZWQpIHtcbiAgICAgICAgaWYgKGhhc1NlZWQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgaGFzU2VlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWNjdW11bGF0b3IgPSBhY2N1bXVsYXRvcjtcbiAgICAgICAgdGhpcy5zZWVkID0gc2VlZDtcbiAgICAgICAgdGhpcy5oYXNTZWVkID0gaGFzU2VlZDtcbiAgICB9XG4gICAgU2Nhbk9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgU2NhblN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5hY2N1bXVsYXRvciwgdGhpcy5zZWVkLCB0aGlzLmhhc1NlZWQpKTtcbiAgICB9O1xuICAgIHJldHVybiBTY2FuT3BlcmF0b3I7XG59KCkpO1xudmFyIFNjYW5TdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNjYW5TdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNjYW5TdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBhY2N1bXVsYXRvciwgX3NlZWQsIGhhc1NlZWQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFjY3VtdWxhdG9yID0gYWNjdW11bGF0b3I7XG4gICAgICAgIF90aGlzLl9zZWVkID0gX3NlZWQ7XG4gICAgICAgIF90aGlzLmhhc1NlZWQgPSBoYXNTZWVkO1xuICAgICAgICBfdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNjYW5TdWJzY3JpYmVyLnByb3RvdHlwZSwgXCJzZWVkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2VlZDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuaGFzU2VlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9zZWVkID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFNjYW5TdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzU2VlZCkge1xuICAgICAgICAgICAgdGhpcy5zZWVkID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyeU5leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTY2FuU3Vic2NyaWJlci5wcm90b3R5cGUuX3RyeU5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCsrO1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5hY2N1bXVsYXRvcih0aGlzLnNlZWQsIHZhbHVlLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VlZCA9IHJlc3VsdDtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHJlc3VsdCk7XG4gICAgfTtcbiAgICByZXR1cm4gU2NhblN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjYW4uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9PdXRlclN1YnNjcmliZXIsX3V0aWxfc3Vic2NyaWJlVG9SZXN1bHQgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE91dGVyU3Vic2NyaWJlciB9IGZyb20gJy4uL091dGVyU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb1Jlc3VsdCB9IGZyb20gJy4uL3V0aWwvc3Vic2NyaWJlVG9SZXN1bHQnO1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhMYXRlc3RGcm9tKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICB2YXIgcHJvamVjdDtcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHByb2plY3QgPSBhcmdzLnBvcCgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvYnNlcnZhYmxlcyA9IGFyZ3M7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgV2l0aExhdGVzdEZyb21PcGVyYXRvcihvYnNlcnZhYmxlcywgcHJvamVjdCkpO1xuICAgIH07XG59XG52YXIgV2l0aExhdGVzdEZyb21PcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBXaXRoTGF0ZXN0RnJvbU9wZXJhdG9yKG9ic2VydmFibGVzLCBwcm9qZWN0KSB7XG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZXMgPSBvYnNlcnZhYmxlcztcbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICB9XG4gICAgV2l0aExhdGVzdEZyb21PcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFdpdGhMYXRlc3RGcm9tU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLm9ic2VydmFibGVzLCB0aGlzLnByb2plY3QpKTtcbiAgICB9O1xuICAgIHJldHVybiBXaXRoTGF0ZXN0RnJvbU9wZXJhdG9yO1xufSgpKTtcbnZhciBXaXRoTGF0ZXN0RnJvbVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoV2l0aExhdGVzdEZyb21TdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFdpdGhMYXRlc3RGcm9tU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgb2JzZXJ2YWJsZXMsIHByb2plY3QpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm9ic2VydmFibGVzID0gb2JzZXJ2YWJsZXM7XG4gICAgICAgIF90aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICBfdGhpcy50b1Jlc3BvbmQgPSBbXTtcbiAgICAgICAgdmFyIGxlbiA9IG9ic2VydmFibGVzLmxlbmd0aDtcbiAgICAgICAgX3RoaXMudmFsdWVzID0gbmV3IEFycmF5KGxlbik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIF90aGlzLnRvUmVzcG9uZC5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlID0gb2JzZXJ2YWJsZXNbaV07XG4gICAgICAgICAgICBfdGhpcy5hZGQoc3Vic2NyaWJlVG9SZXN1bHQoX3RoaXMsIG9ic2VydmFibGUsIG9ic2VydmFibGUsIGkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFdpdGhMYXRlc3RGcm9tU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChvdXRlclZhbHVlLCBpbm5lclZhbHVlLCBvdXRlckluZGV4LCBpbm5lckluZGV4LCBpbm5lclN1Yikge1xuICAgICAgICB0aGlzLnZhbHVlc1tvdXRlckluZGV4XSA9IGlubmVyVmFsdWU7XG4gICAgICAgIHZhciB0b1Jlc3BvbmQgPSB0aGlzLnRvUmVzcG9uZDtcbiAgICAgICAgaWYgKHRvUmVzcG9uZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgZm91bmQgPSB0b1Jlc3BvbmQuaW5kZXhPZihvdXRlckluZGV4KTtcbiAgICAgICAgICAgIGlmIChmb3VuZCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0b1Jlc3BvbmQuc3BsaWNlKGZvdW5kLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgV2l0aExhdGVzdEZyb21TdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIFdpdGhMYXRlc3RGcm9tU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMudG9SZXNwb25kLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbdmFsdWVdLmNvbmNhdCh0aGlzLnZhbHVlcyk7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9qZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJ5UHJvamVjdChhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgV2l0aExhdGVzdEZyb21TdWJzY3JpYmVyLnByb3RvdHlwZS5fdHJ5UHJvamVjdCA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnByb2plY3QuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChyZXN1bHQpO1xuICAgIH07XG4gICAgcmV0dXJuIFdpdGhMYXRlc3RGcm9tU3Vic2NyaWJlcjtcbn0oT3V0ZXJTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD13aXRoTGF0ZXN0RnJvbS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YmplY3QsX3V0aWxfT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuL1N1YmplY3QnO1xuaW1wb3J0IHsgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgfSBmcm9tICcuL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xudmFyIEJlaGF2aW9yU3ViamVjdCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhCZWhhdmlvclN1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQmVoYXZpb3JTdWJqZWN0KF92YWx1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fdmFsdWUgPSBfdmFsdWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJlaGF2aW9yU3ViamVjdC5wcm90b3R5cGUsIFwidmFsdWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEJlaGF2aW9yU3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBfc3VwZXIucHJvdG90eXBlLl9zdWJzY3JpYmUuY2FsbCh0aGlzLCBzdWJzY3JpYmVyKTtcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbiAmJiAhc3Vic2NyaXB0aW9uLmNsb3NlZCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHRoaXMuX3ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgQmVoYXZpb3JTdWJqZWN0LnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IHRoaXMudGhyb3duRXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCZWhhdmlvclN1YmplY3QucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcywgdGhpcy5fdmFsdWUgPSB2YWx1ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gQmVoYXZpb3JTdWJqZWN0O1xufShTdWJqZWN0KSk7XG5leHBvcnQgeyBCZWhhdmlvclN1YmplY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJlaGF2aW9yU3ViamVjdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX3V0aWxfaXNTY2hlZHVsZXIsX3V0aWxfaXNBcnJheSxfT3V0ZXJTdWJzY3JpYmVyLF91dGlsX3N1YnNjcmliZVRvUmVzdWx0LF9mcm9tQXJyYXkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IE91dGVyU3Vic2NyaWJlciB9IGZyb20gJy4uL091dGVyU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb1Jlc3VsdCB9IGZyb20gJy4uL3V0aWwvc3Vic2NyaWJlVG9SZXN1bHQnO1xuaW1wb3J0IHsgZnJvbUFycmF5IH0gZnJvbSAnLi9mcm9tQXJyYXknO1xudmFyIE5PTkUgPSB7fTtcbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0KCkge1xuICAgIHZhciBvYnNlcnZhYmxlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG9ic2VydmFibGVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciByZXN1bHRTZWxlY3RvciA9IG51bGw7XG4gICAgdmFyIHNjaGVkdWxlciA9IG51bGw7XG4gICAgaWYgKGlzU2NoZWR1bGVyKG9ic2VydmFibGVzW29ic2VydmFibGVzLmxlbmd0aCAtIDFdKSkge1xuICAgICAgICBzY2hlZHVsZXIgPSBvYnNlcnZhYmxlcy5wb3AoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYnNlcnZhYmxlc1tvYnNlcnZhYmxlcy5sZW5ndGggLSAxXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXN1bHRTZWxlY3RvciA9IG9ic2VydmFibGVzLnBvcCgpO1xuICAgIH1cbiAgICBpZiAob2JzZXJ2YWJsZXMubGVuZ3RoID09PSAxICYmIGlzQXJyYXkob2JzZXJ2YWJsZXNbMF0pKSB7XG4gICAgICAgIG9ic2VydmFibGVzID0gb2JzZXJ2YWJsZXNbMF07XG4gICAgfVxuICAgIHJldHVybiBmcm9tQXJyYXkob2JzZXJ2YWJsZXMsIHNjaGVkdWxlcikubGlmdChuZXcgQ29tYmluZUxhdGVzdE9wZXJhdG9yKHJlc3VsdFNlbGVjdG9yKSk7XG59XG52YXIgQ29tYmluZUxhdGVzdE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbWJpbmVMYXRlc3RPcGVyYXRvcihyZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLnJlc3VsdFNlbGVjdG9yID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgfVxuICAgIENvbWJpbmVMYXRlc3RPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMucmVzdWx0U2VsZWN0b3IpKTtcbiAgICB9O1xuICAgIHJldHVybiBDb21iaW5lTGF0ZXN0T3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgQ29tYmluZUxhdGVzdE9wZXJhdG9yIH07XG52YXIgQ29tYmluZUxhdGVzdFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQ29tYmluZUxhdGVzdFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29tYmluZUxhdGVzdFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5yZXN1bHRTZWxlY3RvciA9IHJlc3VsdFNlbGVjdG9yO1xuICAgICAgICBfdGhpcy5hY3RpdmUgPSAwO1xuICAgICAgICBfdGhpcy52YWx1ZXMgPSBbXTtcbiAgICAgICAgX3RoaXMub2JzZXJ2YWJsZXMgPSBbXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAob2JzZXJ2YWJsZSkge1xuICAgICAgICB0aGlzLnZhbHVlcy5wdXNoKE5PTkUpO1xuICAgICAgICB0aGlzLm9ic2VydmFibGVzLnB1c2gob2JzZXJ2YWJsZSk7XG4gICAgfTtcbiAgICBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZXMgPSB0aGlzLm9ic2VydmFibGVzO1xuICAgICAgICB2YXIgbGVuID0gb2JzZXJ2YWJsZXMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGxlbjtcbiAgICAgICAgICAgIHRoaXMudG9SZXNwb25kID0gbGVuO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlID0gb2JzZXJ2YWJsZXNbaV07XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQoc3Vic2NyaWJlVG9SZXN1bHQodGhpcywgb2JzZXJ2YWJsZSwgb2JzZXJ2YWJsZSwgaSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAodW51c2VkKSB7XG4gICAgICAgIGlmICgodGhpcy5hY3RpdmUgLT0gMSkgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29tYmluZUxhdGVzdFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAob3V0ZXJWYWx1ZSwgaW5uZXJWYWx1ZSwgb3V0ZXJJbmRleCwgaW5uZXJJbmRleCwgaW5uZXJTdWIpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IHRoaXMudmFsdWVzO1xuICAgICAgICB2YXIgb2xkVmFsID0gdmFsdWVzW291dGVySW5kZXhdO1xuICAgICAgICB2YXIgdG9SZXNwb25kID0gIXRoaXMudG9SZXNwb25kXG4gICAgICAgICAgICA/IDBcbiAgICAgICAgICAgIDogb2xkVmFsID09PSBOT05FID8gLS10aGlzLnRvUmVzcG9uZCA6IHRoaXMudG9SZXNwb25kO1xuICAgICAgICB2YWx1ZXNbb3V0ZXJJbmRleF0gPSBpbm5lclZhbHVlO1xuICAgICAgICBpZiAodG9SZXNwb25kID09PSAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyeVJlc3VsdFNlbGVjdG9yKHZhbHVlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWVzLnNsaWNlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlci5wcm90b3R5cGUuX3RyeVJlc3VsdFNlbGVjdG9yID0gZnVuY3Rpb24gKHZhbHVlcykge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5yZXN1bHRTZWxlY3Rvci5hcHBseSh0aGlzLCB2YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQocmVzdWx0KTtcbiAgICB9O1xuICAgIHJldHVybiBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlcjtcbn0oT3V0ZXJTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tYmluZUxhdGVzdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX21hcCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuL21hcCc7XG5leHBvcnQgZnVuY3Rpb24gcGx1Y2soKSB7XG4gICAgdmFyIHByb3BlcnRpZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBwcm9wZXJ0aWVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBsZW5ndGggPSBwcm9wZXJ0aWVzLmxlbmd0aDtcbiAgICBpZiAobGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbGlzdCBvZiBwcm9wZXJ0aWVzIGNhbm5vdCBiZSBlbXB0eS4nKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIG1hcChwbHVja2VyKHByb3BlcnRpZXMsIGxlbmd0aCkpKHNvdXJjZSk7IH07XG59XG5mdW5jdGlvbiBwbHVja2VyKHByb3BzLCBsZW5ndGgpIHtcbiAgICB2YXIgbWFwcGVyID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRQcm9wID0geDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHAgPSBjdXJyZW50UHJvcFtwcm9wc1tpXV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHAgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFByb3AgPSBwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VycmVudFByb3A7XG4gICAgfTtcbiAgICByZXR1cm4gbWFwcGVyO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGx1Y2suanMubWFwXG4iLCJpbXBvcnQgeyBpbmplY3RDU1MgfSBmcm9tIFwiQHpob3VqaWFoYW8vdXRpbHNcIjtcbmltcG9ydCB7QkFTRV9DU1N9IGZyb20gXCIuL2NvbnN0YW50XCI7XG5cbmNvbnN0IGNyZWF0ZUlucHV0ID0gKCkgPT4ge1xuICAgIGxldCAkUmVhbElucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcblxuICAgICRSZWFsSW5wdXQuc3R5bGUuaGVpZ2h0ID0gJzIwcHgnO1xuICAgICRSZWFsSW5wdXQuc3R5bGUucG9zaXRpb24gPSAnZml4ZWQnO1xuICAgICRSZWFsSW5wdXQuc3R5bGUuekluZGV4PSAnLTEnO1xuICAgICRSZWFsSW5wdXQuc3R5bGUub3V0bGluZSA9ICdub25lJztcbiAgICAkUmVhbElucHV0LnN0eWxlLmJvcmRlcj0gJ25vbmUnO1xuICAgICRSZWFsSW5wdXQuc3R5bGUudG9wID0gJzAnO1xuICAgICRSZWFsSW5wdXQuc3R5bGUubGVmdD0gJzAnO1xuICAgICRSZWFsSW5wdXQuc3R5bGUub3BhY2l0eSA9ICcwJztcbiAgICBpZihzY3JlZW4ud2lkdGggPCA1MDApIHtcbiAgICAgICAgJFJlYWxJbnB1dC5zdHlsZS50cmFuc2Zvcm0gPSAnc2NhbGUoMCknO1xuICAgIH1cbiAgICAkUmVhbElucHV0LnN0eWxlLmNvbG9yPSAndHJhbnNwYXJlbnQnO1xuICAgICRSZWFsSW5wdXQuc2V0QXR0cmlidXRlKFwiYXV0b2NvbXBsZXRlXCIsIFwib2ZmXCIpO1xuXG4gICAgJFJlYWxJbnB1dC5vbmJsdXI9ZnVuY3Rpb24gKCkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICRSZWFsSW5wdXQuZm9jdXMoKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiAkUmVhbElucHV0O1xufTtcblxuY29uc3QgdXBkYXRlUG9zID0gKCR3cmFwcGVyLCAkaW5wdXQpID0+IHtcbiAgICBjb25zdCB7bGVmdCwgdG9wfSA9ICR3cmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICRpbnB1dC5zdHlsZS5sZWZ0ID0gYCR7bGVmdH1weGA7XG4gICAgJGlucHV0LnN0eWxlLnRvcCA9IGAke3RvcH1weGA7XG59O1xuXG5jb25zdCByZW5kZXJQc2V1ZG9JbnB1dCA9ICgkd3JhcHBlciwgJGlucHV0KSA9PiB7XG4gICAgdXBkYXRlUG9zKCR3cmFwcGVyLCAkaW5wdXQpO1xuICAgIHJldHVybiBmdW5jdGlvbihpbnB1dFN0YXRlKSB7XG4gICAgICAgIHVwZGF0ZVBvcygkd3JhcHBlciwgJGlucHV0KTtcbiAgICAgICAgY29uc3QgY2hhclRwbCA9IChjaGFyLCAuLi5jbGFzc05hbWUpID0+XG4gICAgICAgICAgICBgPHNwYW4gY2xhc3M9XCIke2NsYXNzTmFtZS5qb2luKCcgJyl9XCI+JHtjaGFyfTwvc3Bhbj5gO1xuXG4gICAgICAgIGxldCBoYXNTZWxlY3Rpb24gPSBpbnB1dFN0YXRlLnN0YXJ0ICE9PSBpbnB1dFN0YXRlLmVuZCxcbiAgICAgICAgICAgIGlzRW1wdHkgPSBpbnB1dFN0YXRlLmlucHV0U3RyID09PSBcIlwiO1xuICAgICAgICBjb25zdCBkZXRlcm1pbmVDbGFzc05hbWUgPSAoY2hhcklkeCkgPT4ge1xuICAgICAgICAgICAgaWYoaXNFbXB0eSkgcmV0dXJuICdibGluayc7XG4gICAgICAgICAgICBpZiggaGFzU2VsZWN0aW9uICYmXG4gICAgICAgICAgICAgICAgY2hhcklkeCA+PSBpbnB1dFN0YXRlLnN0YXJ0ICYmXG4gICAgICAgICAgICAgICAgY2hhcklkeCA8PSBpbnB1dFN0YXRlLmVuZFxuICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICdoaWdobGlnaHQnO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gY2hhcklkeCA9PT0gaW5wdXRTdGF0ZS5zdGFydCA/ICdibGluaycgOiAnJ1xuICAgICAgICB9O1xuXG4gICAgICAgIGxldCBpbnB1dENoYXJBcnIgPSBpbnB1dFN0YXRlLmlucHV0U3RyLnNwbGl0KCcnKTtcbiAgICAgICAgbGV0IHRvUmVuZGVyID0gaW5wdXRDaGFyQXJyLm1hcChjaCA9PiBjaCA9PT0gJyAnID8gJyZuYnNwOycgOiBjaCk7XG4gICAgICAgIGlmKCFoYXNTZWxlY3Rpb24gfHwgaXNFbXB0eSl7XG4gICAgICAgICAgICB0b1JlbmRlci5wdXNoKFwiJm5ic3A7XCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdG9kbzog5bqU6K+l5Y+q5riy5p+T5pyJ5Y+Y5Yqo55qEIGRvbVxuICAgICAgICAkd3JhcHBlci5pbm5lckhUTUwgPSB0b1JlbmRlci5tYXAoXG4gICAgICAgICAgICAoY2gsIGlkeCkgPT4gY2hhclRwbChjaCwgZGV0ZXJtaW5lQ2xhc3NOYW1lKGlkeCkpXG4gICAgICAgICkuam9pbignJyk7XG4gICAgfVxufTtcblxuY29uc3QgaW5pdCA9ICgkd3JhcHBlciwgJGlucHV0LCB0aGVtZT17fSkgPT4ge1xuICAgIGluamVjdENTUyhCQVNFX0NTUy5jdXJzb3IodGhlbWUpKTtcbiAgICAkd3JhcHBlci5zdHlsZS5mb250RmFtaWx5ID0gQkFTRV9DU1MuZm9udEZhbWlseTtcbiAgICAkd3JhcHBlci5zdHlsZS5mb250U2l6ZSA9IEJBU0VfQ1NTLmZvbnRTaXplO1xuICAgICR3cmFwcGVyLnN0eWxlLndvcmRCcmVhayA9ICdicmVhay1hbGwnO1xuICAgIHJlbmRlclBzZXVkb0lucHV0KCR3cmFwcGVyLCAkaW5wdXQpKHtcbiAgICAgICAgaW5wdXRTdHI6IFwiXCIsXG4gICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICBlbmQ6IDBcbiAgICB9KTtcbn07XG5cblxuZXhwb3J0IHtpbml0LCBjcmVhdGVJbnB1dCwgcmVuZGVyUHNldWRvSW5wdXQsIHVwZGF0ZVBvc30iLCJpbXBvcnQge1xuICAgIGZyb21FdmVudCxcbiAgICBtZXJnZSxcbiAgICBjb21iaW5lTGF0ZXN0LFxuICAgIEJlaGF2aW9yU3ViamVjdFxufSBmcm9tICdyeGpzJ1xuXG5pbXBvcnQge1xuICAgIG1hcCxcbiAgICBwbHVjayxcbiAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCxcbiAgICB3aXRoTGF0ZXN0RnJvbSxcbiAgICBmaWx0ZXIsXG59IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuaW1wb3J0IHtcbiAgICBNT1ZFX0tFWSxcbiAgICBLRVlTXG59IGZyb20gXCIuL2NvbnN0YW50XCI7XG5cbmltcG9ydCB7dHJpZ2dlcn0gZnJvbSBcIkB6aG91amlhaGFvL3V0aWxzXCI7XG5cbmltcG9ydCB7XG4gICAgaW5pdCxcbiAgICBjcmVhdGVJbnB1dCxcbiAgICByZW5kZXJQc2V1ZG9JbnB1dFxufSBmcm9tICcuL2lucHV0LmpzJ1xuaW1wb3J0IHt1cGRhdGVQb3N9IGZyb20gXCIuL2lucHV0XCI7XG5cbi8qKlxuICogQHBhcmFtICRpbnB1dFdyYXBwZXJcbiAqIEBwYXJhbSB7b2JqZWN0fSB0aGVtZVxuICogQHBhcmFtIHtzdHJpbmd9IHRoZW1lLmN1cnNvckNvbG9yXG4gKiBAcmV0dXJucyB7e2VudGVyJDogT2JzZXJ2YWJsZTxzdHJpbmc+LCBpbnB1dCQ6IE9ic2VydmFibGU8YW55PiwgZGlzYWJsZWQsIHZhbHVlLCB0YXJnZXQ6ICp9fVxuICovXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoJGlucHV0V3JhcHBlciwgdGhlbWU9e30pIHtcbiAgICBpZighJGlucHV0V3JhcHBlcikge1xuICAgICAgICB0aHJvdyAnSW5wdXQgd3JhcHBlciBlbGVtZW50IG1pc3NpbmcuJ1xuICAgIH1cbiAgICAvLyB1aVxuICAgIGxldCAkaW5wdXQgPSBjcmVhdGVJbnB1dCgpO1xuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoJGlucHV0KTtcbiAgICAkaW5wdXQuZm9jdXMoKTtcblxuICAgIGluaXQoJGlucHV0V3JhcHBlciwgJGlucHV0LCB0aGVtZSk7XG5cbiAgICAvLyBzdHJlYW1cbiAgICBsZXQgaW5wdXQkID0gZnJvbUV2ZW50KCRpbnB1dCwgJ2lucHV0JyksXG4gICAgICAgIHNlbGVjdCQgPSBmcm9tRXZlbnQoJGlucHV0LCAnc2VsZWN0JyksXG4gICAgICAgIGtleXVwJCA9IGZyb21FdmVudCgkaW5wdXQsICdrZXl1cCcpO1xuXG4gICAgbGV0IGlucHV0U3RyJCA9IG5ldyBCZWhhdmlvclN1YmplY3QoXCJcIik7XG5cbiAgICBpbnB1dCQucGlwZShcbiAgICAgICAgcGx1Y2soJ3RhcmdldCcsICd2YWx1ZScpXG4gICAgKS5zdWJzY3JpYmUoc3RyID0+IGlucHV0U3RyJC5uZXh0KHN0cikpO1xuXG4gICAgbGV0IG1vdmVDdXJzb3IkID0ga2V5dXAkLnBpcGUoXG4gICAgICAgICAgICBmaWx0ZXIoZXZ0ID0+IE1PVkVfS0VZLmluY2x1ZGVzKGV2dC5rZXkpKSxcbiAgICAgICAgKTtcblxuICAgIGxldCBlbnRlciQgPSBrZXl1cCQucGlwZShcbiAgICAgICAgICAgIGZpbHRlcihldnQgPT4gZXZ0LmtleSA9PT0gS0VZUy5lbnRlciksXG4gICAgICAgICAgICBmaWx0ZXIoKHt0YXJnZXR9KSA9PiAhdGFyZ2V0LmRpc2FibGVkKSxcbiAgICAgICAgICAgIHdpdGhMYXRlc3RGcm9tKGlucHV0U3RyJCksXG4gICAgICAgICAgICBtYXAoKFtldnQsIGlucHV0U3RyXSkgPT4gaW5wdXRTdHIpLFxuICAgICAgICAgICAgZmlsdGVyKHN0ciA9PiAhIXN0cilcbiAgICAgICAgKTtcblxuICAgIGxldCBjdXJzb3JQb3NDaGFuZ2UkID0gbWVyZ2UoaW5wdXQkLCBtb3ZlQ3Vyc29yJCwgc2VsZWN0JCksXG4gICAgICAgIGN1cnNvclBvcyQgPSBjdXJzb3JQb3NDaGFuZ2UkLnBpcGUoXG4gICAgICAgICAgICBtYXAoZXZ0ID0+ICh7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IGV2dC50YXJnZXQuc2VsZWN0aW9uU3RhcnQsXG4gICAgICAgICAgICAgICAgZW5kOiBldnQudGFyZ2V0LnNlbGVjdGlvbkVuZFxuICAgICAgICAgICAgfSkpXG4gICAgICAgICk7XG5cbiAgICBsZXQgaW5wdXRTdGF0ZSQgPSBjb21iaW5lTGF0ZXN0KGlucHV0U3RyJCwgY3Vyc29yUG9zJCkucGlwZShcbiAgICAgICAgICAgIG1hcCgoW2lucHV0U3RyLCBwb3NdKSA9PiAoe2lucHV0U3RyLCAuLi5wb3N9KSksXG4gICAgICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgocHJldlN0YXRlLCBuZXh0U3RhdGUpID0+XG4gICAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkocHJldlN0YXRlKSA9PT0gSlNPTi5zdHJpbmdpZnkobmV4dFN0YXRlKSlcbiAgICAgICAgKTtcblxuICAgIC8vIHJlbmRlclxuICAgIGNvbnN0IHJlbmRlciA9IHJlbmRlclBzZXVkb0lucHV0KCRpbnB1dFdyYXBwZXIsICRpbnB1dCk7XG4gICAgaW5wdXRTdGF0ZSQuc3Vic2NyaWJlKHJlbmRlcik7XG5cbiAgICAvLyBhcGlcbiAgICByZXR1cm4ge1xuICAgICAgICBlbnRlciQsXG4gICAgICAgIGlucHV0JCxcbiAgICAgICAgZ2V0IHRhcmdldCgpIHtcbiAgICAgICAgICAgIHJldHVybiAkaW5wdXQ7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCB2YWx1ZSh2YWwpIHtcbiAgICAgICAgICAgICRpbnB1dC52YWx1ZSA9IHZhbDtcbiAgICAgICAgICAgIGlucHV0U3RyJC5uZXh0KHZhbCk7XG4gICAgICAgICAgICBpZiAodmFsID09PSAnJykge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVBvcygkaW5wdXRXcmFwcGVyLCAkaW5wdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHJpZ2dlcigkaW5wdXQsIE1PVkVfS0VZWzBdKVxuICAgICAgICB9LFxuICAgICAgICBzZXQgZGlzYWJsZWQoZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIGxldCAkY3Vyc29yID0gJGlucHV0V3JhcHBlci5xdWVyeVNlbGVjdG9yKCcuYmxpbmsnKTtcbiAgICAgICAgICAgIGlmKGRpc2FibGVkKXtcbiAgICAgICAgICAgICAgICAkaW5wdXQuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsIHRydWUpO1xuICAgICAgICAgICAgICAgICRjdXJzb3IuY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcblxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgJGN1cnNvci5jbGFzc0xpc3QucmVtb3ZlKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgICRpbnB1dC5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgICAgICAgICAgICAgJGlucHV0LmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuIiwiaW1wb3J0IHtcbiAgICBCQVNFX0NTUyxcbn0gZnJvbSBcIi4uL3BzZXVkb0lucHV0L2NvbnN0YW50XCI7XG5cbmltcG9ydCB7REVGQVVMVF9TVFlMRX0gZnJvbSBcIi4vY29uc3RhbnRcIjtcblxuaW1wb3J0IHtcbiAgICBpbmplY3RDU1MsXG4gICAgZ2V0TGFzdEVsZSxcbiAgICBtYWtlVGV4dFNwaW5uZXJcbn0gZnJvbSBcIkB6aG91amlhaGFvL3V0aWxzXCI7XG5pbXBvcnQgSW5wdXQgZnJvbSAnLi4vcHNldWRvSW5wdXQvJ1xuXG5jb25zdCBzcGlubmVyID0gbWFrZVRleHRTcGlubmVyKCk7XG5cbmNvbnN0IHRlcm1pbmFsVHBsID0gKCkgPT4ge1xuICAgIHJldHVybiBgXG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8ZGl2IGlkPVwiaGlzdC1zZXNzXCI+PC9kaXY+IFxuICAgICAgICAgICAgPGRpdiBpZD1cImN1cnItc2Vzc1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzZXNzaW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwcm9tcHRcIj4kPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjbWRcIiBpZD1cImlucHV0XCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PiBcbiAgICAgICAgPC9kaXY+YFxufTtcblxuY29uc3Qgc2Vzc2lvblRwbCA9ICh7aW5wdXQsIG91dHB1dCwgc2hvdWxkSGlkZUlucHV0LCBwcmludH0pID0+IHtcbiAgICBsZXQgcmVzdWx0LCBpc1JpY2hUZXh0O1xuXG4gICAgaWYodHlwZW9mIG91dHB1dCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXN1bHQgPSBvdXRwdXQ7XG4gICAgfSBlbHNlIGlmKHR5cGVvZiBvdXRwdXQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSBvdXRwdXQuaHRtbCB8fCBKU09OLnN0cmluZ2lmeShvdXRwdXQpO1xuICAgICAgICAgICAgaWYob3V0cHV0Lmh0bWwpIHtcbiAgICAgICAgICAgICAgICBpc1JpY2hUZXh0ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaXNSaWNoVGV4dCA9IGZhbHNlO1xuICAgICAgICAgICAgcmVzdWx0ID0gJ0VSUk9SOiDkuI3mlK/mjIHnmoTmmL7npLrnsbvlnosnXG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYob3V0cHV0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVzdWx0ICA9IFwiXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gJ0VSUk9SOiDkuI3mlK/mjIHnmoTmmL7npLrnsbvlnosnXG4gICAgfVxuXG4gICAgaWYgKG91dHB1dCBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGNvbnN0IHttZXNzYWdlLCBzdGFja30gPSBvdXRwdXQ7XG4gICAgICAgIHJlc3VsdCA9IGAke21lc3NhZ2V9XFxuXFxuJHtzdGFja31gXG4gICAgfVxuXG4gICAgbGV0IHJlc3VsdFN0ciA9IGlzUmljaFRleHRcbiAgICAgICAgPyByZXN1bHRcbiAgICAgICAgOiBgPHByZSBzdHlsZT1cIiR7cHJpbnQgPyAnbWFyZ2luOiAwJyA6ICcnfVwiPiR7cmVzdWx0IHx8ICcnfTwvcHJlPmA7XG5cbiAgICBjb25zdCBpbnB1dFN0ciA9IGBcbiAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dFwiPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwicHJvbXB0XCI+JDwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImNtZFwiPlxuICAgICAgICAgICAgJHtpbnB1dCB8fCAnJ31cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cbiAgICBgO1xuXG4gICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwic2Vzc2lvblwiPlxuICAgICAgICAgICAgJHtzaG91bGRIaWRlSW5wdXQgPyAnJyA6IGlucHV0U3RyfVxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm91dHB1dFwiPlxuICAgICAgICAgICAgICAgICR7cmVzdWx0U3RyfVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PmBcbn07XG5cbmNvbnN0IHJlbmRlclRlcm1pbmFsID0gKHNlc3Npb25EYXRhKSA9PiB7XG4gICAgbGV0ICRoaXN0U2Vzc2lvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNoaXN0LXNlc3MnKSxcbiAgICAgICAgJGN1cnJlbnRTZXNzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2N1cnItc2VzcycpLFxuICAgICAgICAkY3VycmVudFNlc3NQcm9tcHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjY3Vyci1zZXNzIC5pbnB1dCAucHJvbXB0Jyk7XG5cbiAgICBsZXQgbGFzdFNlc3NEYXRhID0gZ2V0TGFzdEVsZShzZXNzaW9uRGF0YSksXG4gICAgICAgIGlzTG9hZGluZyA9IGxhc3RTZXNzRGF0YSAmJiBsYXN0U2Vzc0RhdGEubG9hZGluZztcblxuICAgIGNvbnN0IHNob3VsZEhpZGVJbnB1dCA9IChpZHgsIGN1cnJlbnREYXRhKSA9PiB7XG4gICAgICAgIGNvbnN0IHByZXZTZXNzRGF0YSA9IHNlc3Npb25EYXRhW2lkeCAtIDFdO1xuICAgICAgICByZXR1cm4gcHJldlNlc3NEYXRhXG4gICAgICAgICAgICAmJiBwcmV2U2Vzc0RhdGEucHJpbnRcbiAgICAgICAgICAgICYmIHByZXZTZXNzRGF0YS5pbnB1dCA9PT0gY3VycmVudERhdGEuaW5wdXRcbiAgICB9O1xuXG4gICAgY29uc3QgdG1wQ3Vyc29yID0gaXNMb2FkaW5nID8gYDxzcGFuIGNsYXNzPVwiYmxpbmtcIj4mbmJzcDs8L3NwYW4+YCA6ICcnO1xuICAgIGlmKHNlc3Npb25EYXRhLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgJGhpc3RTZXNzaW9uLmlubmVySFRNTCA9IFwiXCI7XG4gICAgfWVsc2V7XG4gICAgICAgICRoaXN0U2Vzc2lvbi5pbm5lckhUTUwgPSBzZXNzaW9uRGF0YS5tYXAoKGRhdGEsIGlkeCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHNlc3Npb25UcGwoeyAuLi5kYXRhLCBzaG91bGRIaWRlSW5wdXQ6IHNob3VsZEhpZGVJbnB1dChpZHgsIGRhdGEpfSk7XG4gICAgICAgIH0pLmpvaW4oJycpICsgdG1wQ3Vyc29yO1xuICAgICAgICAvLyBsZXQgJG91dHB1dCA9ICRoaXN0U2Vzc2lvbi5xdWVyeVNlbGVjdG9yKCcjaGlzdC1zZXNzIC5zZXNzaW9uOmxhc3QtY2hpbGQgPiAub3V0cHV0Jyk7XG4gICAgICAgIGlmKGlzTG9hZGluZykge1xuICAgICAgICAgICAgLy8gc3Bpbm5lcih0cnVlLCAkb3V0cHV0KTtcbiAgICAgICAgICAgICRjdXJyZW50U2Vzcy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICB9ZWxzZSB7XG4gICAgICAgICAgICBzcGlubmVyKGZhbHNlKTtcbiAgICAgICAgICAgICRjdXJyZW50U2Vzcy5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJztcbiAgICAgICAgfVxuICAgIH1cblxufTtcblxuY29uc3QgaW5pdCA9ICgkd3JhcHBlciwgdGhlbWU9e30pID0+IHtcbiAgICBpbmplY3RDU1MoREVGQVVMVF9TVFlMRSk7XG4gICAgJHdyYXBwZXIuaW5uZXJIVE1MID0gdGVybWluYWxUcGwoKTtcbiAgICBjb25zdCAkdGVybWluYWwgPSAkd3JhcHBlci5maXJzdEVsZW1lbnRDaGlsZDtcbiAgICBjb25zdCAkaW5wdXRGb3JUZXJtaW5hbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbnB1dCcpO1xuICAgIGNvbnN0IGlucHV0ID0gSW5wdXQoJGlucHV0Rm9yVGVybWluYWwsIHRoZW1lKTtcbiAgICBjb25zdCBpbnB1dEhlaWdodCA9IDE0O1xuICAgICR0ZXJtaW5hbC5zdHlsZS5oZWlnaHQgPSAnY2FsYygxMDAlIC0gMTBweCknO1xuICAgICR0ZXJtaW5hbC5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJztcbiAgICAkdGVybWluYWwuc3R5bGUuZm9udEZhbWlseSA9IEJBU0VfQ1NTLmZvbnRGYW1pbHk7XG4gICAgJHRlcm1pbmFsLnN0eWxlLmJhY2tncm91bmQgPSB0aGVtZS5iYWNrZ3JvdW5kIHx8ICd1bnNldCc7XG4gICAgJHRlcm1pbmFsLnN0eWxlLmNvbG9yID0gdGhlbWUuY29sb3IgfHwgJyMwMDAnO1xuICAgICR0ZXJtaW5hbC5zdHlsZS5mb250U2l6ZSA9IEJBU0VfQ1NTLmZvbnRTaXplO1xuICAgICR0ZXJtaW5hbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICBjb25zdCB7dG9wOiBpbnB1dFl9ID0gaW5wdXQudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBpZiAoIGV2ZW50LmNsaWVudFkgPiBpbnB1dFlcbiAgICAgICAgICAgIHx8IE1hdGguYWJzKGV2ZW50LmNsaWVudFkgLSBpbnB1dFkpIDwgaW5wdXRIZWlnaHRcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBpbnB1dC50YXJnZXQuZm9jdXMoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAgY2FwdHVyZTogZmFsc2VcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgICAkdGVybWluYWwsXG4gICAgICAgIGlucHV0XG4gICAgfTtcbn07XG5cbmV4cG9ydCB7cmVuZGVyVGVybWluYWwsIGluaXR9XG4iLCJpbXBvcnQge2NvbXBsZXRpb25XaXRofSBmcm9tIFwiQHpob3VqaWFoYW8vdXRpbHNcIlxuXG5sZXQgSElTVCA9IFtdO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGhpc3QgPSBbXSwgY21kLCBpbnB1dCkge1xuICAgIHN3aXRjaCAoY21kKSB7XG4gICAgICAgIGNhc2UgJ2NsZWFyJzpcbiAgICAgICAgICAgIEhJU1QgPSBbLi4uSElTVCwgLi4uaGlzdCwge2lucHV0OiAnY2xlYXInLCBvdXRwdXQ6ICcnfV07XG4gICAgICAgICAgICByZXR1cm4gW107XG4gICAgICAgIGNhc2UgJ2hpc3RvcnknOlxuICAgICAgICAgICAgbGV0IGFsbEhpc3QgPSBbLi4uSElTVCwgLi4uaGlzdF07XG4gICAgICAgICAgICBsZXQgaGlzdFN0ciA9IGFsbEhpc3QubWFwKChjb21tYW5kLCBpZHgpID0+e1xuICAgICAgICAgICAgICAgIGxldCBudW0gPSBjb21wbGV0aW9uV2l0aCgnICcpKGlkeCArIDEsIGFsbEhpc3QubGVuZ3RoICsgMSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bSArICcuICcgKyBjb21tYW5kLmlucHV0O1xuICAgICAgICAgICAgfSkuam9pbihcIlxcblwiKTtcblxuICAgICAgICAgICAgaGlzdC5wdXNoKHtcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBvdXRwdXQ6IGhpc3RTdHJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIGhpc3Q7XG4gICAgICAgIGRlZmF1bHQ6IHJldHVybiBoaXN0O1xuICAgIH1cbn0iLCJpbXBvcnQgcGFyc2VXaXRoIGZyb20gXCIuL3BhcnNlclwiO1xuaW1wb3J0IHtLRVlTfSBmcm9tIFwiLi4vcHNldWRvSW5wdXQvY29uc3RhbnRcIjtcbmltcG9ydCB7Z2V0TGFzdEVsZSwgcHJvbWlzZU9uZUJ5T25lLCB0cmlnZ2VyLCBzY3JvbGxUb0JvdHRvbSwgaHVtYW5pemVySW5wdXR9IGZyb20gXCJAemhvdWppYWhhby91dGlsc1wiO1xuaW1wb3J0IHtcbiAgICBCVUlMVF9JTl9DTURTLFxufSBmcm9tIFwiLi9jb25zdGFudFwiO1xuaW1wb3J0IHtcbiAgICBTdWJqZWN0LFxuICAgIG9mLFxuICAgIG1lcmdlLFxufSBmcm9tICdyeGpzJ1xuaW1wb3J0IGV4ZSBmcm9tIFwiLi9leGVcIjtcbmltcG9ydCB7XG4gICAgbWFwLFxuICAgIHNjYW4sXG4gICAgZmlsdGVyLFxuICAgIHdpdGhMYXRlc3RGcm9tXG59IGZyb20gJ3J4anMvb3BlcmF0b3JzJ1xuaW1wb3J0IHtcbiAgICByZW5kZXJUZXJtaW5hbCxcbiAgICBpbml0LFxufSBmcm9tIFwiLi90ZXJtaW5hbFwiO1xuaW1wb3J0IGhpc3RJbnRlcmNlcHRvciBmcm9tICcuL2hpc3RJbnRlcmNlcHRvcidcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcHNldWRvVGVybWluYWwoJHRlcm1pbmFsV3JhcHBlciwgdGhlbWU9e30pIHtcbiAgICBpZiAoISR0ZXJtaW5hbFdyYXBwZXIpIHtcbiAgICAgICAgdGhyb3cgJ3dyYXBwZXIgZWxlbWVudCBub3QgZm91bmQnXG4gICAgfVxuICAgIGNvbnN0IHskdGVybWluYWwsIGlucHV0fSA9IGluaXQoJHRlcm1pbmFsV3JhcHBlciwgdGhlbWUpO1xuICAgIGxldCB1c2VyQ21kcyQgPSBuZXcgU3ViamVjdCgpO1xuICAgIGxldCBzeXNDbWRzJCA9IG9mKEJVSUxUX0lOX0NNRFMpO1xuICAgIGxldCBjbWRTZXQkID0gbWVyZ2UodXNlckNtZHMkLCBzeXNDbWRzJCkucGlwZShcbiAgICAgICAgc2NhbigobmV3Q21kLCBvbGRDbWQpID0+ICh7XG4gICAgICAgICAgICAuLi5vbGRDbWQsXG4gICAgICAgICAgICAuLi5uZXdDbWQsXG4gICAgICAgIH0pLCB7fSksXG4gICAgICAgIG1hcCgoY21kKSA9PiAoe1xuICAgICAgICAgICAgLi4uY21kLFxuICAgICAgICAgICAgLi4uQlVJTFRfSU5fQ01EU1xuICAgICAgICB9KSlcbiAgICApO1xuXG4gICAgY29uc3QgZW50U3ViID0gaW5wdXQuZW50ZXIkLnBpcGUoXG4gICAgICAgIHdpdGhMYXRlc3RGcm9tKGNtZFNldCQpLFxuICAgICAgICBtYXAoKFtpbnB1dCwgY21kU2V0XSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBwYXJzZWRSZXN1bHQ6IHBhcnNlV2l0aChjbWRTZXQpKGlucHV0KSxcbiAgICAgICAgICAgICAgICBjbWRTZXQsXG4gICAgICAgICAgICAgICAgJHRlcm1pbmFsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICBtYXAoZXhlLmluKVxuICAgICkuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgaW5wdXQudGFyZ2V0LmJsdXIoKTtcbiAgICB9KTtcblxuICAgIGxldCBzZXNzaW9uRGF0YSQgPSBleGUub3V0JC5waXBlKFxuICAgICAgICBmaWx0ZXIoeCA9PiB4KSxcbiAgICAgICAgc2NhbigoaGlzdCwgcmVzdWx0KSA9PiB7XG4gICAgICAgICAgICBsZXQgaXNTcGVjaWFsQ21kID0gY21kID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgaXNTcGVjaWFsID0gT2JqZWN0LmtleXMoQlVJTFRfSU5fQ01EUykuaW5jbHVkZXMoY21kKTtcblxuICAgICAgICAgICAgICAgIGlmICghaXNTcGVjaWFsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldCBoYW5kbGVyID0gQlVJTFRfSU5fQ01EU1tjbWRdLmhhbmRsZXIgfHwgQlVJTFRfSU5fQ01EU1tjbWRdO1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGlzU3BlY2lhbCA9IGhhbmRsZXIoKSA9PT0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGlzU3BlY2lhbDtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGxldCBjbWQgPSByZXN1bHRcbiAgICAgICAgICAgICAgICA/IHJlc3VsdC5pbnB1dC50cmltKCkuc3BsaXQoL1xccysvKVswXVxuICAgICAgICAgICAgICAgIDogJyc7XG5cbiAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgaXNTcGVjaWFsQ21kKGNtZCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGlzdEludGVyY2VwdG9yKGhpc3QgJiYgaGlzdC5zbGljZSgpLCBjbWQsIHJlc3VsdC5pbnB1dClcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgbGV0IGxhc3RSZXN1bHQgPSBoaXN0LnNsaWNlKCkucG9wKCk7XG4gICAgICAgICAgICBpZiAobGFzdFJlc3VsdCAmJiBsYXN0UmVzdWx0LmxvYWRpbmcgJiYgIWxhc3RSZXN1bHQucHJpbnQpIHtcbiAgICAgICAgICAgICAgICBoaXN0LnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGlzdC5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgICByZXR1cm4gaGlzdFxuICAgICAgICB9LCBbXSlcbiAgICApO1xuXG4gICAgY29uc3Qgc2Vzc1N1YiA9IHNlc3Npb25EYXRhJC5zdWJzY3JpYmUoKGRhdGEpID0+IHtcbiAgICAgICAgbGV0IGxhc3REYXRhID0gZ2V0TGFzdEVsZShkYXRhKTtcbiAgICAgICAgcmVuZGVyVGVybWluYWwoZGF0YSk7XG4gICAgICAgIHNjcm9sbFRvQm90dG9tKCR0ZXJtaW5hbCk7XG5cbiAgICAgICAgaW5wdXQuZGlzYWJsZWQgPSBsYXN0RGF0YSAmJiBsYXN0RGF0YS5sb2FkaW5nO1xuICAgICAgICBpbnB1dC52YWx1ZSA9IFwiXCI7XG4gICAgfSk7XG5cbiAgICBpbnB1dC5pbnB1dCQuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgc2Nyb2xsVG9Cb3R0b20oJHRlcm1pbmFsKVxuICAgIH0pO1xuXG4gICAgY29uc3QgaHVtYW5pemVyRXhlYyA9IGFzeW5jIChjbWRTdHIpID0+IHtcbiAgICAgICAgc2Nyb2xsVG9Cb3R0b20oJHRlcm1pbmFsKTtcbiAgICAgICAgYXdhaXQgaHVtYW5pemVySW5wdXQoY21kU3RyLCB2ID0+IGlucHV0LnZhbHVlID0gdiwgNTApO1xuICAgICAgICAvLyBoYWNrLlxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgZXhlLm91dCQucGlwZShcbiAgICAgICAgICAgICAgICBmaWx0ZXIoeCA9PiB4KSxcbiAgICAgICAgICAgICAgICBmaWx0ZXIoKHtsb2FkaW5nfSkgPT4gbG9hZGluZyAhPT0gdHJ1ZSlcbiAgICAgICAgICAgICkuc3Vic2NyaWJlKCh7aW5wdXR9KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYoaW5wdXQgPT09IGNtZFN0cikge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRyaWdnZXIoaW5wdXQudGFyZ2V0LCBLRVlTLmVudGVyKTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHNldCBkaXNhYmxlZCh2YWwpIHtcbiAgICAgICAgICAgIGlucHV0LmRpc2FibGVkID0gdmFsO1xuICAgICAgICB9LFxuICAgICAgICBzZXQgY29tbWFuZHMoY21kU2V0KSB7XG4gICAgICAgICAgICB1c2VyQ21kcyQubmV4dChjbWRTZXQpO1xuICAgICAgICB9LFxuICAgICAgICBzZXQgY3VycmVudElucHV0KHZhbHVlKSB7XG4gICAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB9LFxuICAgICAgICBkZXN0cm95KCkge1xuICAgICAgICAgICAgc2Vzc1N1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgZW50U3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICAkdGVybWluYWwucmVtb3ZlKCk7XG4gICAgICAgICAgICBpbnB1dC50YXJnZXQucmVtb3ZlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGFkZENvbW1hbmRzKGNtZFNldCkge1xuICAgICAgICAgICAgdXNlckNtZHMkLm5leHQoY21kU2V0KTtcbiAgICAgICAgfSxcbiAgICAgICAgaW5wdXQodmFsdWUsIGVuYWJsZUh1bWFuaXplcklucHV0RWZmZWN0KSB7XG4gICAgICAgICAgICBpZiAoZW5hYmxlSHVtYW5pemVySW5wdXRFZmZlY3QpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaHVtYW5pemVySW5wdXQodmFsdWUsIChjdXJyZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0LnZhbHVlID0gY3VycmVudDtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBodW1hbml6ZXJFeGVjLFxuICAgICAgICBodW1hbml6ZXJFeGVjQ21kQXJyOiAoY21kQXJyKSA9PiB7XG4gICAgICAgICAgICBsZXQgZXhlY0Z1bkFyciA9IGNtZEFyci5tYXAoY21kID0+ICgpID0+IGh1bWFuaXplckV4ZWMoY21kKSk7XG4gICAgICAgICAgICByZXR1cm4gcHJvbWlzZU9uZUJ5T25lKGV4ZWNGdW5BcnIpO1xuICAgICAgICB9LFxuICAgICAgICBleGVjOiAoY21kKSA9PiB7XG4gICAgICAgICAgICBpbnB1dC52YWx1ZSA9IGNtZDtcbiAgICAgICAgICAgIHRyaWdnZXIoaW5wdXQudGFyZ2V0LCBLRVlTLmVudGVyKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX3V0aWxfaXNTY2hlZHVsZXIsX2Zyb21BcnJheSxfc2NoZWR1bGVkX3NjaGVkdWxlQXJyYXkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0IHsgaXNTY2hlZHVsZXIgfSBmcm9tICcuLi91dGlsL2lzU2NoZWR1bGVyJztcbmltcG9ydCB7IGZyb21BcnJheSB9IGZyb20gJy4vZnJvbUFycmF5JztcbmltcG9ydCB7IHNjaGVkdWxlQXJyYXkgfSBmcm9tICcuLi9zY2hlZHVsZWQvc2NoZWR1bGVBcnJheSc7XG5leHBvcnQgZnVuY3Rpb24gb2YoKSB7XG4gICAgdmFyIGFyZ3MgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBzY2hlZHVsZXIgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gICAgaWYgKGlzU2NoZWR1bGVyKHNjaGVkdWxlcikpIHtcbiAgICAgICAgYXJncy5wb3AoKTtcbiAgICAgICAgcmV0dXJuIHNjaGVkdWxlQXJyYXkoYXJncywgc2NoZWR1bGVyKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBmcm9tQXJyYXkoYXJncyk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b2YuanMubWFwXG4iXSwic291cmNlUm9vdCI6IiJ9