(this.webpackJsonp=this.webpackJsonp||[]).push([[10],{Rf5Z:function(t,n,e){"use strict";e.r(n);var r=e("8RZD");function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var i={clear:function(){return""},history:function(){return""},echo:function(t,n,e,r){return r.fromPipe||r.restParams},man:{handler:function(t,n,e,i){var u=i.restParams;if(!n)return!1;if(!u)return Object(r.b)(n.man.doc);if(u&&n[u.trim()]){var a=n[u.trim()];return"object"===o(a)&&Object(r.b)(a.doc)||"没有帮助信息"}},doc:"\n            NAME\n                man -- display command's manual info.\n                \n            SYNOPSIS\n                man [ command name ]"},help:function(t,n){if(!n)return!1;var e;return"Available commands: \n"+Object.keys(n).sort().map((e="- ",function(t){return e+t})).join("\n")}},u="\n    .session > .input {line-height: 1.2}\n    ::-webkit-scrollbar {\n        width: 2pt\n    }\n    \n    ::-webkit-scrollbar:horizontal {\n        height: 0\n    }\n\n    ::-webkit-scrollbar-button {\n        display: none\n    }\n\n    ::-webkit-scrollbar-thumb {\n        background: #d0d0d0\n    }\n",a=(Symbol(),Symbol(),function(t,n){n||(n={});var e={bools:{},strings:{},unknownFn:null};"function"==typeof n.unknown&&(e.unknownFn=n.unknown),"boolean"==typeof n.boolean&&n.boolean?e.allBools=!0:[].concat(n.boolean).filter(Boolean).forEach((function(t){e.bools[t]=!0}));var r={};Object.keys(n.alias||{}).forEach((function(t){r[t]=[].concat(n.alias[t]),r[t].forEach((function(n){r[n]=[t].concat(r[t].filter((function(t){return n!==t})))}))})),[].concat(n.string).filter(Boolean).forEach((function(t){e.strings[t]=!0,r[t]&&(e.strings[r[t]]=!0)}));var o=n.default||{},i={_:[]};Object.keys(e.bools).forEach((function(t){a(t,void 0!==o[t]&&o[t])}));var u=[];function a(t,n,o){if(!o||!e.unknownFn||function(t,n){return e.allBools&&/^--[^=]+$/.test(n)||e.strings[t]||e.bools[t]||r[t]}(t,o)||!1!==e.unknownFn(o)){var u=!e.strings[t]&&c(n)?Number(n):n;s(i,t.split("."),u),(r[t]||[]).forEach((function(t){s(i,t.split("."),u)}))}}function s(t,n,r){var o=t;n.slice(0,-1).forEach((function(t){void 0===o[t]&&(o[t]={}),o=o[t]}));var i=n[n.length-1];void 0===o[i]||e.bools[i]||"boolean"==typeof o[i]?o[i]=r:Array.isArray(o[i])?o[i].push(r):o[i]=[o[i],r]}function l(t){return r[t].some((function(t){return e.bools[t]}))}-1!==t.indexOf("--")&&(u=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var f=0;f<t.length;f++){var p=t[f];if(/^--.+=/.test(p)){var b=p.match(/^--([^=]+)=([\s\S]*)$/),d=b[1],h=b[2];e.bools[d]&&(h="false"!==h),a(d,h,p)}else if(/^--no-.+/.test(p)){a(p.match(/^--no-(.+)/)[1],!1,p)}else if(/^--.+/.test(p)){var v=p.match(/^--(.+)/)[1],y=t[f+1];void 0===y||/^-/.test(y)||e.bools[v]||e.allBools||r[v]&&l(v)?/^(true|false)$/.test(y)?(a(v,"true"===y,p),f++):a(v,!e.strings[v]||"",p):(a(v,y,p),f++)}else if(/^-[^-]+/.test(p)){for(var m=p.slice(1,-1).split(""),g=!1,O=0;O<m.length;O++){var j=p.slice(O+2);if("-"!==j){if(/[A-Za-z]/.test(m[O])&&/=/.test(j)){a(m[O],j.split("=")[1],p),g=!0;break}if(/[A-Za-z]/.test(m[O])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(j)){a(m[O],j,p),g=!0;break}if(m[O+1]&&m[O+1].match(/\W/)){a(m[O],p.slice(O+2),p),g=!0;break}a(m[O],!e.strings[m[O]]||"",p)}else a(m[O],j,p)}var w=p.slice(-1)[0];g||"-"===w||(!t[f+1]||/^(-|--)[^-]/.test(t[f+1])||e.bools[w]||r[w]&&l(w)?t[f+1]&&/true|false/.test(t[f+1])?(a(w,"true"===t[f+1],p),f++):a(w,!e.strings[w]||"",p):(a(w,t[f+1],p),f++))}else if(e.unknownFn&&!1===e.unknownFn(p)||i._.push(e.strings._||!c(p)?p:Number(p)),n.stopEarly){i._.push.apply(i._,t.slice(f+1));break}}return Object.keys(o).forEach((function(t){var n,e,u;n=i,e=t.split("."),u=n,e.slice(0,-1).forEach((function(t){u=u[t]||{}})),e[e.length-1]in u||(s(i,t.split("."),o[t]),(r[t]||[]).forEach((function(n){s(i,n.split("."),o[t])})))})),n["--"]?(i["--"]=new Array,u.forEach((function(t){i["--"].push(t)}))):u.forEach((function(t){i._.push(t)})),i});function c(t){return"number"==typeof t||(!!/^0x[0-9a-f]+$/i.test(t)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t))}var s=function(t){var n=function(n){if(!n.trim())return{userInput:n,errorInfo:"空命令"};var e=n.trim().split(/\s+/),r=e[0];if(!r)return{userInput:n,errorInfo:"空命令"};var o=Object.keys(t),i=n.replace(r,"").trim();if(!o.includes(r))return{restParams:i,userInput:n,errorInfo:"".concat(r," 不是合法命令")};var u=t[r],c=e.slice(1),s={};try{s=a(c)}catch(t){return{restParams:i,userInput:n,errorInfo:t}}return{restParams:i,userInput:n,errorInfo:null,command:u,paramsObj:s}};return function(t){if(t.includes("|")){var e=t.split("|");return e.length<2?n(e[0]):{isMultiResult:!0,userInput:t,parsedResults:e.map((function(t){return n(t.trim())}))}}return n(t)}},l=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"],f="Enter",p='"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace',b="12px",d=function(t){var n=t.cursorColor,e=void 0===n?"#000":n,r=t.blinkSpeed,o=void 0===r?"1s":r;return"\n        @keyframes cursor-blink {\n          from {\n             background: ".concat(e,";\n             color: #fff;\n          }\n\n          to {\n             background: none;\n             color: #000;\n          }\n        }\n        \n        .highlight {\n            color: #fff;\n            background: #000;\n        }\n        \n        .blink:not(.disabled) {\n          animation-duration: ").concat(o,";\n          animation-name: cursor-blink;\n          animation-iteration-count: infinite\n        }\n    ")},h=e("K9Ia"),v=e("nkY7"),y=e("IUTb"),m=e("JF+6");function g(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=t[t.length-1];return Object(v.a)(e)?(t.pop(),Object(m.a)(t,e)):Object(y.a)(t)}var O=e("p0ib");function j(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}var w=new h.a,S=function(t){return function(n){w.next({input:t,output:n})}},x=function(t){var n=t.parsedResult,e=t.cmdSet,o=t.$terminal,i=n.userInput;w.next({input:i,loading:!0,output:""}),Object(r.s)(n.parsedResults.map((function(t){return function(){var n,r=(n=regeneratorRuntime.mark((function n(r){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.errorInfo){n.next=2;break}throw t.errorInfo;case 2:return i=t.command.handler||t.command,t.fromPipe=r,n.abrupt("return",i(t.paramsObj,e,o,t));case 5:case"end":return n.stop()}}),n)})),function(){var t=this,e=arguments;return new Promise((function(r,o){var i=n.apply(t,e);function u(t){j(i,r,o,u,a,"next",t)}function a(t){j(i,r,o,u,a,"throw",t)}u(void 0)}))});return function(t){return r.apply(this,arguments)}}()}))).then((function(t){w.next({output:t,input:i})})).catch(S(i))},k={in:function(t){var n=t.parsedResult,e=t.cmdSet,o=t.$terminal;if(n)if(n.isMultiResult)x({parsedResult:n,cmdSet:e,$terminal:o});else{var i=n.userInput;if(n.errorInfo)w.next({input:i,output:n.errorInfo});else{var u=n.command.handler||n.command,a="";try{a=u(n.paramsObj,e,o,n,function(t){return function(n,e){w.next({loading:!0,print:!0,input:t,output:e?Object(r.r)()+" "+n:n})}}(i))}catch(t){return void S(i)(t)}"string"!=typeof a?(w.next({input:i,loading:!0,output:""}),Promise.resolve(a).then((function(t){w.next({output:t,input:i})})).catch(S(i))):w.next({input:i,output:a})}}else w.next(null)},out$:w},P=e("mrSG"),A=e("FFOo");function E(t,n){var e=!1;return arguments.length>=2&&(e=!0),function(r){return r.lift(new I(t,n,e))}}var I=function(){function t(t,n,e){void 0===e&&(e=!1),this.accumulator=t,this.seed=n,this.hasSeed=e}return t.prototype.call=function(t,n){return n.subscribe(new R(t,this.accumulator,this.seed,this.hasSeed))},t}(),R=function(t){function n(n,e,r,o){var i=t.call(this,n)||this;return i.accumulator=e,i._seed=r,i.hasSeed=o,i.index=0,i}return P.a(n,t),Object.defineProperty(n.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),n.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},n.prototype._tryNext=function(t){var n,e=this.index++;try{n=this.accumulator(this.seed,t,e)}catch(t){this.destination.error(t)}this.seed=n,this.destination.next(n)},n}(A.a),_=e("67Y/"),$=e("MGBS"),D=e("zotm");function M(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(n){var e;"function"==typeof t[t.length-1]&&(e=t.pop());var r=t;return n.lift(new C(r,e))}}var C=function(){function t(t,n){this.observables=t,this.project=n}return t.prototype.call=function(t,n){return n.subscribe(new F(t,this.observables,this.project))},t}(),F=function(t){function n(n,e,r){var o=t.call(this,n)||this;o.observables=e,o.project=r,o.toRespond=[];var i=e.length;o.values=new Array(i);for(var u=0;u<i;u++)o.toRespond.push(u);for(u=0;u<i;u++){var a=e[u];o.add(Object(D.a)(o,a,a,u))}return o}return P.a(n,t),n.prototype.notifyNext=function(t,n,e,r,o){this.values[e]=n;var i=this.toRespond;if(i.length>0){var u=i.indexOf(e);-1!==u&&i.splice(u,1)}},n.prototype.notifyComplete=function(){},n.prototype._next=function(t){if(0===this.toRespond.length){var n=[t].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},n.prototype._tryProject=function(t){var n;try{n=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(n)},n}($.a),N=e("VnD/"),z=e("bne5"),B=e("8g8A"),L=function(t){function n(n){var e=t.call(this)||this;return e._value=n,e}return P.a(n,t),Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),n.prototype._subscribe=function(n){var e=t.prototype._subscribe.call(this,n);return e&&!e.closed&&n.next(this._value),e},n.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new B.a;return this._value},n.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},n}(h.a),T=e("isby"),H={};function J(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=null,r=null;return Object(v.a)(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(T.a)(t[0])&&(t=t[0]),Object(y.a)(t,r).lift(new q(e))}var q=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,n){return n.subscribe(new U(t,this.resultSelector))},t}(),U=function(t){function n(n,e){var r=t.call(this,n)||this;return r.resultSelector=e,r.active=0,r.values=[],r.observables=[],r}return P.a(n,t),n.prototype._next=function(t){this.values.push(H),this.observables.push(t)},n.prototype._complete=function(){var t=this.observables,n=t.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(var e=0;e<n;e++){var r=t[e];this.add(Object(D.a)(this,r,r,e))}}},n.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},n.prototype.notifyNext=function(t,n,e,r,o){var i=this.values,u=i[e],a=this.toRespond?u===H?--this.toRespond:this.toRespond:0;i[e]=n,0===a&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},n.prototype._tryResultSelector=function(t){var n;try{n=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(n)},n}($.a);function Y(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var e=t.length;if(0===e)throw new Error("list of properties cannot be empty.");return function(n){return Object(_.a)(Z(t,e))(n)}}function Z(t,n){return function(e){for(var r=e,o=0;o<n;o++){var i=null!=r?r[t[o]]:void 0;if(void 0===i)return;r=i}return r}}var V=e("ad02"),G=function(){var t=document.createElement("input");return t.style.height="20px",t.style.position="fixed",t.style.zIndex="-1",t.style.outline="none",t.style.border="none",t.style.top="0",t.style.left="0",t.style.opacity="0",screen.width<500&&(t.style.transform="scale(0)"),t.style.color="transparent",t.setAttribute("autocomplete","off"),t.onblur=function(){setTimeout((function(){t.focus()}))},t},K=function(t,n){var e=t.getBoundingClientRect(),r=e.left,o=e.top;n.style.left="".concat(r,"px"),n.style.top="".concat(o,"px")},W=function(t,n){return K(t,n),function(e){K(t,n);var r=e.start!==e.end,o=""===e.inputStr,i=e.inputStr.split("").map((function(t){return" "===t?"&nbsp;":t}));r&&!o||i.push("&nbsp;"),t.innerHTML=i.map((function(t,n){return function(t){for(var n=arguments.length,e=new Array(n>1?n-1:0),r=1;r<n;r++)e[r-1]=arguments[r];return'<span class="'.concat(e.join(" "),'">').concat(t,"</span>")}(t,(i=n,o?"blink":r&&i>=e.start&&i<=e.end?"highlight":i===e.start?"blink":""));var i})).join("")}},Q=function(t,n){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(r.l)(d(e)),t.style.fontFamily=p,t.style.fontSize=b,t.style.wordBreak="break-all",W(t,n)({inputStr:"",start:0,end:0})};function X(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function tt(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?X(Object(e),!0).forEach((function(n){nt(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):X(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function nt(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function et(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return e}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return rt(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return rt(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function rt(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var ot=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw"Input wrapper element missing.";var e=G();document.body.appendChild(e),e.focus(),Q(t,e,n);var o=Object(z.a)(e,"input"),i=Object(z.a)(e,"select"),u=Object(z.a)(e,"keyup"),a=new L("");o.pipe(Y("target","value")).subscribe((function(t){return a.next(t)}));var c=u.pipe(Object(N.a)((function(t){return l.includes(t.key)}))),s=u.pipe(Object(N.a)((function(t){return t.key===f})),Object(N.a)((function(t){return!t.target.disabled})),M(a),Object(_.a)((function(t){var n=et(t,2);n[0];return n[1]})),Object(N.a)((function(t){return!!t}))),p=Object(O.a)(o,c,i),b=p.pipe(Object(_.a)((function(t){return{start:t.target.selectionStart,end:t.target.selectionEnd}}))),d=J(a,b).pipe(Object(_.a)((function(t){var n=et(t,2);return tt({inputStr:n[0]},n[1])})),Object(V.a)((function(t,n){return JSON.stringify(t)===JSON.stringify(n)}))),h=W(t,e);return d.subscribe(h),{enter$:s,input$:o,get target(){return e},set value(n){e.value=n,a.next(n),""===n&&K(t,e),Object(r.x)(e,l[0])},set disabled(n){var r=t.querySelector(".blink");n?(e.setAttribute("disabled",!0),r.classList.add("disabled")):(r.classList.remove("disabled"),e.removeAttribute("disabled"),e.focus())}}};function it(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function ut(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?it(Object(e),!0).forEach((function(n){at(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):it(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function at(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function ct(t){return(ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var st=Object(r.p)(),lt=function(t){var n=document.querySelector("#hist-sess"),e=document.querySelector("#curr-sess"),o=(document.querySelector("#curr-sess .input .prompt"),Object(r.i)(t)),i=o&&o.loading,u=function(n,e){var r=t[n-1];return r&&r.print&&r.input===e.input},a=i?'<span class="blink">&nbsp;</span>':"";t.length<1?n.innerHTML="":(n.innerHTML=t.map((function(t,n){return function(t){var n,e,r=t.input,o=t.output,i=t.shouldHideInput,u=t.print;if("string"==typeof o)n=o;else if("object"===ct(o))try{n=o.html||JSON.stringify(o),o.html&&(e=!0)}catch(t){e=!1,n="ERROR: 不支持的显示类型"}else n=void 0===o?"":"ERROR: 不支持的显示类型";if(o instanceof Error){var a=o.message,c=o.stack;n="".concat(a,"\n\n").concat(c)}var s=e?n:'<pre style="'.concat(u?"margin: 0":"",'">').concat(n||"","</pre>"),l='\n      <div class="input">\n          <span class="prompt">$</span>\n          <span class="cmd">\n            '.concat(r||"","\n          </span>\n      </div>\n    ");return'<div class="session">\n            '.concat(i?"":l,'\n            <div class="output">\n                ').concat(s,"\n            </div>\n        </div>")}(ut(ut({},t),{},{shouldHideInput:u(n,t)}))})).join("")+a,i?e.style.display="none":(st(!1),e.style.display="block"))},ft=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(r.l)(u),t.innerHTML='\n        <div>\n            <div id="hist-sess"></div> \n            <div id="curr-sess">\n                <div class="session">\n                    <div class="input">\n                        <span class="prompt">$</span>\n                        <span class="cmd" id="input"></span>\n                    </div>\n                </div>\n            </div> \n        </div>';var e=t.firstElementChild,o=document.querySelector("#input"),i=ot(o,n),a=14;return e.style.height="calc(100% - 10px)",e.style.overflow="auto",e.style.fontFamily=p,e.style.background=n.background||"unset",e.style.color=n.color||"#000",e.style.fontSize=b,e.addEventListener("click",(function(t){var n=i.target.getBoundingClientRect().top;(t.clientY>n||Math.abs(t.clientY-n)<a)&&i.target.focus()}),{capture:!1}),{$terminal:e,input:i}};function pt(t){return function(t){if(Array.isArray(t))return bt(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,n){if(!t)return;if("string"==typeof t)return bt(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return bt(t,n)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function bt(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var dt=[],ht=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,e=arguments.length>2?arguments[2]:void 0;switch(n){case"clear":return dt=[].concat(pt(dt),pt(t),[{input:"clear",output:""}]),[];case"history":var o=[].concat(pt(dt),pt(t)),i=o.map((function(t,n){return Object(r.c)(" ")(n+1,o.length+1)+". "+t.input})).join("\n");return t.push({input:e,output:i}),t;default:return t}};function vt(t,n,e,r,o,i,u){try{var a=t[i](u),c=a.value}catch(t){return void e(t)}a.done?n(c):Promise.resolve(c).then(r,o)}function yt(t){return function(){var n=this,e=arguments;return new Promise((function(r,o){var i=t.apply(n,e);function u(t){vt(i,r,o,u,a,"next",t)}function a(t){vt(i,r,o,u,a,"throw",t)}u(void 0)}))}}function mt(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(t)))return;var e=[],r=!0,o=!1,i=void 0;try{for(var u,a=t[Symbol.iterator]();!(r=(u=a.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){o=!0,i=t}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return e}(t,n)||function(t,n){if(!t)return;if("string"==typeof t)return gt(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return gt(t,n)}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function gt(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function Ot(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,r)}return e}function jt(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?Ot(Object(e),!0).forEach((function(n){wt(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):Ot(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function wt(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function St(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)throw"wrapper element not found";var e=ft(t,n),o=e.$terminal,u=e.input,a=new h.a,c=g(i),l=Object(O.a)(a,c).pipe(E((function(t,n){return jt(jt({},n),t)}),{}),Object(_.a)((function(t){return jt(jt({},t),i)}))),p=u.enter$.pipe(M(l),Object(_.a)((function(t){var n=mt(t,2),e=n[0],r=n[1];return{parsedResult:s(r)(e),cmdSet:r,$terminal:o}})),Object(_.a)(k.in)).subscribe((function(){u.target.blur()})),b=k.out$.pipe(Object(N.a)((function(t){return t})),E((function(t,n){var e=n?n.input.trim().split(/\s+/)[0]:"";if(n&&function(t){var n=Object.keys(i).includes(t);if(!n)return!1;var e=i[t].handler||i[t];try{return n=""===e()}catch(t){return!1}}(e))return ht(t&&t.slice(),e,n.input);var r=t.slice().pop();return r&&r.loading&&!r.print&&t.pop(),t.push(n),t}),[])),d=b.subscribe((function(t){var n=Object(r.i)(t);lt(t),Object(r.v)(o),u.disabled=n&&n.loading,u.value=""}));u.input$.subscribe((function(){Object(r.v)(o)}));var v=function(){var t=yt(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Object(r.v)(o),t.next=3,Object(r.k)(n,(function(t){return u.value=t}),50);case 3:return t.abrupt("return",new Promise((function(t,e){k.out$.pipe(Object(N.a)((function(t){return t})),Object(N.a)((function(t){return!0!==t.loading}))).subscribe((function(e){e.input===n&&t()})),Object(r.x)(u.target,f)})));case 4:case"end":return t.stop()}}),t)})));return function(n){return t.apply(this,arguments)}}();return{set disabled(t){u.disabled=t},set commands(t){a.next(t)},set currentInput(t){u.value=t},destroy:function(){d.unsubscribe(),p.unsubscribe(),o.remove(),u.target.remove()},addCommands:function(t){a.next(t)},input:function(t,n){if(n)return Object(r.k)(t,(function(t){u.value=t}));u.value=t},humanizerExec:v,humanizerExecCmdArr:function(t){var n=t.map((function(t){return function(){return v(t)}}));return Object(r.s)(n)},exec:function(t){u.value=t,Object(r.x)(u.target,f)}}}e.d(n,"default",(function(){return St}))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHpob3VqaWFoYW8vdGVybWluYWwvbGliL3BzZXVkb1Rlcm1pbmFsL2NvbnN0YW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AemhvdWppYWhhby90ZXJtaW5hbC9saWIvcGFyc2VyL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AemhvdWppYWhhby90ZXJtaW5hbC9saWIvcHNldWRvVGVybWluYWwvcGFyc2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AemhvdWppYWhhby90ZXJtaW5hbC9saWIvcHNldWRvSW5wdXQvY29uc3RhbnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvb2JzZXJ2YWJsZS9vZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHpob3VqaWFoYW8vdGVybWluYWwvbGliL3BzZXVkb1Rlcm1pbmFsL2V4ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvc2Nhbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvd2l0aExhdGVzdEZyb20uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3J4anMvX2VzbTUvaW50ZXJuYWwvQmVoYXZpb3JTdWJqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yeGpzL19lc201L2ludGVybmFsL29ic2VydmFibGUvY29tYmluZUxhdGVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcnhqcy9fZXNtNS9pbnRlcm5hbC9vcGVyYXRvcnMvcGx1Y2suanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B6aG91amlhaGFvL3Rlcm1pbmFsL2xpYi9wc2V1ZG9JbnB1dC9pbnB1dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHpob3VqaWFoYW8vdGVybWluYWwvbGliL3BzZXVkb0lucHV0L2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AemhvdWppYWhhby90ZXJtaW5hbC9saWIvcHNldWRvVGVybWluYWwvdGVybWluYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B6aG91amlhaGFvL3Rlcm1pbmFsL2xpYi9wc2V1ZG9UZXJtaW5hbC9oaXN0SW50ZXJjZXB0b3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B6aG91amlhaGFvL3Rlcm1pbmFsL2xpYi9wc2V1ZG9UZXJtaW5hbC9pbmRleC5qcyJdLCJuYW1lcyI6WyJCVUlMVF9JTl9DTURTIiwiY2xlYXIiLCJoaXN0b3J5IiwiZWNobyIsImEiLCJiIiwiYyIsInBhcnNlZFBhcmFtcyIsImZyb21QaXBlIiwicmVzdFBhcmFtcyIsIm1hbiIsImhhbmRsZXIiLCJwYXJhbXMiLCJjbWRTZXQiLCIkdGVybWluYWwiLCJUcmltIiwiZG9jIiwidHJpbSIsImNtZCIsImhlbHAiLCJwcmVmaXgiLCJPYmplY3QiLCJrZXlzIiwic29ydCIsIm1hcCIsInN0ciIsImpvaW4iLCJERUZBVUxUX1NUWUxFIiwiU3ltYm9sIiwiYXJncyIsIm9wdHMiLCJmbGFncyIsImJvb2xzIiwic3RyaW5ncyIsInVua25vd25GbiIsImFsbEJvb2xzIiwiY29uY2F0IiwiZmlsdGVyIiwiQm9vbGVhbiIsImZvckVhY2giLCJrZXkiLCJhbGlhc2VzIiwiYWxpYXMiLCJ4IiwieSIsInN0cmluZyIsImRlZmF1bHRzIiwiYXJndiIsIl8iLCJzZXRBcmciLCJ1bmRlZmluZWQiLCJub3RGbGFncyIsInZhbCIsImFyZyIsInRlc3QiLCJhcmdEZWZpbmVkIiwidmFsdWUiLCJpc051bWJlciIsIk51bWJlciIsInNldEtleSIsInNwbGl0Iiwib2JqIiwibyIsInNsaWNlIiwibGVuZ3RoIiwiQXJyYXkiLCJpc0FycmF5IiwicHVzaCIsImFsaWFzSXNCb29sZWFuIiwic29tZSIsImluZGV4T2YiLCJpIiwibSIsIm1hdGNoIiwibmV4dCIsImxldHRlcnMiLCJicm9rZW4iLCJqIiwic3RvcEVhcmx5IiwiYXBwbHkiLCJwYXJzZSIsInBhcnNlSW5wdXQiLCJ1c2VySW5wdXQiLCJlcnJvckluZm8iLCJpbnB1dEFyciIsImNtZE5hbWUiLCJ2YWxpZENvbW1hbmRzIiwicmVwbGFjZSIsImluY2x1ZGVzIiwidGFyZ2V0Q29tbWFuZCIsInBhcnNlZE9wdHMiLCJnZXRPcHRzIiwiZSIsImNvbW1hbmQiLCJwYXJhbXNPYmoiLCJ1c2VySW5wdXRBcnIiLCJpc011bHRpUmVzdWx0IiwicGFyc2VkUmVzdWx0cyIsImlucHV0IiwiTU9WRV9LRVkiLCJLRVlTIiwiQkFTRV9DU1MiLCJjdXJzb3JDb2xvciIsImJsaW5rU3BlZWQiLCJvZiIsIl9pIiwiYXJndW1lbnRzIiwic2NoZWR1bGVyIiwiaXNTY2hlZHVsZXIiLCJwb3AiLCJzY2hlZHVsZUFycmF5IiwiZnJvbUFycmF5IiwiZXhlY1Jlc3VsdCQiLCJTdWJqZWN0IiwiZXJyb3IiLCJvdXRwdXQiLCJoYW5kbGVNdWx0aVJlc3VsdCIsInBhcnNlZFJlc3VsdCIsImxvYWRpbmciLCJwcm9taXNlT25lQnlPbmUiLCJwcmV2UmVzdWx0IiwidGhlbiIsInJlc3VsdCIsImV4ZSIsImluIiwiZXhlY1Jlc3VsdCIsIndpdGhUaW1lc3RhbXAiLCJwcmludCIsIm5vdyIsIlByb21pc2UiLCJyZXNvbHZlIiwib3V0JCIsInNjYW4iLCJhY2N1bXVsYXRvciIsInNlZWQiLCJoYXNTZWVkIiwic291cmNlIiwibGlmdCIsIlNjYW5PcGVyYXRvciIsInRoaXMiLCJwcm90b3R5cGUiLCJjYWxsIiwic3Vic2NyaWJlciIsInN1YnNjcmliZSIsIl9zdXBlciIsIlNjYW5TdWJzY3JpYmVyIiwiZGVzdGluYXRpb24iLCJfc2VlZCIsIl90aGlzIiwiaW5kZXgiLCJkZWZpbmVQcm9wZXJ0eSIsImdldCIsInNldCIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJfbmV4dCIsIl90cnlOZXh0IiwiZXJyIiwiU3Vic2NyaWJlciIsIndpdGhMYXRlc3RGcm9tIiwicHJvamVjdCIsIm9ic2VydmFibGVzIiwiV2l0aExhdGVzdEZyb21PcGVyYXRvciIsIldpdGhMYXRlc3RGcm9tU3Vic2NyaWJlciIsInRvUmVzcG9uZCIsImxlbiIsInZhbHVlcyIsIm9ic2VydmFibGUiLCJhZGQiLCJzdWJzY3JpYmVUb1Jlc3VsdCIsIm5vdGlmeU5leHQiLCJvdXRlclZhbHVlIiwiaW5uZXJWYWx1ZSIsIm91dGVySW5kZXgiLCJpbm5lckluZGV4IiwiaW5uZXJTdWIiLCJmb3VuZCIsInNwbGljZSIsIm5vdGlmeUNvbXBsZXRlIiwiX3RyeVByb2plY3QiLCJPdXRlclN1YnNjcmliZXIiLCJCZWhhdmlvclN1YmplY3QiLCJfdmFsdWUiLCJnZXRWYWx1ZSIsIl9zdWJzY3JpYmUiLCJzdWJzY3JpcHRpb24iLCJjbG9zZWQiLCJoYXNFcnJvciIsInRocm93bkVycm9yIiwiT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IiLCJOT05FIiwiY29tYmluZUxhdGVzdCIsInJlc3VsdFNlbGVjdG9yIiwiQ29tYmluZUxhdGVzdE9wZXJhdG9yIiwiQ29tYmluZUxhdGVzdFN1YnNjcmliZXIiLCJhY3RpdmUiLCJfY29tcGxldGUiLCJjb21wbGV0ZSIsInVudXNlZCIsIm9sZFZhbCIsIl90cnlSZXN1bHRTZWxlY3RvciIsInBsdWNrIiwicHJvcGVydGllcyIsIkVycm9yIiwicGx1Y2tlciIsInByb3BzIiwiY3VycmVudFByb3AiLCJwIiwiY3JlYXRlSW5wdXQiLCIkUmVhbElucHV0IiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic3R5bGUiLCJoZWlnaHQiLCJwb3NpdGlvbiIsInpJbmRleCIsIm91dGxpbmUiLCJib3JkZXIiLCJ0b3AiLCJsZWZ0Iiwib3BhY2l0eSIsInNjcmVlbiIsIndpZHRoIiwidHJhbnNmb3JtIiwiY29sb3IiLCJzZXRBdHRyaWJ1dGUiLCJvbmJsdXIiLCJzZXRUaW1lb3V0IiwiZm9jdXMiLCJ1cGRhdGVQb3MiLCIkd3JhcHBlciIsIiRpbnB1dCIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInJlbmRlclBzZXVkb0lucHV0IiwiaW5wdXRTdGF0ZSIsImhhc1NlbGVjdGlvbiIsInN0YXJ0IiwiZW5kIiwiaXNFbXB0eSIsImlucHV0U3RyIiwidG9SZW5kZXIiLCJjaCIsImlubmVySFRNTCIsImlkeCIsImNoYXIiLCJjbGFzc05hbWUiLCJjaGFyVHBsIiwiY2hhcklkeCIsImluaXQiLCJ0aGVtZSIsImluamVjdENTUyIsImZvbnRGYW1pbHkiLCJmb250U2l6ZSIsIndvcmRCcmVhayIsIiRpbnB1dFdyYXBwZXIiLCJib2R5IiwiYXBwZW5kQ2hpbGQiLCJpbnB1dCQiLCJmcm9tRXZlbnQiLCJzZWxlY3QkIiwia2V5dXAkIiwiaW5wdXRTdHIkIiwicGlwZSIsIm1vdmVDdXJzb3IkIiwiZXZ0IiwiZW50ZXIkIiwidGFyZ2V0IiwiZGlzYWJsZWQiLCJjdXJzb3JQb3NDaGFuZ2UkIiwibWVyZ2UiLCJjdXJzb3JQb3MkIiwic2VsZWN0aW9uU3RhcnQiLCJzZWxlY3Rpb25FbmQiLCJpbnB1dFN0YXRlJCIsImRpc3RpbmN0VW50aWxDaGFuZ2VkIiwicHJldlN0YXRlIiwibmV4dFN0YXRlIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlbmRlciIsInRyaWdnZXIiLCIkY3Vyc29yIiwicXVlcnlTZWxlY3RvciIsImNsYXNzTGlzdCIsInJlbW92ZSIsInJlbW92ZUF0dHJpYnV0ZSIsInNwaW5uZXIiLCJtYWtlVGV4dFNwaW5uZXIiLCJyZW5kZXJUZXJtaW5hbCIsInNlc3Npb25EYXRhIiwiJGhpc3RTZXNzaW9uIiwiJGN1cnJlbnRTZXNzIiwibGFzdFNlc3NEYXRhIiwiZ2V0TGFzdEVsZSIsImlzTG9hZGluZyIsInNob3VsZEhpZGVJbnB1dCIsImN1cnJlbnREYXRhIiwicHJldlNlc3NEYXRhIiwidG1wQ3Vyc29yIiwiZGF0YSIsImlzUmljaFRleHQiLCJodG1sIiwibWVzc2FnZSIsInN0YWNrIiwicmVzdWx0U3RyIiwic2Vzc2lvblRwbCIsImRpc3BsYXkiLCJmaXJzdEVsZW1lbnRDaGlsZCIsIiRpbnB1dEZvclRlcm1pbmFsIiwiSW5wdXQiLCJpbnB1dEhlaWdodCIsIm92ZXJmbG93IiwiYmFja2dyb3VuZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImlucHV0WSIsImNsaWVudFkiLCJNYXRoIiwiYWJzIiwiY2FwdHVyZSIsIkhJU1QiLCJoaXN0IiwiYWxsSGlzdCIsImhpc3RTdHIiLCJjb21wbGV0aW9uV2l0aCIsInBzZXVkb1Rlcm1pbmFsIiwiJHRlcm1pbmFsV3JhcHBlciIsInVzZXJDbWRzJCIsInN5c0NtZHMkIiwiY21kU2V0JCIsIm5ld0NtZCIsIm9sZENtZCIsImVudFN1YiIsInBhcnNlV2l0aCIsImJsdXIiLCJzZXNzaW9uRGF0YSQiLCJpc1NwZWNpYWwiLCJpc1NwZWNpYWxDbWQiLCJoaXN0SW50ZXJjZXB0b3IiLCJsYXN0UmVzdWx0Iiwic2Vzc1N1YiIsImxhc3REYXRhIiwic2Nyb2xsVG9Cb3R0b20iLCJodW1hbml6ZXJFeGVjIiwiY21kU3RyIiwiaHVtYW5pemVySW5wdXQiLCJ2IiwicmVqZWN0IiwiZGVzdHJveSIsInVuc3Vic2NyaWJlIiwiYWRkQ29tbWFuZHMiLCJlbmFibGVIdW1hbml6ZXJJbnB1dEVmZmVjdCIsImN1cnJlbnQiLCJodW1hbml6ZXJFeGVjQ21kQXJyIiwiY21kQXJyIiwiZXhlY0Z1bkFyciIsImV4ZWMiXSwibWFwcGluZ3MiOiJvVkFFQSxJQUFNQSxFQUFnQixDQUNsQkMsTUFBTyxpQkFBTSxJQUNiQyxRQUFTLGlCQUFNLElBQ2ZDLEtBQU0sU0FBVUMsRUFBR0MsRUFBR0MsRUFBR0MsR0FDckIsT0FBT0EsRUFBYUMsVUFBWUQsRUFBYUUsWUFFakRDLElBQUssQ0FDREMsUUFBUyxTQUFVQyxFQUFRQyxFQUFRQyxFQUExQixHQUFtRCxJQUFiTCxFQUFhLEVBQWJBLFdBQzNDLElBQUtJLEVBQ0QsT0FBTyxFQUdYLElBQUtKLEVBQ0QsT0FBT00s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QUFRdEwsRUFBTXdLLE9BQVF0SyxLIiwiZmlsZSI6IjEwLjA5M2IyMC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7VHJpbX0gZnJvbSBcIkB6aG91amlhaGFvL3V0aWxzXCI7XG5cbmNvbnN0IEJVSUxUX0lOX0NNRFMgPSB7XG4gICAgY2xlYXI6ICgpID0+IFwiXCIsXG4gICAgaGlzdG9yeTogKCkgPT4gXCJcIixcbiAgICBlY2hvOiBmdW5jdGlvbiAoYSwgYiwgYywgcGFyc2VkUGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBwYXJzZWRQYXJhbXMuZnJvbVBpcGUgfHwgcGFyc2VkUGFyYW1zLnJlc3RQYXJhbXM7XG4gICAgfSxcbiAgICBtYW46IHtcbiAgICAgICAgaGFuZGxlcjogZnVuY3Rpb24gKHBhcmFtcywgY21kU2V0LCAkdGVybWluYWwsIHtyZXN0UGFyYW1zfSkge1xuICAgICAgICAgICAgaWYgKCFjbWRTZXQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghcmVzdFBhcmFtcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBUcmltKGNtZFNldC5tYW4uZG9jKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJlc3RQYXJhbXMgJiYgY21kU2V0W3Jlc3RQYXJhbXMudHJpbSgpXSkge1xuICAgICAgICAgICAgICAgIGxldCBjbWQgPSBjbWRTZXRbcmVzdFBhcmFtcy50cmltKCldO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgY21kID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gVHJpbShjbWQuZG9jKSB8fCAn5rKh5pyJ5biu5Yqp5L+h5oGvJztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJ+ayoeacieW4ruWKqeS/oeaBryc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBkb2M6IGBcbiAgICAgICAgICAgIE5BTUVcbiAgICAgICAgICAgICAgICBtYW4gLS0gZGlzcGxheSBjb21tYW5kJ3MgbWFudWFsIGluZm8uXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICBTWU5PUFNJU1xuICAgICAgICAgICAgICAgIG1hbiBbIGNvbW1hbmQgbmFtZSBdYFxuICAgIH0sXG4gICAgaGVscDogZnVuY3Rpb24gKHBhcmFtcywgY21kU2V0KSB7XG4gICAgICAgIGlmKCFjbWRTZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaW5zZXJ0ID0gKHByZWZpeCkgPT4gKHN0cikgPT4gcHJlZml4ICsgc3RyO1xuICAgICAgICByZXR1cm4gXCJBdmFpbGFibGUgY29tbWFuZHM6IFxcblwiICsgT2JqZWN0LmtleXMoY21kU2V0KS5zb3J0KCkubWFwKGluc2VydCgnLSAnKSkuam9pbihcIlxcblwiKTtcbiAgICB9XG59O1xuXG5jb25zdCBERUZBVUxUX1NUWUxFID0gYFxuICAgIC5zZXNzaW9uID4gLmlucHV0IHtsaW5lLWhlaWdodDogMS4yfVxuICAgIDo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICAgICAgICB3aWR0aDogMnB0XG4gICAgfVxuICAgIFxuICAgIDo6LXdlYmtpdC1zY3JvbGxiYXI6aG9yaXpvbnRhbCB7XG4gICAgICAgIGhlaWdodDogMFxuICAgIH1cblxuICAgIDo6LXdlYmtpdC1zY3JvbGxiYXItYnV0dG9uIHtcbiAgICAgICAgZGlzcGxheTogbm9uZVxuICAgIH1cblxuICAgIDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuICAgICAgICBiYWNrZ3JvdW5kOiAjZDBkMGQwXG4gICAgfVxuYDtcblxuY29uc3QgU1RBVFVTID0ge1xuICAgIExPQURJTkc6IFN5bWJvbCgpLFxuICAgIEVSUk9SOiBTeW1ib2woKSxcbn07XG5cbmNvbnN0IFBJUEUgPSAnfCc7XG5cbmV4cG9ydCB7QlVJTFRfSU5fQ01EUywgU1RBVFVTLCBERUZBVUxUX1NUWUxFLCBQSVBFfVxuIiwiLy8gaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL3N1YnN0YWNrL21pbmltaXN0L21hc3Rlci9pbmRleC5qc1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKGFyZ3MsIG9wdHMpIHtcbiAgaWYgKCFvcHRzKSBvcHRzID0ge307XG5cbiAgbGV0IGZsYWdzID0geyBib29scyA6IHt9LCBzdHJpbmdzIDoge30sIHVua25vd25GbjogbnVsbCB9O1xuXG4gIGlmICh0eXBlb2Ygb3B0c1sndW5rbm93biddID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZmxhZ3MudW5rbm93bkZuID0gb3B0c1sndW5rbm93biddO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRzWydib29sZWFuJ10gPT09ICdib29sZWFuJyAmJiBvcHRzWydib29sZWFuJ10pIHtcbiAgICBmbGFncy5hbGxCb29scyA9IHRydWU7XG4gIH0gZWxzZSB7XG4gICAgW10uY29uY2F0KG9wdHNbJ2Jvb2xlYW4nXSkuZmlsdGVyKEJvb2xlYW4pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgZmxhZ3MuYm9vbHNba2V5XSA9IHRydWU7XG4gICAgfSk7XG4gIH1cblxuICBsZXQgYWxpYXNlcyA9IHt9O1xuICBPYmplY3Qua2V5cyhvcHRzLmFsaWFzIHx8IHt9KS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBhbGlhc2VzW2tleV0gPSBbXS5jb25jYXQob3B0cy5hbGlhc1trZXldKTtcbiAgICBhbGlhc2VzW2tleV0uZm9yRWFjaChmdW5jdGlvbiAoeCkge1xuICAgICAgYWxpYXNlc1t4XSA9IFtrZXldLmNvbmNhdChhbGlhc2VzW2tleV0uZmlsdGVyKGZ1bmN0aW9uICh5KSB7XG4gICAgICAgIHJldHVybiB4ICE9PSB5O1xuICAgICAgfSkpO1xuICAgIH0pO1xuICB9KTtcblxuICBbXS5jb25jYXQob3B0cy5zdHJpbmcpLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBmbGFncy5zdHJpbmdzW2tleV0gPSB0cnVlO1xuICAgIGlmIChhbGlhc2VzW2tleV0pIHtcbiAgICAgIGZsYWdzLnN0cmluZ3NbYWxpYXNlc1trZXldXSA9IHRydWU7XG4gICAgfVxuICB9KTtcblxuICBsZXQgZGVmYXVsdHMgPSBvcHRzWydkZWZhdWx0J10gfHwge307XG5cbiAgbGV0IGFyZ3YgPSB7IF8gOiBbXSB9O1xuICBPYmplY3Qua2V5cyhmbGFncy5ib29scykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgc2V0QXJnKGtleSwgZGVmYXVsdHNba2V5XSA9PT0gdW5kZWZpbmVkID8gZmFsc2UgOiBkZWZhdWx0c1trZXldKTtcbiAgfSk7XG5cbiAgbGV0IG5vdEZsYWdzID0gW107XG5cbiAgaWYgKGFyZ3MuaW5kZXhPZignLS0nKSAhPT0gLTEpIHtcbiAgICBub3RGbGFncyA9IGFyZ3Muc2xpY2UoYXJncy5pbmRleE9mKCctLScpKzEpO1xuICAgIGFyZ3MgPSBhcmdzLnNsaWNlKDAsIGFyZ3MuaW5kZXhPZignLS0nKSk7XG4gIH1cblxuICBmdW5jdGlvbiBhcmdEZWZpbmVkKGtleSwgYXJnKSB7XG4gICAgcmV0dXJuIChmbGFncy5hbGxCb29scyAmJiAvXi0tW149XSskLy50ZXN0KGFyZykpIHx8XG4gICAgICBmbGFncy5zdHJpbmdzW2tleV0gfHwgZmxhZ3MuYm9vbHNba2V5XSB8fCBhbGlhc2VzW2tleV07XG4gIH1cblxuICBmdW5jdGlvbiBzZXRBcmcgKGtleSwgdmFsLCBhcmcpIHtcbiAgICBpZiAoYXJnICYmIGZsYWdzLnVua25vd25GbiAmJiAhYXJnRGVmaW5lZChrZXksIGFyZykpIHtcbiAgICAgIGlmIChmbGFncy51bmtub3duRm4oYXJnKSA9PT0gZmFsc2UpIHJldHVybjtcbiAgICB9XG5cbiAgICBsZXQgdmFsdWUgPSAhZmxhZ3Muc3RyaW5nc1trZXldICYmIGlzTnVtYmVyKHZhbClcbiAgICAgID8gTnVtYmVyKHZhbCkgOiB2YWxcbiAgICA7XG4gICAgc2V0S2V5KGFyZ3YsIGtleS5zcGxpdCgnLicpLCB2YWx1ZSk7XG5cbiAgICAoYWxpYXNlc1trZXldIHx8IFtdKS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XG4gICAgICBzZXRLZXkoYXJndiwgeC5zcGxpdCgnLicpLCB2YWx1ZSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRLZXkgKG9iaiwga2V5cywgdmFsdWUpIHtcbiAgICBsZXQgbyA9IG9iajtcbiAgICBrZXlzLnNsaWNlKDAsLTEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKG9ba2V5XSA9PT0gdW5kZWZpbmVkKSBvW2tleV0gPSB7fTtcbiAgICAgIG8gPSBvW2tleV07XG4gICAgfSk7XG5cbiAgICBsZXQga2V5ID0ga2V5c1trZXlzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChvW2tleV0gPT09IHVuZGVmaW5lZCB8fCBmbGFncy5ib29sc1trZXldIHx8IHR5cGVvZiBvW2tleV0gPT09ICdib29sZWFuJykge1xuICAgICAgb1trZXldID0gdmFsdWU7XG4gICAgfVxuICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkob1trZXldKSkge1xuICAgICAgb1trZXldLnB1c2godmFsdWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIG9ba2V5XSA9IFsgb1trZXldLCB2YWx1ZSBdO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFsaWFzSXNCb29sZWFuKGtleSkge1xuICAgIHJldHVybiBhbGlhc2VzW2tleV0uc29tZShmdW5jdGlvbiAoeCkge1xuICAgICAgcmV0dXJuIGZsYWdzLmJvb2xzW3hdO1xuICAgIH0pO1xuICB9XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgbGV0IGFyZyA9IGFyZ3NbaV07XG5cbiAgICBpZiAoL14tLS4rPS8udGVzdChhcmcpKSB7XG4gICAgICAvLyBVc2luZyBbXFxzXFxTXSBpbnN0ZWFkIG9mIC4gYmVjYXVzZSBqcyBkb2Vzbid0IHN1cHBvcnQgdGhlXG4gICAgICAvLyAnZG90YWxsJyByZWdleCBtb2RpZmllci4gU2VlOlxuICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTA2ODMwOC8xMzIxNlxuICAgICAgbGV0IG0gPSBhcmcubWF0Y2goL14tLShbXj1dKyk9KFtcXHNcXFNdKikkLyk7XG4gICAgICBsZXQga2V5ID0gbVsxXTtcbiAgICAgIGxldCB2YWx1ZSA9IG1bMl07XG4gICAgICBpZiAoZmxhZ3MuYm9vbHNba2V5XSkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlICE9PSAnZmFsc2UnO1xuICAgICAgfVxuICAgICAgc2V0QXJnKGtleSwgdmFsdWUsIGFyZyk7XG4gICAgfVxuICAgIGVsc2UgaWYgKC9eLS1uby0uKy8udGVzdChhcmcpKSB7XG4gICAgICBsZXQga2V5ID0gYXJnLm1hdGNoKC9eLS1uby0oLispLylbMV07XG4gICAgICBzZXRBcmcoa2V5LCBmYWxzZSwgYXJnKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoL14tLS4rLy50ZXN0KGFyZykpIHtcbiAgICAgIGxldCBrZXkgPSBhcmcubWF0Y2goL14tLSguKykvKVsxXTtcbiAgICAgIGxldCBuZXh0ID0gYXJnc1tpICsgMV07XG4gICAgICBpZiAobmV4dCAhPT0gdW5kZWZpbmVkICYmICEvXi0vLnRlc3QobmV4dClcbiAgICAgICAgJiYgIWZsYWdzLmJvb2xzW2tleV1cbiAgICAgICAgJiYgIWZsYWdzLmFsbEJvb2xzXG4gICAgICAgICYmIChhbGlhc2VzW2tleV0gPyAhYWxpYXNJc0Jvb2xlYW4oa2V5KSA6IHRydWUpKSB7XG4gICAgICAgIHNldEFyZyhrZXksIG5leHQsIGFyZyk7XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKC9eKHRydWV8ZmFsc2UpJC8udGVzdChuZXh0KSkge1xuICAgICAgICBzZXRBcmcoa2V5LCBuZXh0ID09PSAndHJ1ZScsIGFyZyk7XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzZXRBcmcoa2V5LCBmbGFncy5zdHJpbmdzW2tleV0gPyAnJyA6IHRydWUsIGFyZyk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgaWYgKC9eLVteLV0rLy50ZXN0KGFyZykpIHtcbiAgICAgIGxldCBsZXR0ZXJzID0gYXJnLnNsaWNlKDEsLTEpLnNwbGl0KCcnKTtcblxuICAgICAgbGV0IGJyb2tlbiA9IGZhbHNlO1xuICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBsZXR0ZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGxldCBuZXh0ID0gYXJnLnNsaWNlKGorMik7XG5cbiAgICAgICAgaWYgKG5leHQgPT09ICctJykge1xuICAgICAgICAgIHNldEFyZyhsZXR0ZXJzW2pdLCBuZXh0LCBhcmcpXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoL1tBLVphLXpdLy50ZXN0KGxldHRlcnNbal0pICYmIC89Ly50ZXN0KG5leHQpKSB7XG4gICAgICAgICAgc2V0QXJnKGxldHRlcnNbal0sIG5leHQuc3BsaXQoJz0nKVsxXSwgYXJnKTtcbiAgICAgICAgICBicm9rZW4gPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKC9bQS1aYS16XS8udGVzdChsZXR0ZXJzW2pdKVxuICAgICAgICAgICYmIC8tP1xcZCsoXFwuXFxkKik/KGUtP1xcZCspPyQvLnRlc3QobmV4dCkpIHtcbiAgICAgICAgICBzZXRBcmcobGV0dGVyc1tqXSwgbmV4dCwgYXJnKTtcbiAgICAgICAgICBicm9rZW4gPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxldHRlcnNbaisxXSAmJiBsZXR0ZXJzW2orMV0ubWF0Y2goL1xcVy8pKSB7XG4gICAgICAgICAgc2V0QXJnKGxldHRlcnNbal0sIGFyZy5zbGljZShqKzIpLCBhcmcpO1xuICAgICAgICAgIGJyb2tlbiA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgc2V0QXJnKGxldHRlcnNbal0sIGZsYWdzLnN0cmluZ3NbbGV0dGVyc1tqXV0gPyAnJyA6IHRydWUsIGFyZyk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgbGV0IGtleSA9IGFyZy5zbGljZSgtMSlbMF07XG4gICAgICBpZiAoIWJyb2tlbiAmJiBrZXkgIT09ICctJykge1xuICAgICAgICBpZiAoYXJnc1tpKzFdICYmICEvXigtfC0tKVteLV0vLnRlc3QoYXJnc1tpKzFdKVxuICAgICAgICAgICYmICFmbGFncy5ib29sc1trZXldXG4gICAgICAgICAgJiYgKGFsaWFzZXNba2V5XSA/ICFhbGlhc0lzQm9vbGVhbihrZXkpIDogdHJ1ZSkpIHtcbiAgICAgICAgICBzZXRBcmcoa2V5LCBhcmdzW2krMV0sIGFyZyk7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFyZ3NbaSsxXSAmJiAvdHJ1ZXxmYWxzZS8udGVzdChhcmdzW2krMV0pKSB7XG4gICAgICAgICAgc2V0QXJnKGtleSwgYXJnc1tpKzFdID09PSAndHJ1ZScsIGFyZyk7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNldEFyZyhrZXksIGZsYWdzLnN0cmluZ3Nba2V5XSA/ICcnIDogdHJ1ZSwgYXJnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlmICghZmxhZ3MudW5rbm93bkZuIHx8IGZsYWdzLnVua25vd25GbihhcmcpICE9PSBmYWxzZSkge1xuICAgICAgICBhcmd2Ll8ucHVzaChcbiAgICAgICAgICBmbGFncy5zdHJpbmdzWydfJ10gfHwgIWlzTnVtYmVyKGFyZykgPyBhcmcgOiBOdW1iZXIoYXJnKVxuICAgICAgICApO1xuICAgICAgfVxuICAgICAgaWYgKG9wdHMuc3RvcEVhcmx5KSB7XG4gICAgICAgIGFyZ3YuXy5wdXNoLmFwcGx5KGFyZ3YuXywgYXJncy5zbGljZShpICsgMSkpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBPYmplY3Qua2V5cyhkZWZhdWx0cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKCFoYXNLZXkoYXJndiwga2V5LnNwbGl0KCcuJykpKSB7XG4gICAgICBzZXRLZXkoYXJndiwga2V5LnNwbGl0KCcuJyksIGRlZmF1bHRzW2tleV0pO1xuXG4gICAgICAoYWxpYXNlc1trZXldIHx8IFtdKS5mb3JFYWNoKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHNldEtleShhcmd2LCB4LnNwbGl0KCcuJyksIGRlZmF1bHRzW2tleV0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBpZiAob3B0c1snLS0nXSkge1xuICAgIGFyZ3ZbJy0tJ10gPSBuZXcgQXJyYXkoKTtcbiAgICBub3RGbGFncy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgYXJndlsnLS0nXS5wdXNoKGtleSk7XG4gICAgfSk7XG4gIH1cbiAgZWxzZSB7XG4gICAgbm90RmxhZ3MuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgIGFyZ3YuXy5wdXNoKGtleSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gYXJndjtcbn07XG5cbmZ1bmN0aW9uIGhhc0tleSAob2JqLCBrZXlzKSB7XG4gIGxldCBvID0gb2JqO1xuICBrZXlzLnNsaWNlKDAsLTEpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIG8gPSAob1trZXldIHx8IHt9KTtcbiAgfSk7XG5cbiAgbGV0IGtleSA9IGtleXNba2V5cy5sZW5ndGggLSAxXTtcbiAgcmV0dXJuIGtleSBpbiBvO1xufVxuXG5mdW5jdGlvbiBpc051bWJlciAoeCkge1xuICBpZiAodHlwZW9mIHggPT09ICdudW1iZXInKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKC9eMHhbMC05YS1mXSskL2kudGVzdCh4KSkgcmV0dXJuIHRydWU7XG4gIHJldHVybiAvXlstK10/KD86XFxkKyg/OlxcLlxcZCopP3xcXC5cXGQrKShlWy0rXT9cXGQrKT8kLy50ZXN0KHgpO1xufVxuIiwiaW1wb3J0IHtQSVBFfSBmcm9tIFwiLi9jb25zdGFudFwiO1xuaW1wb3J0IGdldE9wdHMgZnJvbSAnLi4vcGFyc2VyJ1xuXG4vLyDnp7vmpI3kuo4gaHR0cHM6Ly9naXRodWIuY29tL3B5dGhvbi9jcHl0aG9uL2Jsb2IvMi43L0xpYi9nZXRvcHQucHlcbmZ1bmN0aW9uIGdldE9wdChzaG9ydG9wdHMsIGFyZ3NBcnIpIHtcbiAgICBsZXQgb3B0cyA9IHt9O1xuICAgIHdoaWxlIChhcmdzQXJyLmxlbmd0aCA+IDAgJiYgYXJnc0FyclswXS5zdGFydHNXaXRoKCctJykgJiYgYXJnc0FyclswXSAhPT0gJy0nKSB7XG4gICAgICAgIGlmIChhcmdzQXJyWzBdID09PSAnLS0nKSB7XG4gICAgICAgICAgICBhcmdzQXJyID0gYXJnc0Fyci5zbGljZSgxKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcmdzQXJyWzBdLnN0YXJ0c1dpdGgoJy0tJykpIHtcbiAgICAgICAgICAgIHRocm93IGBjYW4ndCByZWNvZ25pemUgbG9uZyBvcHRpb25gXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBbb3B0cywgYXJnc0Fycl0gPSBkb1Nob3J0cyhvcHRzLCBhcmdzQXJyWzBdLnNsaWNlKDEpLCBzaG9ydG9wdHMsIGFyZ3NBcnIuc2xpY2UoMSkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZG9TaG9ydHMob3B0cywgb3B0c3RyaW5nLCBzaG9ydG9wdHMsIGFyZ3MpIHtcbiAgICAgICAgd2hpbGUgKG9wdHN0cmluZyAhPT0gJycpIHtcbiAgICAgICAgICAgIGxldCBvcHQgPSBvcHRzdHJpbmdbMF07XG4gICAgICAgICAgICBvcHRzdHJpbmcgPSBvcHRzdHJpbmcuc2xpY2UoMSk7XG5cbiAgICAgICAgICAgIGlmIChoYXNBcmcob3B0LCBzaG9ydG9wdHMpKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdHN0cmluZyA9PT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYXJncy5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBgb3B0aW9uICctJHtvcHR9JyByZXF1aXJlcyBhcmd1bWVudGBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvcHRzdHJpbmcgPSBhcmdzWzBdO1xuICAgICAgICAgICAgICAgICAgICBhcmdzID0gYXJncy5zbGljZSgxKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyA/IOWPr+iDveS8muaKiuWQjue7reeahCBvcHQg5ZCD5o6JXG4gICAgICAgICAgICAgICAgb3B0c1tvcHRdID0gb3B0c3RyaW5nO1xuICAgICAgICAgICAgICAgIG9wdHN0cmluZyA9ICcnO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvcHRzW29wdF0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbb3B0cywgYXJnc107XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGFzQXJnKG9wdCwgc2hvcnRvcHRzKSB7XG4gICAgICAgIGxldCBzaG9ydG9wdHNBcnIgPSBzaG9ydG9wdHMuc3BsaXQoXCJcIiksXG4gICAgICAgICAgICBvcHRJZHggPSBzaG9ydG9wdHNBcnIuaW5kZXhPZihvcHQpO1xuICAgICAgICBpZiAob3B0SWR4IDwgMCkge1xuICAgICAgICAgICAgdGhyb3cgYG9wdGlvbiAnLSR7b3B0fScgbm90IHJlY29nbml6ZWRgXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9wdElkeCA+PSAwICYmIHNob3J0b3B0c0FycltvcHRJZHggKyAxXSA9PT0gJzonO1xuICAgIH1cblxuICAgIHJldHVybiBvcHRzO1xufVxuXG5jb25zdCBwYXJzZSA9IChjbWRTZXQpID0+IHtcbiAgICBjb25zdCBwYXJzZUlucHV0ID0gKHVzZXJJbnB1dCkgPT4ge1xuICAgICAgICBpZiAoIXVzZXJJbnB1dC50cmltKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXNlcklucHV0LFxuICAgICAgICAgICAgICAgIGVycm9ySW5mbzogJ+epuuWRveS7pCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGlucHV0QXJyID0gdXNlcklucHV0LnRyaW0oKS5zcGxpdCgvXFxzKy8pXG4gICAgICAgICAgICAsIGNtZE5hbWUgPSBpbnB1dEFyclswXTtcblxuICAgICAgICBpZiAoIWNtZE5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdXNlcklucHV0LFxuICAgICAgICAgICAgICAgIGVycm9ySW5mbzogJ+epuuWRveS7pCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHZhbGlkQ29tbWFuZHMgPSBPYmplY3Qua2V5cyhjbWRTZXQpXG4gICAgICAgICAgICAsIHJlc3RQYXJhbXMgPSB1c2VySW5wdXQucmVwbGFjZShjbWROYW1lLCAnJykudHJpbSgpXG4gICAgICAgICAgICAsIGlzVmFsaWRDb21tYW5kID0gdmFsaWRDb21tYW5kcy5pbmNsdWRlcyhjbWROYW1lKTtcblxuICAgICAgICBpZiAoIWlzVmFsaWRDb21tYW5kKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHJlc3RQYXJhbXMsXG4gICAgICAgICAgICAgICAgdXNlcklucHV0LFxuICAgICAgICAgICAgICAgIGVycm9ySW5mbzogYCR7Y21kTmFtZX0g5LiN5piv5ZCI5rOV5ZG95LukYFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgdGFyZ2V0Q29tbWFuZCA9IGNtZFNldFtjbWROYW1lXVxuICAgICAgICAgICAgLCBwYXJhbXMgPSBpbnB1dEFyci5zbGljZSgxKTtcblxuICAgICAgICBsZXQgcGFyc2VkT3B0cyA9IHt9O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcGFyc2VkT3B0cyA9IGdldE9wdHMocGFyYW1zKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICByZXN0UGFyYW1zLFxuICAgICAgICAgICAgICAgIHVzZXJJbnB1dCxcbiAgICAgICAgICAgICAgICBlcnJvckluZm86IGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXN0UGFyYW1zLFxuICAgICAgICAgICAgdXNlcklucHV0LFxuICAgICAgICAgICAgZXJyb3JJbmZvOiBudWxsLFxuICAgICAgICAgICAgY29tbWFuZDogdGFyZ2V0Q29tbWFuZCxcbiAgICAgICAgICAgIHBhcmFtc09iajogcGFyc2VkT3B0cy8vICEhc2hvcnRvcHRzID8gcGFyc2VkT3B0cyA6IHt9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiAodXNlcklucHV0KSA9PiB7XG4gICAgICAgIGxldCBoYXNQaXBlID0gdXNlcklucHV0LmluY2x1ZGVzKFBJUEUpO1xuICAgICAgICBpZihoYXNQaXBlKSB7XG4gICAgICAgICAgICBsZXQgdXNlcklucHV0QXJyID0gdXNlcklucHV0LnNwbGl0KFBJUEUpO1xuXG4gICAgICAgICAgICBpZih1c2VySW5wdXRBcnIubGVuZ3RoIDwgMikge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZUlucHV0KHVzZXJJbnB1dEFyclswXSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBwYXJzZWRSZXN1bHRzID0gdXNlcklucHV0QXJyLm1hcChpbnB1dCA9PlxuICAgICAgICAgICAgICAgIHBhcnNlSW5wdXQoaW5wdXQudHJpbSgpKSk7XG5cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgaXNNdWx0aVJlc3VsdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB1c2VySW5wdXQsXG4gICAgICAgICAgICAgICAgcGFyc2VkUmVzdWx0c1xuICAgICAgICAgICAgfVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUlucHV0KHVzZXJJbnB1dCk7XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5leHBvcnQgZGVmYXVsdCBwYXJzZTtcbiIsImNvbnN0IE1PVkVfS0VZID0gW1wiQXJyb3dMZWZ0XCIsIFwiQXJyb3dSaWdodFwiLCBcIkFycm93VXBcIiwgXCJBcnJvd0Rvd25cIl07XG5jb25zdCBJTlBVVF9DT05GID0ge1xuICAgIG1heGxlbjogNTAsXG4gICAgdGhlbWU6IHtcbiAgICAgICAgY29sb3I6ICcjMDAwJyxcbiAgICAgICAgYmFja2dyb3VuZDogJyNmZmYnLFxuICAgIH1cbn07XG5jb25zdCBLRVlTID0ge1xuICAgIGE6ICdhJyxcbiAgICBlbnRlcjogJ0VudGVyJ1xufTtcbi8vIHRvZG86IOmDqOWIhuW4uOmHjyB0ZXJtaW5hbCDkuZ/kvJrnlKjliLDvvIzlj6/ku6Xmj5Dlj5bmiJDlhaznlKjnmoRcbmNvbnN0IEJBU0VfQ1NTID0ge1xuICAgIGZvbnRGYW1pbHk6ICdcIlNGTW9uby1SZWd1bGFyXCIsIENvbnNvbGFzLCBcIkxpYmVyYXRpb24gTW9ub1wiLCBNZW5sbywgQ291cmllciwgbW9ub3NwYWNlJyxcbiAgICBmb250U2l6ZTogJzEycHgnLFxuICAgIGN1cnNvcjogKHtjdXJzb3JDb2xvcj0nIzAwMCcsIGJsaW5rU3BlZWQ9JzFzJ30pID0+IGBcbiAgICAgICAgQGtleWZyYW1lcyBjdXJzb3ItYmxpbmsge1xuICAgICAgICAgIGZyb20ge1xuICAgICAgICAgICAgIGJhY2tncm91bmQ6ICR7Y3Vyc29yQ29sb3J9O1xuICAgICAgICAgICAgIGNvbG9yOiAjZmZmO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHRvIHtcbiAgICAgICAgICAgICBiYWNrZ3JvdW5kOiBub25lO1xuICAgICAgICAgICAgIGNvbG9yOiAjMDAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLmhpZ2hsaWdodCB7XG4gICAgICAgICAgICBjb2xvcjogI2ZmZjtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6ICMwMDA7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC5ibGluazpub3QoLmRpc2FibGVkKSB7XG4gICAgICAgICAgYW5pbWF0aW9uLWR1cmF0aW9uOiAke2JsaW5rU3BlZWR9O1xuICAgICAgICAgIGFuaW1hdGlvbi1uYW1lOiBjdXJzb3ItYmxpbms7XG4gICAgICAgICAgYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDogaW5maW5pdGVcbiAgICAgICAgfVxuICAgIGBcbn07XG5cbmV4cG9ydCB7XG4gICAgTU9WRV9LRVksIEtFWVMsIEJBU0VfQ1NTXG59XG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIF91dGlsX2lzU2NoZWR1bGVyLF9mcm9tQXJyYXksX3NjaGVkdWxlZF9zY2hlZHVsZUFycmF5IFBVUkVfSU1QT1JUU19FTkQgKi9cbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5pbXBvcnQgeyBmcm9tQXJyYXkgfSBmcm9tICcuL2Zyb21BcnJheSc7XG5pbXBvcnQgeyBzY2hlZHVsZUFycmF5IH0gZnJvbSAnLi4vc2NoZWR1bGVkL3NjaGVkdWxlQXJyYXknO1xuZXhwb3J0IGZ1bmN0aW9uIG9mKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICB2YXIgc2NoZWR1bGVyID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdO1xuICAgIGlmIChpc1NjaGVkdWxlcihzY2hlZHVsZXIpKSB7XG4gICAgICAgIGFyZ3MucG9wKCk7XG4gICAgICAgIHJldHVybiBzY2hlZHVsZUFycmF5KGFyZ3MsIHNjaGVkdWxlcik7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gZnJvbUFycmF5KGFyZ3MpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW9mLmpzLm1hcFxuIiwiaW1wb3J0IHtTdWJqZWN0fSBmcm9tICdyeGpzJ1xuaW1wb3J0IHtwcm9taXNlT25lQnlPbmUsIG5vd30gZnJvbSBcIkB6aG91amlhaGFvL3V0aWxzXCI7XG5cbmxldCBleGVjUmVzdWx0JCA9IG5ldyBTdWJqZWN0KCk7XG5cbmNvbnN0IGVycm9yID0gKGlucHV0KSA9PiAoZSkgPT4ge1xuICAgIGV4ZWNSZXN1bHQkLm5leHQoe1xuICAgICAgICBpbnB1dCxcbiAgICAgICAgb3V0cHV0OiBlXG4gICAgfSlcbn07XG5cbmNvbnN0IHByaW50ID0gKGlucHV0KSA9PiAob3V0cHV0LCB3aXRoVGltZXN0YW1wKSA9PiB7XG4gICAgZXhlY1Jlc3VsdCQubmV4dCh7XG4gICAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICAgIHByaW50OiB0cnVlLFxuICAgICAgICBpbnB1dCxcbiAgICAgICAgb3V0cHV0OiB3aXRoVGltZXN0YW1wID8gbm93KCkgKyAnICcgKyBvdXRwdXQgOiBvdXRwdXQsXG4gICAgfSlcbn07XG5cblxuXG5jb25zdCBoYW5kbGVNdWx0aVJlc3VsdCA9ICh7cGFyc2VkUmVzdWx0LCBjbWRTZXQsICR0ZXJtaW5hbH0pID0+IHtcbiAgICBjb25zdCBpbnB1dCA9IHBhcnNlZFJlc3VsdC51c2VySW5wdXQ7XG4gICAgY29uc3QgZ2VuRXhlY0Z1bmMgPSAocGFyc2VkUmVzdWx0KSA9PiBhc3luYyAocHJldlJlc3VsdCkgPT4ge1xuICAgICAgICBpZihwYXJzZWRSZXN1bHQuZXJyb3JJbmZvKSB7XG4gICAgICAgICAgICB0aHJvdyBwYXJzZWRSZXN1bHQuZXJyb3JJbmZvO1xuICAgICAgICB9XG4gICAgICAgIGxldCBoYW5kbGVyID0gcGFyc2VkUmVzdWx0LmNvbW1hbmQuaGFuZGxlciB8fCBwYXJzZWRSZXN1bHQuY29tbWFuZDtcbiAgICAgICAgcGFyc2VkUmVzdWx0LmZyb21QaXBlID0gcHJldlJlc3VsdDtcbiAgICAgICAgcmV0dXJuIGhhbmRsZXIocGFyc2VkUmVzdWx0LnBhcmFtc09iaiwgY21kU2V0LCAkdGVybWluYWwsIHBhcnNlZFJlc3VsdClcbiAgICB9O1xuXG4gICAgZXhlY1Jlc3VsdCQubmV4dCh7XG4gICAgICAgIGlucHV0LFxuICAgICAgICBsb2FkaW5nOiB0cnVlLFxuICAgICAgICBvdXRwdXQ6IFwiXCJcbiAgICB9KTtcbiAgICBwcm9taXNlT25lQnlPbmUocGFyc2VkUmVzdWx0LnBhcnNlZFJlc3VsdHMubWFwKGdlbkV4ZWNGdW5jKSlcbiAgICAgICAgLnRoZW4ocmVzdWx0ID0+IHtcbiAgICAgICAgICAgIGV4ZWNSZXN1bHQkLm5leHQoe1xuICAgICAgICAgICAgICAgIG91dHB1dDogcmVzdWx0LFxuICAgICAgICAgICAgICAgIGlucHV0XG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyb3IoaW5wdXQpKVxufTtcblxuY29uc3QgaGFuZGxlUmVzdWx0ID0gKHtwYXJzZWRSZXN1bHQsIGNtZFNldCwgJHRlcm1pbmFsfSkgPT4ge1xuICAgIGlmICghcGFyc2VkUmVzdWx0KSB7XG4gICAgICAgIGV4ZWNSZXN1bHQkLm5leHQobnVsbCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAocGFyc2VkUmVzdWx0LmlzTXVsdGlSZXN1bHQpIHtcbiAgICAgICAgaGFuZGxlTXVsdGlSZXN1bHQoe3BhcnNlZFJlc3VsdCwgY21kU2V0LCAkdGVybWluYWx9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBpbnB1dCA9IHBhcnNlZFJlc3VsdC51c2VySW5wdXQ7XG4gICAgaWYgKHBhcnNlZFJlc3VsdC5lcnJvckluZm8pIHtcbiAgICAgICAgZXhlY1Jlc3VsdCQubmV4dCh7XG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIG91dHB1dDogcGFyc2VkUmVzdWx0LmVycm9ySW5mb1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGxldCBoYW5kbGVyID0gcGFyc2VkUmVzdWx0LmNvbW1hbmQuaGFuZGxlciB8fCBwYXJzZWRSZXN1bHQuY29tbWFuZDtcbiAgICBsZXQgZXhlY1Jlc3VsdCA9IFwiXCI7XG4gICAgdHJ5IHtcbiAgICAgICAgZXhlY1Jlc3VsdCA9IGhhbmRsZXIoXG4gICAgICAgICAgcGFyc2VkUmVzdWx0LnBhcmFtc09iaiwgLy8gMVxuICAgICAgICAgIGNtZFNldCwgLy8gMlxuICAgICAgICAgICR0ZXJtaW5hbCwgLy8gM1xuICAgICAgICAgIHBhcnNlZFJlc3VsdCwgLy8gNFxuICAgICAgICAgIHByaW50KGlucHV0KSwgLy8gNVxuICAgICAgICApO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgZXJyb3IoaW5wdXQpKGUpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBleGVjUmVzdWx0ID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGV4ZWNSZXN1bHQkLm5leHQoe1xuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBvdXRwdXQ6IGV4ZWNSZXN1bHRcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBleGVjUmVzdWx0JC5uZXh0KHtcbiAgICAgICAgaW5wdXQsXG4gICAgICAgIGxvYWRpbmc6IHRydWUsXG4gICAgICAgIG91dHB1dDogXCJcIlxuICAgIH0pO1xuXG4gICAgUHJvbWlzZS5yZXNvbHZlKGV4ZWNSZXN1bHQpXG4gICAgICAgIC50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICBleGVjUmVzdWx0JC5uZXh0KHtcbiAgICAgICAgICAgICAgICBvdXRwdXQ6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICBpbnB1dFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVycm9yKGlucHV0KSlcbn07XG5cbmxldCBleGUgPSB7XG4gICAgaW46IGhhbmRsZVJlc3VsdCxcbiAgICBvdXQkOiBleGVjUmVzdWx0JFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZXhlO1xuIiwiLyoqIFBVUkVfSU1QT1JUU19TVEFSVCB0c2xpYixfU3Vic2NyaWJlciBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgKiBhcyB0c2xpYl8xIGZyb20gXCJ0c2xpYlwiO1xuaW1wb3J0IHsgU3Vic2NyaWJlciB9IGZyb20gJy4uL1N1YnNjcmliZXInO1xuZXhwb3J0IGZ1bmN0aW9uIHNjYW4oYWNjdW11bGF0b3IsIHNlZWQpIHtcbiAgICB2YXIgaGFzU2VlZCA9IGZhbHNlO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID49IDIpIHtcbiAgICAgICAgaGFzU2VlZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbiBzY2FuT3BlcmF0b3JGdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5saWZ0KG5ldyBTY2FuT3BlcmF0b3IoYWNjdW11bGF0b3IsIHNlZWQsIGhhc1NlZWQpKTtcbiAgICB9O1xufVxudmFyIFNjYW5PcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTY2FuT3BlcmF0b3IoYWNjdW11bGF0b3IsIHNlZWQsIGhhc1NlZWQpIHtcbiAgICAgICAgaWYgKGhhc1NlZWQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgaGFzU2VlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYWNjdW11bGF0b3IgPSBhY2N1bXVsYXRvcjtcbiAgICAgICAgdGhpcy5zZWVkID0gc2VlZDtcbiAgICAgICAgdGhpcy5oYXNTZWVkID0gaGFzU2VlZDtcbiAgICB9XG4gICAgU2Nhbk9wZXJhdG9yLnByb3RvdHlwZS5jYWxsID0gZnVuY3Rpb24gKHN1YnNjcmliZXIsIHNvdXJjZSkge1xuICAgICAgICByZXR1cm4gc291cmNlLnN1YnNjcmliZShuZXcgU2NhblN1YnNjcmliZXIoc3Vic2NyaWJlciwgdGhpcy5hY2N1bXVsYXRvciwgdGhpcy5zZWVkLCB0aGlzLmhhc1NlZWQpKTtcbiAgICB9O1xuICAgIHJldHVybiBTY2FuT3BlcmF0b3I7XG59KCkpO1xudmFyIFNjYW5TdWJzY3JpYmVyID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKF9zdXBlcikge1xuICAgIHRzbGliXzEuX19leHRlbmRzKFNjYW5TdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFNjYW5TdWJzY3JpYmVyKGRlc3RpbmF0aW9uLCBhY2N1bXVsYXRvciwgX3NlZWQsIGhhc1NlZWQpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLmFjY3VtdWxhdG9yID0gYWNjdW11bGF0b3I7XG4gICAgICAgIF90aGlzLl9zZWVkID0gX3NlZWQ7XG4gICAgICAgIF90aGlzLmhhc1NlZWQgPSBoYXNTZWVkO1xuICAgICAgICBfdGhpcy5pbmRleCA9IDA7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFNjYW5TdWJzY3JpYmVyLnByb3RvdHlwZSwgXCJzZWVkXCIsIHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fc2VlZDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuaGFzU2VlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9zZWVkID0gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIFNjYW5TdWJzY3JpYmVyLnByb3RvdHlwZS5fbmV4dCA9IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICBpZiAoIXRoaXMuaGFzU2VlZCkge1xuICAgICAgICAgICAgdGhpcy5zZWVkID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RyeU5leHQodmFsdWUpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBTY2FuU3Vic2NyaWJlci5wcm90b3R5cGUuX3RyeU5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gdGhpcy5pbmRleCsrO1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5hY2N1bXVsYXRvcih0aGlzLnNlZWQsIHZhbHVlLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2VlZCA9IHJlc3VsdDtcbiAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHJlc3VsdCk7XG4gICAgfTtcbiAgICByZXR1cm4gU2NhblN1YnNjcmliZXI7XG59KFN1YnNjcmliZXIpKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNjYW4uanMubWFwXG4iLCIvKiogUFVSRV9JTVBPUlRTX1NUQVJUIHRzbGliLF9PdXRlclN1YnNjcmliZXIsX3V0aWxfc3Vic2NyaWJlVG9SZXN1bHQgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IE91dGVyU3Vic2NyaWJlciB9IGZyb20gJy4uL091dGVyU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb1Jlc3VsdCB9IGZyb20gJy4uL3V0aWwvc3Vic2NyaWJlVG9SZXN1bHQnO1xuZXhwb3J0IGZ1bmN0aW9uIHdpdGhMYXRlc3RGcm9tKCkge1xuICAgIHZhciBhcmdzID0gW107XG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgYXJnc1tfaV0gPSBhcmd1bWVudHNbX2ldO1xuICAgIH1cbiAgICByZXR1cm4gZnVuY3Rpb24gKHNvdXJjZSkge1xuICAgICAgICB2YXIgcHJvamVjdDtcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHByb2plY3QgPSBhcmdzLnBvcCgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvYnNlcnZhYmxlcyA9IGFyZ3M7XG4gICAgICAgIHJldHVybiBzb3VyY2UubGlmdChuZXcgV2l0aExhdGVzdEZyb21PcGVyYXRvcihvYnNlcnZhYmxlcywgcHJvamVjdCkpO1xuICAgIH07XG59XG52YXIgV2l0aExhdGVzdEZyb21PcGVyYXRvciA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBXaXRoTGF0ZXN0RnJvbU9wZXJhdG9yKG9ic2VydmFibGVzLCBwcm9qZWN0KSB7XG4gICAgICAgIHRoaXMub2JzZXJ2YWJsZXMgPSBvYnNlcnZhYmxlcztcbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICB9XG4gICAgV2l0aExhdGVzdEZyb21PcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IFdpdGhMYXRlc3RGcm9tU3Vic2NyaWJlcihzdWJzY3JpYmVyLCB0aGlzLm9ic2VydmFibGVzLCB0aGlzLnByb2plY3QpKTtcbiAgICB9O1xuICAgIHJldHVybiBXaXRoTGF0ZXN0RnJvbU9wZXJhdG9yO1xufSgpKTtcbnZhciBXaXRoTGF0ZXN0RnJvbVN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoV2l0aExhdGVzdEZyb21TdWJzY3JpYmVyLCBfc3VwZXIpO1xuICAgIGZ1bmN0aW9uIFdpdGhMYXRlc3RGcm9tU3Vic2NyaWJlcihkZXN0aW5hdGlvbiwgb2JzZXJ2YWJsZXMsIHByb2plY3QpIHtcbiAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVzdGluYXRpb24pIHx8IHRoaXM7XG4gICAgICAgIF90aGlzLm9ic2VydmFibGVzID0gb2JzZXJ2YWJsZXM7XG4gICAgICAgIF90aGlzLnByb2plY3QgPSBwcm9qZWN0O1xuICAgICAgICBfdGhpcy50b1Jlc3BvbmQgPSBbXTtcbiAgICAgICAgdmFyIGxlbiA9IG9ic2VydmFibGVzLmxlbmd0aDtcbiAgICAgICAgX3RoaXMudmFsdWVzID0gbmV3IEFycmF5KGxlbik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIF90aGlzLnRvUmVzcG9uZC5wdXNoKGkpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlID0gb2JzZXJ2YWJsZXNbaV07XG4gICAgICAgICAgICBfdGhpcy5hZGQoc3Vic2NyaWJlVG9SZXN1bHQoX3RoaXMsIG9ic2VydmFibGUsIG9ic2VydmFibGUsIGkpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuICAgIFdpdGhMYXRlc3RGcm9tU3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5TmV4dCA9IGZ1bmN0aW9uIChvdXRlclZhbHVlLCBpbm5lclZhbHVlLCBvdXRlckluZGV4LCBpbm5lckluZGV4LCBpbm5lclN1Yikge1xuICAgICAgICB0aGlzLnZhbHVlc1tvdXRlckluZGV4XSA9IGlubmVyVmFsdWU7XG4gICAgICAgIHZhciB0b1Jlc3BvbmQgPSB0aGlzLnRvUmVzcG9uZDtcbiAgICAgICAgaWYgKHRvUmVzcG9uZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB2YXIgZm91bmQgPSB0b1Jlc3BvbmQuaW5kZXhPZihvdXRlckluZGV4KTtcbiAgICAgICAgICAgIGlmIChmb3VuZCAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICB0b1Jlc3BvbmQuc3BsaWNlKGZvdW5kLCAxKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgV2l0aExhdGVzdEZyb21TdWJzY3JpYmVyLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB9O1xuICAgIFdpdGhMYXRlc3RGcm9tU3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMudG9SZXNwb25kLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBbdmFsdWVdLmNvbmNhdCh0aGlzLnZhbHVlcyk7XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9qZWN0KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJ5UHJvamVjdChhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChhcmdzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgV2l0aExhdGVzdEZyb21TdWJzY3JpYmVyLnByb3RvdHlwZS5fdHJ5UHJvamVjdCA9IGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLnByb2plY3QuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcihlcnIpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGVzdGluYXRpb24ubmV4dChyZXN1bHQpO1xuICAgIH07XG4gICAgcmV0dXJuIFdpdGhMYXRlc3RGcm9tU3Vic2NyaWJlcjtcbn0oT3V0ZXJTdWJzY3JpYmVyKSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD13aXRoTGF0ZXN0RnJvbS5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX1N1YmplY3QsX3V0aWxfT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICcuL1N1YmplY3QnO1xuaW1wb3J0IHsgT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3IgfSBmcm9tICcuL3V0aWwvT2JqZWN0VW5zdWJzY3JpYmVkRXJyb3InO1xudmFyIEJlaGF2aW9yU3ViamVjdCA9IC8qQF9fUFVSRV9fKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgICB0c2xpYl8xLl9fZXh0ZW5kcyhCZWhhdmlvclN1YmplY3QsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQmVoYXZpb3JTdWJqZWN0KF92YWx1ZSkge1xuICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5fdmFsdWUgPSBfdmFsdWU7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KEJlaGF2aW9yU3ViamVjdC5wcm90b3R5cGUsIFwidmFsdWVcIiwge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldFZhbHVlKCk7XG4gICAgICAgIH0sXG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgIH0pO1xuICAgIEJlaGF2aW9yU3ViamVjdC5wcm90b3R5cGUuX3N1YnNjcmliZSA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyKSB7XG4gICAgICAgIHZhciBzdWJzY3JpcHRpb24gPSBfc3VwZXIucHJvdG90eXBlLl9zdWJzY3JpYmUuY2FsbCh0aGlzLCBzdWJzY3JpYmVyKTtcbiAgICAgICAgaWYgKHN1YnNjcmlwdGlvbiAmJiAhc3Vic2NyaXB0aW9uLmNsb3NlZCkge1xuICAgICAgICAgICAgc3Vic2NyaWJlci5uZXh0KHRoaXMuX3ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3Vic2NyaXB0aW9uO1xuICAgIH07XG4gICAgQmVoYXZpb3JTdWJqZWN0LnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzRXJyb3IpIHtcbiAgICAgICAgICAgIHRocm93IHRoaXMudGhyb3duRXJyb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5jbG9zZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPYmplY3RVbnN1YnNjcmliZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3ZhbHVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBCZWhhdmlvclN1YmplY3QucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgX3N1cGVyLnByb3RvdHlwZS5uZXh0LmNhbGwodGhpcywgdGhpcy5fdmFsdWUgPSB2YWx1ZSk7XG4gICAgfTtcbiAgICByZXR1cm4gQmVoYXZpb3JTdWJqZWN0O1xufShTdWJqZWN0KSk7XG5leHBvcnQgeyBCZWhhdmlvclN1YmplY3QgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUJlaGF2aW9yU3ViamVjdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgdHNsaWIsX3V0aWxfaXNTY2hlZHVsZXIsX3V0aWxfaXNBcnJheSxfT3V0ZXJTdWJzY3JpYmVyLF91dGlsX3N1YnNjcmliZVRvUmVzdWx0LF9mcm9tQXJyYXkgUFVSRV9JTVBPUlRTX0VORCAqL1xuaW1wb3J0ICogYXMgdHNsaWJfMSBmcm9tIFwidHNsaWJcIjtcbmltcG9ydCB7IGlzU2NoZWR1bGVyIH0gZnJvbSAnLi4vdXRpbC9pc1NjaGVkdWxlcic7XG5pbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi4vdXRpbC9pc0FycmF5JztcbmltcG9ydCB7IE91dGVyU3Vic2NyaWJlciB9IGZyb20gJy4uL091dGVyU3Vic2NyaWJlcic7XG5pbXBvcnQgeyBzdWJzY3JpYmVUb1Jlc3VsdCB9IGZyb20gJy4uL3V0aWwvc3Vic2NyaWJlVG9SZXN1bHQnO1xuaW1wb3J0IHsgZnJvbUFycmF5IH0gZnJvbSAnLi9mcm9tQXJyYXknO1xudmFyIE5PTkUgPSB7fTtcbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lTGF0ZXN0KCkge1xuICAgIHZhciBvYnNlcnZhYmxlcyA9IFtdO1xuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgIG9ic2VydmFibGVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciByZXN1bHRTZWxlY3RvciA9IG51bGw7XG4gICAgdmFyIHNjaGVkdWxlciA9IG51bGw7XG4gICAgaWYgKGlzU2NoZWR1bGVyKG9ic2VydmFibGVzW29ic2VydmFibGVzLmxlbmd0aCAtIDFdKSkge1xuICAgICAgICBzY2hlZHVsZXIgPSBvYnNlcnZhYmxlcy5wb3AoKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvYnNlcnZhYmxlc1tvYnNlcnZhYmxlcy5sZW5ndGggLSAxXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXN1bHRTZWxlY3RvciA9IG9ic2VydmFibGVzLnBvcCgpO1xuICAgIH1cbiAgICBpZiAob2JzZXJ2YWJsZXMubGVuZ3RoID09PSAxICYmIGlzQXJyYXkob2JzZXJ2YWJsZXNbMF0pKSB7XG4gICAgICAgIG9ic2VydmFibGVzID0gb2JzZXJ2YWJsZXNbMF07XG4gICAgfVxuICAgIHJldHVybiBmcm9tQXJyYXkob2JzZXJ2YWJsZXMsIHNjaGVkdWxlcikubGlmdChuZXcgQ29tYmluZUxhdGVzdE9wZXJhdG9yKHJlc3VsdFNlbGVjdG9yKSk7XG59XG52YXIgQ29tYmluZUxhdGVzdE9wZXJhdG9yID0gLypAX19QVVJFX18qLyAoZnVuY3Rpb24gKCkge1xuICAgIGZ1bmN0aW9uIENvbWJpbmVMYXRlc3RPcGVyYXRvcihyZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICB0aGlzLnJlc3VsdFNlbGVjdG9yID0gcmVzdWx0U2VsZWN0b3I7XG4gICAgfVxuICAgIENvbWJpbmVMYXRlc3RPcGVyYXRvci5wcm90b3R5cGUuY2FsbCA9IGZ1bmN0aW9uIChzdWJzY3JpYmVyLCBzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZS5zdWJzY3JpYmUobmV3IENvbWJpbmVMYXRlc3RTdWJzY3JpYmVyKHN1YnNjcmliZXIsIHRoaXMucmVzdWx0U2VsZWN0b3IpKTtcbiAgICB9O1xuICAgIHJldHVybiBDb21iaW5lTGF0ZXN0T3BlcmF0b3I7XG59KCkpO1xuZXhwb3J0IHsgQ29tYmluZUxhdGVzdE9wZXJhdG9yIH07XG52YXIgQ29tYmluZUxhdGVzdFN1YnNjcmliZXIgPSAvKkBfX1BVUkVfXyovIChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gICAgdHNsaWJfMS5fX2V4dGVuZHMoQ29tYmluZUxhdGVzdFN1YnNjcmliZXIsIF9zdXBlcik7XG4gICAgZnVuY3Rpb24gQ29tYmluZUxhdGVzdFN1YnNjcmliZXIoZGVzdGluYXRpb24sIHJlc3VsdFNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIGRlc3RpbmF0aW9uKSB8fCB0aGlzO1xuICAgICAgICBfdGhpcy5yZXN1bHRTZWxlY3RvciA9IHJlc3VsdFNlbGVjdG9yO1xuICAgICAgICBfdGhpcy5hY3RpdmUgPSAwO1xuICAgICAgICBfdGhpcy52YWx1ZXMgPSBbXTtcbiAgICAgICAgX3RoaXMub2JzZXJ2YWJsZXMgPSBbXTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cbiAgICBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlci5wcm90b3R5cGUuX25leHQgPSBmdW5jdGlvbiAob2JzZXJ2YWJsZSkge1xuICAgICAgICB0aGlzLnZhbHVlcy5wdXNoKE5PTkUpO1xuICAgICAgICB0aGlzLm9ic2VydmFibGVzLnB1c2gob2JzZXJ2YWJsZSk7XG4gICAgfTtcbiAgICBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlci5wcm90b3R5cGUuX2NvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgb2JzZXJ2YWJsZXMgPSB0aGlzLm9ic2VydmFibGVzO1xuICAgICAgICB2YXIgbGVuID0gb2JzZXJ2YWJsZXMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZSA9IGxlbjtcbiAgICAgICAgICAgIHRoaXMudG9SZXNwb25kID0gbGVuO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBvYnNlcnZhYmxlID0gb2JzZXJ2YWJsZXNbaV07XG4gICAgICAgICAgICAgICAgdGhpcy5hZGQoc3Vic2NyaWJlVG9SZXN1bHQodGhpcywgb2JzZXJ2YWJsZSwgb2JzZXJ2YWJsZSwgaSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlci5wcm90b3R5cGUubm90aWZ5Q29tcGxldGUgPSBmdW5jdGlvbiAodW51c2VkKSB7XG4gICAgICAgIGlmICgodGhpcy5hY3RpdmUgLT0gMSkgPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgQ29tYmluZUxhdGVzdFN1YnNjcmliZXIucHJvdG90eXBlLm5vdGlmeU5leHQgPSBmdW5jdGlvbiAob3V0ZXJWYWx1ZSwgaW5uZXJWYWx1ZSwgb3V0ZXJJbmRleCwgaW5uZXJJbmRleCwgaW5uZXJTdWIpIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IHRoaXMudmFsdWVzO1xuICAgICAgICB2YXIgb2xkVmFsID0gdmFsdWVzW291dGVySW5kZXhdO1xuICAgICAgICB2YXIgdG9SZXNwb25kID0gIXRoaXMudG9SZXNwb25kXG4gICAgICAgICAgICA/IDBcbiAgICAgICAgICAgIDogb2xkVmFsID09PSBOT05FID8gLS10aGlzLnRvUmVzcG9uZCA6IHRoaXMudG9SZXNwb25kO1xuICAgICAgICB2YWx1ZXNbb3V0ZXJJbmRleF0gPSBpbm5lclZhbHVlO1xuICAgICAgICBpZiAodG9SZXNwb25kID09PSAwKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5yZXN1bHRTZWxlY3Rvcikge1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyeVJlc3VsdFNlbGVjdG9yKHZhbHVlcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQodmFsdWVzLnNsaWNlKCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlci5wcm90b3R5cGUuX3RyeVJlc3VsdFNlbGVjdG9yID0gZnVuY3Rpb24gKHZhbHVlcykge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5yZXN1bHRTZWxlY3Rvci5hcHBseSh0aGlzLCB2YWx1ZXMpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIHRoaXMuZGVzdGluYXRpb24uZXJyb3IoZXJyKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRlc3RpbmF0aW9uLm5leHQocmVzdWx0KTtcbiAgICB9O1xuICAgIHJldHVybiBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlcjtcbn0oT3V0ZXJTdWJzY3JpYmVyKSk7XG5leHBvcnQgeyBDb21iaW5lTGF0ZXN0U3Vic2NyaWJlciB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29tYmluZUxhdGVzdC5qcy5tYXBcbiIsIi8qKiBQVVJFX0lNUE9SVFNfU1RBUlQgX21hcCBQVVJFX0lNUE9SVFNfRU5EICovXG5pbXBvcnQgeyBtYXAgfSBmcm9tICcuL21hcCc7XG5leHBvcnQgZnVuY3Rpb24gcGx1Y2soKSB7XG4gICAgdmFyIHByb3BlcnRpZXMgPSBbXTtcbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykge1xuICAgICAgICBwcm9wZXJ0aWVzW19pXSA9IGFyZ3VtZW50c1tfaV07XG4gICAgfVxuICAgIHZhciBsZW5ndGggPSBwcm9wZXJ0aWVzLmxlbmd0aDtcbiAgICBpZiAobGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignbGlzdCBvZiBwcm9wZXJ0aWVzIGNhbm5vdCBiZSBlbXB0eS4nKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzb3VyY2UpIHsgcmV0dXJuIG1hcChwbHVja2VyKHByb3BlcnRpZXMsIGxlbmd0aCkpKHNvdXJjZSk7IH07XG59XG5mdW5jdGlvbiBwbHVja2VyKHByb3BzLCBsZW5ndGgpIHtcbiAgICB2YXIgbWFwcGVyID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRQcm9wID0geDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHAgPSBjdXJyZW50UHJvcCAhPSBudWxsID8gY3VycmVudFByb3BbcHJvcHNbaV1dIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgaWYgKHAgIT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRQcm9wID0gcDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGN1cnJlbnRQcm9wO1xuICAgIH07XG4gICAgcmV0dXJuIG1hcHBlcjtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBsdWNrLmpzLm1hcFxuIiwiaW1wb3J0IHsgaW5qZWN0Q1NTIH0gZnJvbSBcIkB6aG91amlhaGFvL3V0aWxzXCI7XG5pbXBvcnQge0JBU0VfQ1NTfSBmcm9tIFwiLi9jb25zdGFudFwiO1xuXG5jb25zdCBjcmVhdGVJbnB1dCA9ICgpID0+IHtcbiAgICBsZXQgJFJlYWxJbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG5cbiAgICAkUmVhbElucHV0LnN0eWxlLmhlaWdodCA9ICcyMHB4JztcbiAgICAkUmVhbElucHV0LnN0eWxlLnBvc2l0aW9uID0gJ2ZpeGVkJztcbiAgICAkUmVhbElucHV0LnN0eWxlLnpJbmRleD0gJy0xJztcbiAgICAkUmVhbElucHV0LnN0eWxlLm91dGxpbmUgPSAnbm9uZSc7XG4gICAgJFJlYWxJbnB1dC5zdHlsZS5ib3JkZXI9ICdub25lJztcbiAgICAkUmVhbElucHV0LnN0eWxlLnRvcCA9ICcwJztcbiAgICAkUmVhbElucHV0LnN0eWxlLmxlZnQ9ICcwJztcbiAgICAkUmVhbElucHV0LnN0eWxlLm9wYWNpdHkgPSAnMCc7XG4gICAgaWYoc2NyZWVuLndpZHRoIDwgNTAwKSB7XG4gICAgICAgICRSZWFsSW5wdXQuc3R5bGUudHJhbnNmb3JtID0gJ3NjYWxlKDApJztcbiAgICB9XG4gICAgJFJlYWxJbnB1dC5zdHlsZS5jb2xvcj0gJ3RyYW5zcGFyZW50JztcbiAgICAkUmVhbElucHV0LnNldEF0dHJpYnV0ZShcImF1dG9jb21wbGV0ZVwiLCBcIm9mZlwiKTtcblxuICAgICRSZWFsSW5wdXQub25ibHVyPWZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAkUmVhbElucHV0LmZvY3VzKCk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4gJFJlYWxJbnB1dDtcbn07XG5cbmNvbnN0IHVwZGF0ZVBvcyA9ICgkd3JhcHBlciwgJGlucHV0KSA9PiB7XG4gICAgY29uc3Qge2xlZnQsIHRvcH0gPSAkd3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAkaW5wdXQuc3R5bGUubGVmdCA9IGAke2xlZnR9cHhgO1xuICAgICRpbnB1dC5zdHlsZS50b3AgPSBgJHt0b3B9cHhgO1xufTtcblxuY29uc3QgcmVuZGVyUHNldWRvSW5wdXQgPSAoJHdyYXBwZXIsICRpbnB1dCkgPT4ge1xuICAgIHVwZGF0ZVBvcygkd3JhcHBlciwgJGlucHV0KTtcbiAgICByZXR1cm4gZnVuY3Rpb24oaW5wdXRTdGF0ZSkge1xuICAgICAgICB1cGRhdGVQb3MoJHdyYXBwZXIsICRpbnB1dCk7XG4gICAgICAgIGNvbnN0IGNoYXJUcGwgPSAoY2hhciwgLi4uY2xhc3NOYW1lKSA9PlxuICAgICAgICAgICAgYDxzcGFuIGNsYXNzPVwiJHtjbGFzc05hbWUuam9pbignICcpfVwiPiR7Y2hhcn08L3NwYW4+YDtcblxuICAgICAgICBsZXQgaGFzU2VsZWN0aW9uID0gaW5wdXRTdGF0ZS5zdGFydCAhPT0gaW5wdXRTdGF0ZS5lbmQsXG4gICAgICAgICAgICBpc0VtcHR5ID0gaW5wdXRTdGF0ZS5pbnB1dFN0ciA9PT0gXCJcIjtcbiAgICAgICAgY29uc3QgZGV0ZXJtaW5lQ2xhc3NOYW1lID0gKGNoYXJJZHgpID0+IHtcbiAgICAgICAgICAgIGlmKGlzRW1wdHkpIHJldHVybiAnYmxpbmsnO1xuICAgICAgICAgICAgaWYoIGhhc1NlbGVjdGlvbiAmJlxuICAgICAgICAgICAgICAgIGNoYXJJZHggPj0gaW5wdXRTdGF0ZS5zdGFydCAmJlxuICAgICAgICAgICAgICAgIGNoYXJJZHggPD0gaW5wdXRTdGF0ZS5lbmRcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgIHJldHVybiAnaGlnaGxpZ2h0JztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIGNoYXJJZHggPT09IGlucHV0U3RhdGUuc3RhcnQgPyAnYmxpbmsnIDogJydcbiAgICAgICAgfTtcblxuICAgICAgICBsZXQgaW5wdXRDaGFyQXJyID0gaW5wdXRTdGF0ZS5pbnB1dFN0ci5zcGxpdCgnJyk7XG4gICAgICAgIGxldCB0b1JlbmRlciA9IGlucHV0Q2hhckFyci5tYXAoY2ggPT4gY2ggPT09ICcgJyA/ICcmbmJzcDsnIDogY2gpO1xuICAgICAgICBpZighaGFzU2VsZWN0aW9uIHx8IGlzRW1wdHkpe1xuICAgICAgICAgICAgdG9SZW5kZXIucHVzaChcIiZuYnNwO1wiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRvZG86IOW6lOivpeWPqua4suafk+acieWPmOWKqOeahCBkb21cbiAgICAgICAgJHdyYXBwZXIuaW5uZXJIVE1MID0gdG9SZW5kZXIubWFwKFxuICAgICAgICAgICAgKGNoLCBpZHgpID0+IGNoYXJUcGwoY2gsIGRldGVybWluZUNsYXNzTmFtZShpZHgpKVxuICAgICAgICApLmpvaW4oJycpO1xuICAgIH1cbn07XG5cbmNvbnN0IGluaXQgPSAoJHdyYXBwZXIsICRpbnB1dCwgdGhlbWU9e30pID0+IHtcbiAgICBpbmplY3RDU1MoQkFTRV9DU1MuY3Vyc29yKHRoZW1lKSk7XG4gICAgJHdyYXBwZXIuc3R5bGUuZm9udEZhbWlseSA9IEJBU0VfQ1NTLmZvbnRGYW1pbHk7XG4gICAgJHdyYXBwZXIuc3R5bGUuZm9udFNpemUgPSBCQVNFX0NTUy5mb250U2l6ZTtcbiAgICAkd3JhcHBlci5zdHlsZS53b3JkQnJlYWsgPSAnYnJlYWstYWxsJztcbiAgICByZW5kZXJQc2V1ZG9JbnB1dCgkd3JhcHBlciwgJGlucHV0KSh7XG4gICAgICAgIGlucHV0U3RyOiBcIlwiLFxuICAgICAgICBzdGFydDogMCxcbiAgICAgICAgZW5kOiAwXG4gICAgfSk7XG59O1xuXG5cbmV4cG9ydCB7aW5pdCwgY3JlYXRlSW5wdXQsIHJlbmRlclBzZXVkb0lucHV0LCB1cGRhdGVQb3N9IiwiaW1wb3J0IHtcbiAgICBmcm9tRXZlbnQsXG4gICAgbWVyZ2UsXG4gICAgY29tYmluZUxhdGVzdCxcbiAgICBCZWhhdmlvclN1YmplY3Rcbn0gZnJvbSAncnhqcydcblxuaW1wb3J0IHtcbiAgICBtYXAsXG4gICAgcGx1Y2ssXG4gICAgZGlzdGluY3RVbnRpbENoYW5nZWQsXG4gICAgd2l0aExhdGVzdEZyb20sXG4gICAgZmlsdGVyLFxufSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbmltcG9ydCB7XG4gICAgTU9WRV9LRVksXG4gICAgS0VZU1xufSBmcm9tIFwiLi9jb25zdGFudFwiO1xuXG5pbXBvcnQge3RyaWdnZXJ9IGZyb20gXCJAemhvdWppYWhhby91dGlsc1wiO1xuXG5pbXBvcnQge1xuICAgIGluaXQsXG4gICAgY3JlYXRlSW5wdXQsXG4gICAgcmVuZGVyUHNldWRvSW5wdXRcbn0gZnJvbSAnLi9pbnB1dC5qcydcbmltcG9ydCB7dXBkYXRlUG9zfSBmcm9tIFwiLi9pbnB1dFwiO1xuXG4vKipcbiAqIEBwYXJhbSAkaW5wdXRXcmFwcGVyXG4gKiBAcGFyYW0ge29iamVjdH0gdGhlbWVcbiAqIEBwYXJhbSB7c3RyaW5nfSB0aGVtZS5jdXJzb3JDb2xvclxuICogQHJldHVybnMge3tlbnRlciQ6IE9ic2VydmFibGU8c3RyaW5nPiwgaW5wdXQkOiBPYnNlcnZhYmxlPGFueT4sIGRpc2FibGVkLCB2YWx1ZSwgdGFyZ2V0OiAqfX1cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKCRpbnB1dFdyYXBwZXIsIHRoZW1lPXt9KSB7XG4gICAgaWYoISRpbnB1dFdyYXBwZXIpIHtcbiAgICAgICAgdGhyb3cgJ0lucHV0IHdyYXBwZXIgZWxlbWVudCBtaXNzaW5nLidcbiAgICB9XG4gICAgLy8gdWlcbiAgICBsZXQgJGlucHV0ID0gY3JlYXRlSW5wdXQoKTtcbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKCRpbnB1dCk7XG4gICAgJGlucHV0LmZvY3VzKCk7XG5cbiAgICBpbml0KCRpbnB1dFdyYXBwZXIsICRpbnB1dCwgdGhlbWUpO1xuXG4gICAgLy8gc3RyZWFtXG4gICAgbGV0IGlucHV0JCA9IGZyb21FdmVudCgkaW5wdXQsICdpbnB1dCcpLFxuICAgICAgICBzZWxlY3QkID0gZnJvbUV2ZW50KCRpbnB1dCwgJ3NlbGVjdCcpLFxuICAgICAgICBrZXl1cCQgPSBmcm9tRXZlbnQoJGlucHV0LCAna2V5dXAnKTtcblxuICAgIGxldCBpbnB1dFN0ciQgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KFwiXCIpO1xuXG4gICAgaW5wdXQkLnBpcGUoXG4gICAgICAgIHBsdWNrKCd0YXJnZXQnLCAndmFsdWUnKVxuICAgICkuc3Vic2NyaWJlKHN0ciA9PiBpbnB1dFN0ciQubmV4dChzdHIpKTtcblxuICAgIGxldCBtb3ZlQ3Vyc29yJCA9IGtleXVwJC5waXBlKFxuICAgICAgICAgICAgZmlsdGVyKGV2dCA9PiBNT1ZFX0tFWS5pbmNsdWRlcyhldnQua2V5KSksXG4gICAgICAgICk7XG5cbiAgICBsZXQgZW50ZXIkID0ga2V5dXAkLnBpcGUoXG4gICAgICAgICAgICBmaWx0ZXIoZXZ0ID0+IGV2dC5rZXkgPT09IEtFWVMuZW50ZXIpLFxuICAgICAgICAgICAgZmlsdGVyKCh7dGFyZ2V0fSkgPT4gIXRhcmdldC5kaXNhYmxlZCksXG4gICAgICAgICAgICB3aXRoTGF0ZXN0RnJvbShpbnB1dFN0ciQpLFxuICAgICAgICAgICAgbWFwKChbZXZ0LCBpbnB1dFN0cl0pID0+IGlucHV0U3RyKSxcbiAgICAgICAgICAgIGZpbHRlcihzdHIgPT4gISFzdHIpXG4gICAgICAgICk7XG5cbiAgICBsZXQgY3Vyc29yUG9zQ2hhbmdlJCA9IG1lcmdlKGlucHV0JCwgbW92ZUN1cnNvciQsIHNlbGVjdCQpLFxuICAgICAgICBjdXJzb3JQb3MkID0gY3Vyc29yUG9zQ2hhbmdlJC5waXBlKFxuICAgICAgICAgICAgbWFwKGV2dCA9PiAoe1xuICAgICAgICAgICAgICAgIHN0YXJ0OiBldnQudGFyZ2V0LnNlbGVjdGlvblN0YXJ0LFxuICAgICAgICAgICAgICAgIGVuZDogZXZ0LnRhcmdldC5zZWxlY3Rpb25FbmRcbiAgICAgICAgICAgIH0pKVxuICAgICAgICApO1xuXG4gICAgbGV0IGlucHV0U3RhdGUkID0gY29tYmluZUxhdGVzdChpbnB1dFN0ciQsIGN1cnNvclBvcyQpLnBpcGUoXG4gICAgICAgICAgICBtYXAoKFtpbnB1dFN0ciwgcG9zXSkgPT4gKHtpbnB1dFN0ciwgLi4ucG9zfSkpLFxuICAgICAgICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKHByZXZTdGF0ZSwgbmV4dFN0YXRlKSA9PlxuICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHByZXZTdGF0ZSkgPT09IEpTT04uc3RyaW5naWZ5KG5leHRTdGF0ZSkpXG4gICAgICAgICk7XG5cbiAgICAvLyByZW5kZXJcbiAgICBjb25zdCByZW5kZXIgPSByZW5kZXJQc2V1ZG9JbnB1dCgkaW5wdXRXcmFwcGVyLCAkaW5wdXQpO1xuICAgIGlucHV0U3RhdGUkLnN1YnNjcmliZShyZW5kZXIpO1xuXG4gICAgLy8gYXBpXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZW50ZXIkLFxuICAgICAgICBpbnB1dCQsXG4gICAgICAgIGdldCB0YXJnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gJGlucHV0O1xuICAgICAgICB9LFxuICAgICAgICBzZXQgdmFsdWUodmFsKSB7XG4gICAgICAgICAgICAkaW5wdXQudmFsdWUgPSB2YWw7XG4gICAgICAgICAgICBpbnB1dFN0ciQubmV4dCh2YWwpO1xuICAgICAgICAgICAgaWYgKHZhbCA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVQb3MoJGlucHV0V3JhcHBlciwgJGlucHV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRyaWdnZXIoJGlucHV0LCBNT1ZFX0tFWVswXSlcbiAgICAgICAgfSxcbiAgICAgICAgc2V0IGRpc2FibGVkKGRpc2FibGVkKSB7XG4gICAgICAgICAgICBsZXQgJGN1cnNvciA9ICRpbnB1dFdyYXBwZXIucXVlcnlTZWxlY3RvcignLmJsaW5rJyk7XG4gICAgICAgICAgICBpZihkaXNhYmxlZCl7XG4gICAgICAgICAgICAgICAgJGlucHV0LnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAkY3Vyc29yLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XG5cbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICRjdXJzb3IuY2xhc3NMaXN0LnJlbW92ZSgnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgICAgICAkaW5wdXQucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgICAgICAgICAgICRpbnB1dC5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbn1cbiIsImltcG9ydCB7XG4gICAgQkFTRV9DU1MsXG59IGZyb20gXCIuLi9wc2V1ZG9JbnB1dC9jb25zdGFudFwiO1xuXG5pbXBvcnQge0RFRkFVTFRfU1RZTEV9IGZyb20gXCIuL2NvbnN0YW50XCI7XG5cbmltcG9ydCB7XG4gICAgaW5qZWN0Q1NTLFxuICAgIGdldExhc3RFbGUsXG4gICAgbWFrZVRleHRTcGlubmVyXG59IGZyb20gXCJAemhvdWppYWhhby91dGlsc1wiO1xuaW1wb3J0IElucHV0IGZyb20gJy4uL3BzZXVkb0lucHV0LydcblxuY29uc3Qgc3Bpbm5lciA9IG1ha2VUZXh0U3Bpbm5lcigpO1xuXG5jb25zdCB0ZXJtaW5hbFRwbCA9ICgpID0+IHtcbiAgICByZXR1cm4gYFxuICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPGRpdiBpZD1cImhpc3Qtc2Vzc1wiPjwvZGl2PiBcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJjdXJyLXNlc3NcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2Vzc2lvblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicHJvbXB0XCI+JDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY21kXCIgaWQ9XCJpbnB1dFwiPjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj4gXG4gICAgICAgIDwvZGl2PmBcbn07XG5cbmNvbnN0IHNlc3Npb25UcGwgPSAoe2lucHV0LCBvdXRwdXQsIHNob3VsZEhpZGVJbnB1dCwgcHJpbnR9KSA9PiB7XG4gICAgbGV0IHJlc3VsdCwgaXNSaWNoVGV4dDtcblxuICAgIGlmKHR5cGVvZiBvdXRwdXQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgcmVzdWx0ID0gb3V0cHV0O1xuICAgIH0gZWxzZSBpZih0eXBlb2Ygb3V0cHV0ID09PSAnb2JqZWN0Jykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmVzdWx0ID0gb3V0cHV0Lmh0bWwgfHwgSlNPTi5zdHJpbmdpZnkob3V0cHV0KTtcbiAgICAgICAgICAgIGlmKG91dHB1dC5odG1sKSB7XG4gICAgICAgICAgICAgICAgaXNSaWNoVGV4dCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlzUmljaFRleHQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJlc3VsdCA9ICdFUlJPUjog5LiN5pSv5oyB55qE5pi+56S657G75Z6LJ1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmKG91dHB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlc3VsdCAgPSBcIlwiO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9ICdFUlJPUjog5LiN5pSv5oyB55qE5pi+56S657G75Z6LJ1xuICAgIH1cblxuICAgIGlmIChvdXRwdXQgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBjb25zdCB7bWVzc2FnZSwgc3RhY2t9ID0gb3V0cHV0O1xuICAgICAgICByZXN1bHQgPSBgJHttZXNzYWdlfVxcblxcbiR7c3RhY2t9YFxuICAgIH1cblxuICAgIGxldCByZXN1bHRTdHIgPSBpc1JpY2hUZXh0XG4gICAgICAgID8gcmVzdWx0XG4gICAgICAgIDogYDxwcmUgc3R5bGU9XCIke3ByaW50ID8gJ21hcmdpbjogMCcgOiAnJ31cIj4ke3Jlc3VsdCB8fCAnJ308L3ByZT5gO1xuXG4gICAgY29uc3QgaW5wdXRTdHIgPSBgXG4gICAgICA8ZGl2IGNsYXNzPVwiaW5wdXRcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cInByb21wdFwiPiQ8L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJjbWRcIj5cbiAgICAgICAgICAgICR7aW5wdXQgfHwgJyd9XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgPC9kaXY+XG4gICAgYDtcblxuICAgIHJldHVybiBgPGRpdiBjbGFzcz1cInNlc3Npb25cIj5cbiAgICAgICAgICAgICR7c2hvdWxkSGlkZUlucHV0ID8gJycgOiBpbnB1dFN0cn1cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJvdXRwdXRcIj5cbiAgICAgICAgICAgICAgICAke3Jlc3VsdFN0cn1cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5gXG59O1xuXG5jb25zdCByZW5kZXJUZXJtaW5hbCA9IChzZXNzaW9uRGF0YSkgPT4ge1xuICAgIGxldCAkaGlzdFNlc3Npb24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaGlzdC1zZXNzJyksXG4gICAgICAgICRjdXJyZW50U2VzcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNjdXJyLXNlc3MnKSxcbiAgICAgICAgJGN1cnJlbnRTZXNzUHJvbXB0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2N1cnItc2VzcyAuaW5wdXQgLnByb21wdCcpO1xuXG4gICAgbGV0IGxhc3RTZXNzRGF0YSA9IGdldExhc3RFbGUoc2Vzc2lvbkRhdGEpLFxuICAgICAgICBpc0xvYWRpbmcgPSBsYXN0U2Vzc0RhdGEgJiYgbGFzdFNlc3NEYXRhLmxvYWRpbmc7XG5cbiAgICBjb25zdCBzaG91bGRIaWRlSW5wdXQgPSAoaWR4LCBjdXJyZW50RGF0YSkgPT4ge1xuICAgICAgICBjb25zdCBwcmV2U2Vzc0RhdGEgPSBzZXNzaW9uRGF0YVtpZHggLSAxXTtcbiAgICAgICAgcmV0dXJuIHByZXZTZXNzRGF0YVxuICAgICAgICAgICAgJiYgcHJldlNlc3NEYXRhLnByaW50XG4gICAgICAgICAgICAmJiBwcmV2U2Vzc0RhdGEuaW5wdXQgPT09IGN1cnJlbnREYXRhLmlucHV0XG4gICAgfTtcblxuICAgIGNvbnN0IHRtcEN1cnNvciA9IGlzTG9hZGluZyA/IGA8c3BhbiBjbGFzcz1cImJsaW5rXCI+Jm5ic3A7PC9zcGFuPmAgOiAnJztcbiAgICBpZihzZXNzaW9uRGF0YS5sZW5ndGggPCAxKSB7XG4gICAgICAgICRoaXN0U2Vzc2lvbi5pbm5lckhUTUwgPSBcIlwiO1xuICAgIH1lbHNle1xuICAgICAgICAkaGlzdFNlc3Npb24uaW5uZXJIVE1MID0gc2Vzc2lvbkRhdGEubWFwKChkYXRhLCBpZHgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBzZXNzaW9uVHBsKHsgLi4uZGF0YSwgc2hvdWxkSGlkZUlucHV0OiBzaG91bGRIaWRlSW5wdXQoaWR4LCBkYXRhKX0pO1xuICAgICAgICB9KS5qb2luKCcnKSArIHRtcEN1cnNvcjtcbiAgICAgICAgLy8gbGV0ICRvdXRwdXQgPSAkaGlzdFNlc3Npb24ucXVlcnlTZWxlY3RvcignI2hpc3Qtc2VzcyAuc2Vzc2lvbjpsYXN0LWNoaWxkID4gLm91dHB1dCcpO1xuICAgICAgICBpZihpc0xvYWRpbmcpIHtcbiAgICAgICAgICAgIC8vIHNwaW5uZXIodHJ1ZSwgJG91dHB1dCk7XG4gICAgICAgICAgICAkY3VycmVudFNlc3Muc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgc3Bpbm5lcihmYWxzZSk7XG4gICAgICAgICAgICAkY3VycmVudFNlc3Muc3R5bGUuZGlzcGxheSA9ICdibG9jayc7XG4gICAgICAgIH1cbiAgICB9XG5cbn07XG5cbmNvbnN0IGluaXQgPSAoJHdyYXBwZXIsIHRoZW1lPXt9KSA9PiB7XG4gICAgaW5qZWN0Q1NTKERFRkFVTFRfU1RZTEUpO1xuICAgICR3cmFwcGVyLmlubmVySFRNTCA9IHRlcm1pbmFsVHBsKCk7XG4gICAgY29uc3QgJHRlcm1pbmFsID0gJHdyYXBwZXIuZmlyc3RFbGVtZW50Q2hpbGQ7XG4gICAgY29uc3QgJGlucHV0Rm9yVGVybWluYWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5wdXQnKTtcbiAgICBjb25zdCBpbnB1dCA9IElucHV0KCRpbnB1dEZvclRlcm1pbmFsLCB0aGVtZSk7XG4gICAgY29uc3QgaW5wdXRIZWlnaHQgPSAxNDtcbiAgICAkdGVybWluYWwuc3R5bGUuaGVpZ2h0ID0gJ2NhbGMoMTAwJSAtIDEwcHgpJztcbiAgICAkdGVybWluYWwuc3R5bGUub3ZlcmZsb3cgPSAnYXV0byc7XG4gICAgJHRlcm1pbmFsLnN0eWxlLmZvbnRGYW1pbHkgPSBCQVNFX0NTUy5mb250RmFtaWx5O1xuICAgICR0ZXJtaW5hbC5zdHlsZS5iYWNrZ3JvdW5kID0gdGhlbWUuYmFja2dyb3VuZCB8fCAndW5zZXQnO1xuICAgICR0ZXJtaW5hbC5zdHlsZS5jb2xvciA9IHRoZW1lLmNvbG9yIHx8ICcjMDAwJztcbiAgICAkdGVybWluYWwuc3R5bGUuZm9udFNpemUgPSBCQVNFX0NTUy5mb250U2l6ZTtcbiAgICAkdGVybWluYWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgY29uc3Qge3RvcDogaW5wdXRZfSA9IGlucHV0LnRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgaWYgKCBldmVudC5jbGllbnRZID4gaW5wdXRZXG4gICAgICAgICAgICB8fCBNYXRoLmFicyhldmVudC5jbGllbnRZIC0gaW5wdXRZKSA8IGlucHV0SGVpZ2h0XG4gICAgICAgICkge1xuICAgICAgICAgICAgaW5wdXQudGFyZ2V0LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGNhcHR1cmU6IGZhbHNlXG4gICAgfSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgJHRlcm1pbmFsLFxuICAgICAgICBpbnB1dFxuICAgIH07XG59O1xuXG5leHBvcnQge3JlbmRlclRlcm1pbmFsLCBpbml0fVxuIiwiaW1wb3J0IHtjb21wbGV0aW9uV2l0aH0gZnJvbSBcIkB6aG91amlhaGFvL3V0aWxzXCJcblxubGV0IEhJU1QgPSBbXTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChoaXN0ID0gW10sIGNtZCwgaW5wdXQpIHtcbiAgICBzd2l0Y2ggKGNtZCkge1xuICAgICAgICBjYXNlICdjbGVhcic6XG4gICAgICAgICAgICBISVNUID0gWy4uLkhJU1QsIC4uLmhpc3QsIHtpbnB1dDogJ2NsZWFyJywgb3V0cHV0OiAnJ31dO1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICBjYXNlICdoaXN0b3J5JzpcbiAgICAgICAgICAgIGxldCBhbGxIaXN0ID0gWy4uLkhJU1QsIC4uLmhpc3RdO1xuICAgICAgICAgICAgbGV0IGhpc3RTdHIgPSBhbGxIaXN0Lm1hcCgoY29tbWFuZCwgaWR4KSA9PntcbiAgICAgICAgICAgICAgICBsZXQgbnVtID0gY29tcGxldGlvbldpdGgoJyAnKShpZHggKyAxLCBhbGxIaXN0Lmxlbmd0aCArIDEpO1xuICAgICAgICAgICAgICAgIHJldHVybiBudW0gKyAnLiAnICsgY29tbWFuZC5pbnB1dDtcbiAgICAgICAgICAgIH0pLmpvaW4oXCJcXG5cIik7XG5cbiAgICAgICAgICAgIGhpc3QucHVzaCh7XG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgb3V0cHV0OiBoaXN0U3RyXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBoaXN0O1xuICAgICAgICBkZWZhdWx0OiByZXR1cm4gaGlzdDtcbiAgICB9XG59IiwiaW1wb3J0IHBhcnNlV2l0aCBmcm9tIFwiLi9wYXJzZXJcIjtcbmltcG9ydCB7S0VZU30gZnJvbSBcIi4uL3BzZXVkb0lucHV0L2NvbnN0YW50XCI7XG5pbXBvcnQge2dldExhc3RFbGUsIHByb21pc2VPbmVCeU9uZSwgdHJpZ2dlciwgc2Nyb2xsVG9Cb3R0b20sIGh1bWFuaXplcklucHV0fSBmcm9tIFwiQHpob3VqaWFoYW8vdXRpbHNcIjtcbmltcG9ydCB7XG4gICAgQlVJTFRfSU5fQ01EUyxcbn0gZnJvbSBcIi4vY29uc3RhbnRcIjtcbmltcG9ydCB7XG4gICAgU3ViamVjdCxcbiAgICBvZixcbiAgICBtZXJnZSxcbn0gZnJvbSAncnhqcydcbmltcG9ydCBleGUgZnJvbSBcIi4vZXhlXCI7XG5pbXBvcnQge1xuICAgIG1hcCxcbiAgICBzY2FuLFxuICAgIGZpbHRlcixcbiAgICB3aXRoTGF0ZXN0RnJvbVxufSBmcm9tICdyeGpzL29wZXJhdG9ycydcbmltcG9ydCB7XG4gICAgcmVuZGVyVGVybWluYWwsXG4gICAgaW5pdCxcbn0gZnJvbSBcIi4vdGVybWluYWxcIjtcbmltcG9ydCBoaXN0SW50ZXJjZXB0b3IgZnJvbSAnLi9oaXN0SW50ZXJjZXB0b3InXG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHBzZXVkb1Rlcm1pbmFsKCR0ZXJtaW5hbFdyYXBwZXIsIHRoZW1lPXt9KSB7XG4gICAgaWYgKCEkdGVybWluYWxXcmFwcGVyKSB7XG4gICAgICAgIHRocm93ICd3cmFwcGVyIGVsZW1lbnQgbm90IGZvdW5kJ1xuICAgIH1cbiAgICBjb25zdCB7JHRlcm1pbmFsLCBpbnB1dH0gPSBpbml0KCR0ZXJtaW5hbFdyYXBwZXIsIHRoZW1lKTtcbiAgICBsZXQgdXNlckNtZHMkID0gbmV3IFN1YmplY3QoKTtcbiAgICBsZXQgc3lzQ21kcyQgPSBvZihCVUlMVF9JTl9DTURTKTtcbiAgICBsZXQgY21kU2V0JCA9IG1lcmdlKHVzZXJDbWRzJCwgc3lzQ21kcyQpLnBpcGUoXG4gICAgICAgIHNjYW4oKG5ld0NtZCwgb2xkQ21kKSA9PiAoe1xuICAgICAgICAgICAgLi4ub2xkQ21kLFxuICAgICAgICAgICAgLi4ubmV3Q21kLFxuICAgICAgICB9KSwge30pLFxuICAgICAgICBtYXAoKGNtZCkgPT4gKHtcbiAgICAgICAgICAgIC4uLmNtZCxcbiAgICAgICAgICAgIC4uLkJVSUxUX0lOX0NNRFNcbiAgICAgICAgfSkpXG4gICAgKTtcblxuICAgIGNvbnN0IGVudFN1YiA9IGlucHV0LmVudGVyJC5waXBlKFxuICAgICAgICB3aXRoTGF0ZXN0RnJvbShjbWRTZXQkKSxcbiAgICAgICAgbWFwKChbaW5wdXQsIGNtZFNldF0pID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgcGFyc2VkUmVzdWx0OiBwYXJzZVdpdGgoY21kU2V0KShpbnB1dCksXG4gICAgICAgICAgICAgICAgY21kU2V0LFxuICAgICAgICAgICAgICAgICR0ZXJtaW5hbFxuICAgICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgbWFwKGV4ZS5pbilcbiAgICApLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgIGlucHV0LnRhcmdldC5ibHVyKCk7XG4gICAgfSk7XG5cbiAgICBsZXQgc2Vzc2lvbkRhdGEkID0gZXhlLm91dCQucGlwZShcbiAgICAgICAgZmlsdGVyKHggPT4geCksXG4gICAgICAgIHNjYW4oKGhpc3QsIHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgbGV0IGlzU3BlY2lhbENtZCA9IGNtZCA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IGlzU3BlY2lhbCA9IE9iamVjdC5rZXlzKEJVSUxUX0lOX0NNRFMpLmluY2x1ZGVzKGNtZCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIWlzU3BlY2lhbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBsZXQgaGFuZGxlciA9IEJVSUxUX0lOX0NNRFNbY21kXS5oYW5kbGVyIHx8IEJVSUxUX0lOX0NNRFNbY21kXTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpc1NwZWNpYWwgPSBoYW5kbGVyKCkgPT09IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpc1NwZWNpYWw7XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2VcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBsZXQgY21kID0gcmVzdWx0XG4gICAgICAgICAgICAgICAgPyByZXN1bHQuaW5wdXQudHJpbSgpLnNwbGl0KC9cXHMrLylbMF1cbiAgICAgICAgICAgICAgICA6ICcnO1xuXG4gICAgICAgICAgICBpZiAocmVzdWx0ICYmIGlzU3BlY2lhbENtZChjbWQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGhpc3RJbnRlcmNlcHRvcihoaXN0ICYmIGhpc3Quc2xpY2UoKSwgY21kLCByZXN1bHQuaW5wdXQpXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBsYXN0UmVzdWx0ID0gaGlzdC5zbGljZSgpLnBvcCgpO1xuICAgICAgICAgICAgaWYgKGxhc3RSZXN1bHQgJiYgbGFzdFJlc3VsdC5sb2FkaW5nICYmICFsYXN0UmVzdWx0LnByaW50KSB7XG4gICAgICAgICAgICAgICAgaGlzdC5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhpc3QucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgcmV0dXJuIGhpc3RcbiAgICAgICAgfSwgW10pXG4gICAgKTtcblxuICAgIGNvbnN0IHNlc3NTdWIgPSBzZXNzaW9uRGF0YSQuc3Vic2NyaWJlKChkYXRhKSA9PiB7XG4gICAgICAgIGxldCBsYXN0RGF0YSA9IGdldExhc3RFbGUoZGF0YSk7XG4gICAgICAgIHJlbmRlclRlcm1pbmFsKGRhdGEpO1xuICAgICAgICBzY3JvbGxUb0JvdHRvbSgkdGVybWluYWwpO1xuXG4gICAgICAgIGlucHV0LmRpc2FibGVkID0gbGFzdERhdGEgJiYgbGFzdERhdGEubG9hZGluZztcbiAgICAgICAgaW5wdXQudmFsdWUgPSBcIlwiO1xuICAgIH0pO1xuXG4gICAgaW5wdXQuaW5wdXQkLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgIHNjcm9sbFRvQm90dG9tKCR0ZXJtaW5hbClcbiAgICB9KTtcblxuICAgIGNvbnN0IGh1bWFuaXplckV4ZWMgPSBhc3luYyAoY21kU3RyKSA9PiB7XG4gICAgICAgIHNjcm9sbFRvQm90dG9tKCR0ZXJtaW5hbCk7XG4gICAgICAgIGF3YWl0IGh1bWFuaXplcklucHV0KGNtZFN0ciwgdiA9PiBpbnB1dC52YWx1ZSA9IHYsIDUwKTtcbiAgICAgICAgLy8gaGFjay5cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGV4ZS5vdXQkLnBpcGUoXG4gICAgICAgICAgICAgICAgZmlsdGVyKHggPT4geCksXG4gICAgICAgICAgICAgICAgZmlsdGVyKCh7bG9hZGluZ30pID0+IGxvYWRpbmcgIT09IHRydWUpXG4gICAgICAgICAgICApLnN1YnNjcmliZSgoe2lucHV0fSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmKGlucHV0ID09PSBjbWRTdHIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0cmlnZ2VyKGlucHV0LnRhcmdldCwgS0VZUy5lbnRlcik7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBzZXQgZGlzYWJsZWQodmFsKSB7XG4gICAgICAgICAgICBpbnB1dC5kaXNhYmxlZCA9IHZhbDtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0IGNvbW1hbmRzKGNtZFNldCkge1xuICAgICAgICAgICAgdXNlckNtZHMkLm5leHQoY21kU2V0KTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0IGN1cnJlbnRJbnB1dCh2YWx1ZSkge1xuICAgICAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgfSxcbiAgICAgICAgZGVzdHJveSgpIHtcbiAgICAgICAgICAgIHNlc3NTdWIudW5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgIGVudFN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgJHRlcm1pbmFsLnJlbW92ZSgpO1xuICAgICAgICAgICAgaW5wdXQudGFyZ2V0LnJlbW92ZSgpO1xuICAgICAgICB9LFxuICAgICAgICBhZGRDb21tYW5kcyhjbWRTZXQpIHtcbiAgICAgICAgICAgIHVzZXJDbWRzJC5uZXh0KGNtZFNldCk7XG4gICAgICAgIH0sXG4gICAgICAgIGlucHV0KHZhbHVlLCBlbmFibGVIdW1hbml6ZXJJbnB1dEVmZmVjdCkge1xuICAgICAgICAgICAgaWYgKGVuYWJsZUh1bWFuaXplcklucHV0RWZmZWN0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGh1bWFuaXplcklucHV0KHZhbHVlLCAoY3VycmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dC52YWx1ZSA9IGN1cnJlbnQ7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaW5wdXQudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgaHVtYW5pemVyRXhlYyxcbiAgICAgICAgaHVtYW5pemVyRXhlY0NtZEFycjogKGNtZEFycikgPT4ge1xuICAgICAgICAgICAgbGV0IGV4ZWNGdW5BcnIgPSBjbWRBcnIubWFwKGNtZCA9PiAoKSA9PiBodW1hbml6ZXJFeGVjKGNtZCkpO1xuICAgICAgICAgICAgcmV0dXJuIHByb21pc2VPbmVCeU9uZShleGVjRnVuQXJyKTtcbiAgICAgICAgfSxcbiAgICAgICAgZXhlYzogKGNtZCkgPT4ge1xuICAgICAgICAgICAgaW5wdXQudmFsdWUgPSBjbWQ7XG4gICAgICAgICAgICB0cmlnZ2VyKGlucHV0LnRhcmdldCwgS0VZUy5lbnRlcik7XG4gICAgICAgIH1cbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6IiJ9