(this.webpackJsonp=this.webpackJsonp||[]).push([[3],{"8oxB":function(e,t){var n,r,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===i||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:i}catch(e){n=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var u,s=[],f=!1,l=-1;function p(){f&&u&&(f=!1,u.length?s=u.concat(s):l=-1,s.length&&d())}function d(){if(!f){var e=c(p);f=!0;for(var t=s.length;t;){for(u=s,s=[];++l<t;)u&&u[l].run();l=-1,t=s.length}u=null,f=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];s.push(new h(e,t)),1!==s.length||f||c(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},N0Pr:function(e){e.exports={_from:"@zhoujiahao/pm@^1.0.41",_id:"@zhoujiahao/pm@1.0.43",_inBundle:!1,_integrity:"sha512-CvfvtI11N6Gisn2ImlKP67xJXxHeeoSRWqCZeIKYZnu0yBs97iHwlg5QmR8NRN+WkJKswolAe67nn44rB2Xy5g==",_location:"/@zhoujiahao/pm",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"@zhoujiahao/pm@^1.0.41",name:"@zhoujiahao/pm",escapedName:"@zhoujiahao%2fpm",scope:"@zhoujiahao",rawSpec:"^1.0.41",saveSpec:null,fetchSpec:"^1.0.41"},_requiredBy:["/@zhoujiahao/blog"],_resolved:"https://registry.npmjs.org/@zhoujiahao/pm/-/pm-1.0.43.tgz",_shasum:"eef2d57289edd4b808e4880b1e216158e132b80e",_spec:"@zhoujiahao/pm@^1.0.41",_where:"/home/runner/work/playground/playground/node_modules/@zhoujiahao/blog",author:{name:"ZjHOU",email:"z@zjh.im"},bugs:{url:"https://github.com/zjhou/toyBox/issues"},bundleDependencies:!1,dependencies:{"@zhoujiahao/editor":"^1.1.11",imer:"^0.0.1"},deprecated:!1,description:"zjh.im - post manager",directories:{lib:"lib",test:"__tests__"},files:["lib"],gitHead:"965f9f595d00270b663b0d0cdaf1a0d438a8f412",homepage:"https://github.com/zjhou/toyBox#readme",keywords:["post","manager","pane.","editor.","code","mirror"],license:"ISC",main:"lib/index.js",name:"@zhoujiahao/pm",peerDependencies:{"@zhoujiahao/utils":"^1.0.14","@zhoujiahao/vendor":"^1.0.0"},publishConfig:{access:"public"},repository:{type:"git",url:"git+https://github.com/zjhou/toyBox.git"},scripts:{test:'echo "Error: run tests from root" && exit 1'},version:"1.0.43"}},"V/h/":function(e,t,n){"use strict";(function(e){var n,r,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c="undefined"!=typeof Symbol?Symbol("immer-nothing"):(o=!0,(r="immer-nothing")in(n={})?Object.defineProperty(n,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[r]=o,n),u="undefined"!=typeof Symbol?Symbol("immer-state"):"__$immer_state";function s(e){return!!e&&!!e[u]}function f(e){if(!e)return!1;if("object"!==(void 0===e?"undefined":i(e)))return!1;if(Array.isArray(e))return!0;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var l=Object.assign||function(e,t){for(var n in t)h(t,n)&&(e[n]=t[n]);return e};function p(e){if(Array.isArray(e))return e.slice();var t=void 0===e.__proto__?Object.create(null):{};return l(t,e)}function d(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(n,e[n],e);else for(var r in e)t(r,e[r],e)}function h(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function y(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function m(e,t,n,r){Array.isArray(e.base)?function(e,t,n,r){for(var o=e.base,i=e.copy,a=e.assigned,c=Math.min(o.length,i.length),u=0;u<c;u++)if(a[u]&&o[u]!==i[u]){var s=t.concat(u);n.push({op:"replace",path:s,value:i[u]}),r.push({op:"replace",path:s,value:o[u]})}if(c<i.length){for(var f=c;f<i.length;f++)n.push({op:"add",path:t.concat(f),value:i[f]});r.push({op:"replace",path:t.concat("length"),value:o.length})}else if(c<o.length){n.push({op:"replace",path:t.concat("length"),value:i.length});for(var l=c;l<o.length;l++)r.push({op:"add",path:t.concat(l),value:o[l]})}}(e,t,n,r):function(e,t,n,r){var o=e.base,i=e.copy;d(e.assigned,(function(e,a){var c=o[e],u=i[e],s=a?e in o?"replace":"add":"remove";if(c!==o||"replace"!==s){var f=t.concat(e);n.push("remove"===s?{op:s,path:f}:{op:s,path:f,value:u}),r.push("add"===s?{op:"remove",path:f}:"remove"===s?{op:"add",path:f,value:c}:{op:"replace",path:f,value:c})}}))}(e,t,n,r)}var v={},b=[],g=function(){return b[b.length-1]};function w(e,t){var n=void 0;if(s(e)){var r=e[u];r.finalizing=!0,n=p(r.draft),r.finalizing=!1}else n=p(e);d(e,(function(e){Object.defineProperty(n,""+e,function(e){return v[e]||(v[e]={configurable:!0,enumerable:!0,get:function(){return function(e,t){E(e);var n=j(e)[t];if(!e.finalizing&&n===e.base[t]&&f(n))return S(e),e.copy[t]=w(n,e);return n}(this[u],e)},set:function(t){!function(e,t,n){if(E(e),e.assigned[t]=!0,!e.modified){if(y(j(e)[t],n))return;P(e),S(e)}e.copy[t]=n}(this[u],e,t)}})}(""+e))}));var o={scope:t?t.scope:g(),modified:!1,finalizing:!1,finalized:!1,assigned:{},parent:t,base:e,draft:n,copy:null,revoke:O,revoked:!1};return function(e,t,n){Object.defineProperty(e,t,{value:n,enumerable:!1,writable:!0})}(n,u,o),o.scope.push(o),n}function O(){this.revoked=!0}function j(e){return e.copy||e.base}function P(e){e.modified||(e.modified=!0,e.parent&&P(e.parent))}function S(e){e.copy||(e.copy=p(e.base))}function E(e){if(!0===e.revoked)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(e.copy||e.base))}function z(e){for(var t=e.base,n=e.draft,r=Object.keys(n),o=r.length-1;o>=0;o--)if(void 0===t[r[o]]&&!h(t,r[o]))return!0;return r.length!==Object.keys(t).length}function T(e){var t=e.draft;if(t.length!==e.base.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}var k=Object.freeze({scopes:b,currentScope:g,willFinalize:function(e,t,n){var r=g();r.forEach((function(e){return e.finalizing=!0})),void 0!==e&&e!==t||(n&&function e(t){if(!t||"object"!==(void 0===t?"undefined":i(t)))return;var n=t[u];if(!n)return;var r=n.base,o=n.draft,a=n.assigned;if(Array.isArray(t)){if(T(n)){if(P(n),a.length=!0,o.length<r.length)for(var c=o.length;c<r.length;c++)a[c]=!1;else for(var s=r.length;s<o.length;s++)a[s]=!0;for(var f=0;f<o.length;f++)void 0===a[f]&&e(o[f])}}else Object.keys(o).forEach((function(t){void 0!==r[t]||h(r,t)?a[t]||e(o[t]):(a[t]=!0,P(n))})),Object.keys(r).forEach((function(e){void 0!==o[e]||h(o,e)||(a[e]=!1,P(n))}))}(t),function(e){for(var t=e.length-1;t>=0;t--){var n=e[t];!1===n.modified&&(Array.isArray(n.base)?T(n)&&P(n):z(n)&&P(n))}}(r))},createDraft:w}),x=[],_=function(){return x[x.length-1]};function A(e,t){var n={scope:t?t.scope:_(),modified:!1,finalized:!1,assigned:{},parent:t,base:e,draft:null,drafts:{},copy:null,revoke:null},r=Array.isArray(e)?Proxy.revocable([n],L):Proxy.revocable(n,I),o=r.revoke,i=r.proxy;return n.draft=i,n.revoke=o,n.scope.push(n),i}var I={get:function(e,t){if(t===u)return e;var n=e.drafts;if(!e.modified&&h(n,t))return n[t];var r=C(e)[t];if(e.finalized||!f(r))return r;if(e.modified){if(r!==e.base[t])return r;n=e.copy}return n[t]=A(r,e)},has:function(e,t){return t in C(e)},ownKeys:function(e){return Reflect.ownKeys(C(e))},set:function(e,t,n){if(!e.modified){if(n?y(e.base[t],n)||n===e.drafts[t]:y(e.base[t],n)&&t in e.base)return!0;D(e)}return e.assigned[t]=!0,e.copy[t]=n,!0},deleteProperty:function(e,t){(void 0!==e.base[t]||t in e.base)&&(e.assigned[t]=!1,D(e));e.copy&&delete e.copy[t];return!0},getOwnPropertyDescriptor:function(e,t){var n=e.modified?e.copy:h(e.drafts,t)?e.drafts:e.base,r=Reflect.getOwnPropertyDescriptor(n,t);!r||Array.isArray(n)&&"length"===t||(r.configurable=!0);return r},defineProperty:function(){throw new Error("Immer does not support defining properties on draft objects.")},setPrototypeOf:function(){throw new Error("Immer does not support `setPrototypeOf()`.")}},L={};function C(e){return e.copy||e.base}function D(e){e.modified||(e.modified=!0,e.copy=l(p(e.base),e.drafts),e.drafts=null,e.parent&&D(e.parent))}d(I,(function(e,t){L[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),L.deleteProperty=function(e,t){if(isNaN(parseInt(t)))throw new Error("Immer does not support deleting properties from arrays: "+t);return I.deleteProperty.call(this,e[0],t)},L.set=function(e,t,n){if("length"!==t&&isNaN(parseInt(t)))throw new Error("Immer does not support setting non-numeric properties on arrays: "+t);return I.set.call(this,e[0],t,n)};var R=Object.freeze({scopes:x,currentScope:_,willFinalize:function(){},createDraft:A});var N={useProxies:"undefined"!=typeof Proxy&&"undefined"!=typeof Reflect,autoFreeze:void 0===e&&"verifyMinified"===function(){}.name,onAssign:null,onDelete:null,onCopy:null},F=new(function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),l(this,N,t),this.setUseProxies(this.useProxies),this.produce=this.produce.bind(this)}return a(e,[{key:"produce",value:function(e,t,n){var r=this;if("function"==typeof e&&"function"!=typeof t){var o=t;return t=e,function(){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return r.produce(a,(function(e){var r;return(r=t).call.apply(r,[e,e].concat(n))}))}}if("function"!=typeof t)throw new Error("if first argument is not a function, the second argument to produce should be a function");if(void 0!==n&&"function"!=typeof n)throw new Error("the third argument of a producer should not be set or a function");var i=void 0;if(f(e))if(s(e)){if(void 0===(i=t.call(e,e)))return e}else{this.scopes.push([]);var a=this.createDraft(e);try{i=t.call(a,a),this.willFinalize(i,a,!!n);var l=n&&[],p=n&&[];if(void 0===i||i===a)i=this.finalize(a,[],l,p);else{if(a[u].modified)throw new Error("An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.");f(i)&&(i=this.finalize(i)),n&&(l.push({op:"replace",path:[],value:i}),p.push({op:"replace",path:[],value:e}))}}finally{this.currentScope().forEach((function(e){return e.revoke()})),this.scopes.pop()}n&&n(l,p)}else if(void 0===(i=t(e)))return e;return i===c?void 0:i}},{key:"setAutoFreeze",value:function(e){this.autoFreeze=e}},{key:"setUseProxies",value:function(e){this.useProxies=e,l(this,e?R:k)}},{key:"finalize",value:function(e,t,n,r){var o=e[u];if(!o)return Object.isFrozen(e)?e:this.finalizeTree(e);if(o.scope!==this.currentScope())return e;if(!o.modified)return o.base;if(!o.finalized){if(o.finalized=!0,this.finalizeTree(o.draft,t,n,r),this.onDelete){var i=o.assigned;for(var a in i)i[a]||this.onDelete(o,a)}this.onCopy&&this.onCopy(o),this.autoFreeze&&1===this.scopes.length&&Object.freeze(o.copy),n&&m(o,t,n,r)}return o.copy}},{key:"finalizeTree",value:function(e,t,n,r){var o=this,i=e[u];i&&(e=this.useProxies?i.copy:i.copy=p(i.draft));var a=this.onAssign;return d(e,(function c(u,l,p){var h=!!i&&p===e;if(s(l)){if(p[u]=l=n&&h&&!i.assigned[u]?o.finalize(l,t.concat(u),n,r):o.finalize(l),h&&l===i.base[u])return}else{if(h&&y(l,i.base[u]))return;f(l)&&!Object.isFrozen(l)&&d(l,c)}h&&a&&a(i,u,l)})),e}}]),e}()),U=F.produce;U((function(e,t){for(var n=0;n<t.length;n++){var r=t[n],o=r.path;if(0===o.length&&"replace"===r.op)e=r.value;else{for(var a=e,c=0;c<o.length-1;c++)if(!(a=a[o[c]])||"object"!==(void 0===a?"undefined":i(a)))throw new Error("Cannot apply patch, path doesn't resolve: "+o.join("/"));var u=o[o.length-1];switch(r.op){case"replace":case"add":a[u]=r.value;break;case"remove":if(Array.isArray(a)){if(u!==a.length-1)throw new Error("Only the last index of an array can be removed, index: "+u+", length: "+a.length);a.length-=1}else delete a[u];break;default:throw new Error("Unsupported patch operation: "+r.op)}}}return e}));t.a=U}).call(this,n("8oxB"))},XXAI:function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"set",(function(){return D})),n.d(r,"get",(function(){return R})),n.d(r,"remove",(function(){return U})),n.d(r,"list",(function(){return J})),n.d(r,"destroy",(function(){return K})),n.d(r,"withLocalList",(function(){return B}));var o=n("8RZD"),i=n("q1tI"),a=n.n(i),c=n("i8i4"),u=n.n(c),s=n("V/h/");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&p(e.prototype,t),n&&p(e,n),e}function h(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&y(e,t)}function y(e,t){return(y=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return v(this,n)}}function v(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?b(e):t}function b(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(n){h(o,n);var r=m(o);function o(){var e;l(this,o);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return w(b(e=r.call.apply(r,[this].concat(n))),"state",{component:null}),e}return d(o,[{key:"componentDidMount",value:function(){var t=this;e().then((function(e){t.setState({component:e.default})}))}},{key:"render",value:function(){var e=this.state.component;return e?a.a.createElement(e,this.props):t}}]),o}(i.Component)},j=function(e){var t=e.posts,n=e.activePostIdx,r=e.onTitleClick;return a.a.createElement("ul",null,t.map((function(e,t){var o=e.title,i=(e.id,e.postType,e.attachment_url,n===t);return a.a.createElement("li",{onClick:function(){r(t)},className:"".concat(i?"active":"")},a.a.createElement("span",{className:"title"},o))})))},P=function(e,t){var n=e.Persistor,r=e.postListUpdater,o=e.api,i=e.active;return function(e,a){var c=e.error,u=e.success,s=(e.warn,a.getOption("contentId"));n.remove(s),r((function(e){return e.filter((function(e){return e.id!==s}))})),"draft"!==t?o.delete(s).then((function(){i(0),u("博文永久删除")})).catch((function(e){c("博文删除失败")})):u("博文已经删除")}},S=function(e){var t=e.Persistor,n=e.api,r=e.postListUpdater,o=e.loading;return function(e,i){var a=e.error,c=e.success,u=(e.warn,i.getOption("newPostTitle")),s=i.getOption("contentId"),f=t.get(s).title,l=i.doc.getValue();u||f?l?(o(!0),n.create(u||f,l).then((function(e){t.remove(s),r((function(t){t[0]=e,t[0].postType="published"})),c("博文创建成功")})).catch((function(e){a("博文创建失败")})).finally((function(){o(!1)}))):a("内容不能为空!"):a("标题不能为空!")}},E=n("1EKS"),z=n.n(E),T=function(e){var t=e.Persistor,n=e.postListUpdater,r=e.active;return function(e,o,i){var a=e.error,c=(e.success,e.warn,i.argString&&i.argString.trim());if(c){o.setOption("newPostTitle",c);var u=z()(Date.now()).slice(16),s={title:c,id:u,postType:"draft",content:""};t.set(u,s),n((function(e){e.unshift(s)}),(function(){r(0)}))}else a("标题不能为空: new &lt;title&gt;")}},k=function(e,t){var n,r,i,a,c,u,s,f=e.exit,l=e.select,p=function(e,n){return{draft:["publish"],published:["update"]}[t].includes(n)?e:function(e){(0,e.error)("非法命令")}};return[{name:"update",fn:p((n=e,r=n.api,i=n.postListUpdater,a=n.Persistor,c=n.editingPost,u=n.refresh,s=n.loading,function(e,t){var n=e.error,o=e.success;e.warn,s(!0),r.update(t.getOption("contentId"),t.doc.getValue(),c.title).then((function(e){a.remove(e.id),u(),e.postType="published",i((function(t){t.find((function(t){return t.id===e.id})).content=e.content})),o("博文已更新")})).catch((function(){n("博文更新失败")})).finally((function(){s(!1)}))}),"update")},{name:"deleteThisPostForever",fn:P(e,t)},{name:"publish",fn:p(S(e),"publish")},{name:"exit",fn:function(){f()}},{name:"new",fn:T(e)},{name:"upload",fn:l},{name:"prv",fn:function(){Object(o.a)(".previewer.markdown-body").classList.toggle("show")}}]};function x(e){return function(e){if(Array.isArray(e))return _(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=new RegExp("^pm-persistor-"),D=function(e,t){localStorage.setItem("pm-persistor-"+e,JSON.stringify(t)),localStorage.setItem("pm-time-stamp",Date.now())},R=function(e){if(e)return JSON.parse(localStorage.getItem("pm-persistor-"+e))},N=function(e){if(e)return JSON.parse(localStorage.getItem(e))},F=function(){return Object.keys(localStorage).filter((function(e){return C.test(e)}))},U=function(e){localStorage.removeItem("pm-persistor-"+e)},J=function(){return F().map(N)},B=function(e){var t=J(),n={};if(e.forEach((function(e){var t=e.id;n[t]=!0})),!e.length)return t.map((function(e){return I({postType:"draft"},e)}));var r=t.filter((function(e){var t=e.id;return!n[t]}));return[].concat(x(r.map((function(e){return I({postType:"draft"},e)}))),x(e.map((function(e){return I({postType:"published"},e)}))))},K=function(){F().forEach((function(e){localStorage.removeItem(e)}))};function Z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H="https://api.zjh.im",V={create:"".concat(H,"/z/post/create"),update:"".concat(H,"/z/post/update"),delete:"".concat(H,"/z/post/delete"),list:"".concat(H,"/z/posts"),upload:"".concat(H,"/upload")},X="https://zjh-im-res.oss-cn-shenzhen.aliyuncs.com/image",$=function(e){var t=e?{create:function(t,n){return Object(o.g)(V.create,"POST",M({title:t,content:n},e))},update:function(t,n,r,i){return Object(o.g)(V.update,"POST",M({id:t,title:r,content:n,attachment_url:i},e))},delete:function(t){return Object(o.g)(V.delete,"POST",M({id:t},e))}}:{create:function(){return Promise.reject()},update:function(){return Promise.reject()},delete:function(){return Promise.reject()}};return M({list:function(){return Object(o.h)(V.list)}},t)},G=(n("isNF"),n("o5JI"),function(e){var t=e.size,n=void 0===t?3:t;return a.a.createElement("div",{className:"bg-blink-dot",style:{width:n,height:n}})}),Q=function(e){navigator.clipboard?navigator.clipboard.writeText(e):console.log(e)};function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t){return(te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ie(e);if(t){var o=ie(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return re(this,n)}}function re(e,t){return!t||"object"!==W(t)&&"function"!=typeof t?oe(e):t}function oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ie(e){return(ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(c,e);var t,n,r,i=ne(c);function c(){var e;Y(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ae(oe(e=i.call.apply(i,[this].concat(n))),"state",{file:null,uploading:!1}),ae(oe(e),"uploadFile",(function(t){var n="".concat(e.props.fileId||Object(o.k)(),"-").concat(t.name);e.setState({uploading:!0}),Object(o.j)(V.upload,t,"file",{id:n}).then((function(){e.setState({uploading:!1});var t=e.props.onSuccess||function(){},r="".concat(X,"/").concat(n);t(r),Q(r)})).catch((function(){e.setState({uploading:!1})}))})),ae(oe(e),"handleOnChooseFile",(function(){e.fileInput&&e.fileInput.click()})),ae(oe(e),"handleFileSelect",(function(t){var n=t.target.files[0];n&&e.uploadFile(n)})),e}return t=c,(n=[{key:"render",value:function(){var e=this;return[a.a.createElement("input",{ref:function(t){return e.fileInput=t},type:"file",accept:this.props.accept,className:"file-input",onChange:this.handleFileSelect,onClick:function(e){e.target.value=null}}),this.props.children({select:this.handleOnChooseFile,uploading:this.state.uploading})]}}])&&ee(t.prototype,n),r&&ee(t,r),c}(a.a.PureComponent);function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e){return function(e){if(Array.isArray(e))return fe(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=me(e);if(t){var o=me(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return he(this,n)}}function he(e,t){return!t||"object"!==ue(t)&&"function"!=typeof t?ye(e):t}function ye(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be="v".concat(n("N0Pr").version),ge=O((function(){return n.e(2).then(n.bind(null,"0BQj"))}),a.a.createElement("div",{style:{width:"calc(50% - 15px)",height:"100%",border:"dotted 1px #000",background:"#f0f0f0"}})),we=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(c,e);var t,n,o,i=de(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),ve(ye(t=i.call(this,e)),"active",(function(e){t.setState({activePostIdx:e})})),ve(ye(t),"loading",(function(e){t.setState({bgTaskRunning:e})})),ve(ye(t),"updatePostList",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return null};Array.isArray(e)?t.setState({postList:e}):t.setState((function(t){return{postList:Object(s.a)(t.postList,e)}}),n)})),ve(ye(t),"buildEdtCls",(function(){var e=t.state.postList[t.state.activePostIdx]||t.state.postList[0],n=!!R(e.id),r="normal-file";return"draft"===e.postType&&n&&(r="new-file"),"published"===e.postType&&n&&(r="changed-file"),"editor-wrapper clickable "+r})),ve(ye(t),"titleFormatter",(function(e){return"".concat(e.title)})),ve(ye(t),"refresh",(function(){t.setState({updateStamp:Date.now()})})),ve(ye(t),"getEditingPostTitle",(function(){return(t.state.postList[t.state.activePostIdx]||t.state.postList[0]).title})),ve(ye(t),"handleEditorContentChange",(function(e,n){var r=t.state.postList[t.state.activePostIdx]||t.state.postList[0];D(e,{title:t.getEditingPostTitle(),postType:r.type,id:e,content:n})})),ve(ye(t),"handleUploadFile",(function(e){return function(n){t.props.api.update(e,"","",n).then((function(){t.updatePostList((function(t){t.find((function(t){var n=t.id;return e===n})).attachment_url=n})),t.refresh()}))}})),ve(ye(t),"renderTitleList",(function(){return a.a.createElement("div",{className:"side-list-col"},a.a.createElement(j,{titles:t.state.postList.map(t.titleFormatter),update:t.props.api.update,postListUpdater:t.updatePostList,refresh:t.refresh,posts:t.state.postList,onTitleClick:t.active,activePostIdx:t.state.activePostIdx}))})),ve(ye(t),"renderUploadingIndicator",(function(){return a.a.createElement("span",{className:"actions"},a.a.createElement(G,null))})),ve(ye(t),"renderEditor",(function(){var e=t.state.postList[t.state.activePostIdx]||t.state.postList[0],n=R(e.id),o=n&&void 0!==n.content?n.content:e.content||"";return a.a.createElement("div",{className:t.buildEdtCls(),"data-v":be},a.a.createElement(ce,{onSuccess:t.handleUploadFile(e.id)},(function(n){var i=n.select,c=n.uploading,u={select:i,api:t.props.api,postListUpdater:t.updatePostList,editingPost:e,refresh:t.refresh,active:t.active,exit:t.props.exit,Persistor:r,loading:t.loading},s=(t.props.commands||[]).map((function(e){return{name:e.name,fn:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];e.fn.apply(e,n.concat([u]))}}}));return[a.a.createElement(ge,{value:o,contentId:e.id,backgroundColor:"#fff",onSave:t.handleEditorContentChange,exArr:[].concat(se(k(u,e.postType)),se(s))}),(c||t.state.bgTaskRunning)&&t.renderUploadingIndicator()]})),e.attachment_url&&a.a.createElement("img",{src:e.attachment_url}))})),t.state={activePostIdx:0,updateStamp:Date.now(),postList:t.props.posts,bgTaskRunning:!1},t}return t=c,(n=[{key:"render",value:function(){return a.a.createElement("div",{className:"pane"},this.renderTitleList(),this.renderEditor())}}])&&le(t.prototype,n),o&&le(t,o),c}(a.a.PureComponent),Oe=(n("Zse/"),function(e){u.a.unmountComponentAtNode(e||Object(o.a)("#gui"))}),je=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.dom||Object(o.a)("#gui");i.classList.add("fullscreen"),u.a.render(a.a.createElement(we,{posts:e,api:t,exit:n,commands:r.commands||[]}),i)};function Pe(e,t,n,r,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void n(e)}c.done?t(u):Promise.resolve(u).then(r,o)}var Se,Ee,ze=Object(o.c)("pm","pm [access token]","posts manager for my blog."),Te=function(e){localStorage.setItem("p-c-key",JSON.stringify(e))};t.default={doc:ze,shortopts:"e",handler:(Se=regeneratorRuntime.mark((function e(t){var n,r,i,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.e){e.next=3;break}return Oe(),e.abrupt("return","Goodbye");case 3:return n=t.user&&t.password?{user:t.user,password:t.password}:JSON.parse(localStorage.getItem("p-c-key"))||null,Te(n),r=$(n),e.next=9,r.list();case 9:return i=e.sent,a=B(i),c=t.dom||Object(o.a)("#gui"),e.abrupt("return",new Promise((function(e,n){try{je(a.slice().reverse(),r,(function(){e(),c.classList.remove("fullscreen"),setTimeout((function(){Terminal&&Terminal.exec("pm -e")}))}),{dom:c,commands:t.commands})}catch(e){return"Fail to render posts"}})));case 13:case"end":return e.stop()}}),e)})),Ee=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=Se.apply(e,t);function i(e){Pe(o,n,r,i,a,"next",e)}function a(e){Pe(o,n,r,i,a,"throw",e)}i(void 0)}))},function(e){return Ee.apply(this,arguments)})}},"Zse/":function(e,t,n){},isNF:function(e,t,n){},o5JI:function(e,t,n){}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHJvY2Vzcy9icm93c2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbW1lci9kaXN0L2ltbWVyLm1vZHVsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHpob3VqaWFoYW8vcG0vbGliL21hbmFnZS1wYW5lL2FzeW5jLWltcG9ydC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHpob3VqaWFoYW8vcG0vbGliL21hbmFnZS1wYW5lL3Bvc3QtbGlzdC9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHpob3VqaWFoYW8vcG0vbGliL21hbmFnZS1wYW5lL2N1c3RvbS1lZGl0b3ItY29tbWFuZHMvY29tbWFuZHMvZGVsZXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AemhvdWppYWhhby9wbS9saWIvbWFuYWdlLXBhbmUvY3VzdG9tLWVkaXRvci1jb21tYW5kcy9jb21tYW5kcy9jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B6aG91amlhaGFvL3BtL2xpYi9tYW5hZ2UtcGFuZS9jdXN0b20tZWRpdG9yLWNvbW1hbmRzL2NvbW1hbmRzL25ldy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHpob3VqaWFoYW8vcG0vbGliL21hbmFnZS1wYW5lL2N1c3RvbS1lZGl0b3ItY29tbWFuZHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B6aG91amlhaGFvL3BtL2xpYi9tYW5hZ2UtcGFuZS9jdXN0b20tZWRpdG9yLWNvbW1hbmRzL2NvbW1hbmRzL3VwZGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHpob3VqaWFoYW8vcG0vbGliL3BlcnNpc3Rvci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHpob3VqaWFoYW8vcG0vbGliL2Jsb2ctYXBpL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AemhvdWppYWhhby9wbS9saWIvdXRpbHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B6aG91amlhaGFvL3BtL2xpYi9tYW5hZ2UtcGFuZS91cGxvYWRlci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHpob3VqaWFoYW8vcG0vbGliL21hbmFnZS1wYW5lL3BhbmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B6aG91amlhaGFvL3BtL2xpYi9tYW5hZ2UtcGFuZS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHpob3VqaWFoYW8vcG0vbGliL2luZGV4LmpzIl0sIm5hbWVzIjpbImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJwcm9jZXNzIiwibW9kdWxlIiwiZXhwb3J0cyIsImRlZmF1bHRTZXRUaW1vdXQiLCJFcnJvciIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZnVuIiwic2V0VGltZW91dCIsImUiLCJjYWxsIiwidGhpcyIsImNsZWFyVGltZW91dCIsImN1cnJlbnRRdWV1ZSIsInF1ZXVlIiwiZHJhaW5pbmciLCJxdWV1ZUluZGV4IiwiY2xlYW5VcE5leHRUaWNrIiwibGVuZ3RoIiwiY29uY2F0IiwiZHJhaW5RdWV1ZSIsInRpbWVvdXQiLCJsZW4iLCJydW4iLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJJdGVtIiwiYXJyYXkiLCJub29wIiwibmV4dFRpY2siLCJhcmdzIiwiQXJyYXkiLCJhcmd1bWVudHMiLCJpIiwicHVzaCIsInByb3RvdHlwZSIsImFwcGx5IiwidGl0bGUiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsIm5hbWUiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsIm9iaiIsImtleSIsInZhbHVlIiwiX3R5cGVvZiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJjcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsIkNvbnN0cnVjdG9yIiwicHJvdG9Qcm9wcyIsInN0YXRpY1Byb3BzIiwiTk9USElORyIsIkRSQUZUX1NUQVRFIiwiaXNEcmFmdCIsImlzRHJhZnRhYmxlIiwiaXNBcnJheSIsInByb3RvIiwiZ2V0UHJvdG90eXBlT2YiLCJhc3NpZ24iLCJoYXMiLCJzaGFsbG93Q29weSIsInNsaWNlIiwidW5kZWZpbmVkIiwiX19wcm90b19fIiwiY3JlYXRlIiwiZWFjaCIsImNiIiwidGhpbmciLCJwcm9wIiwiaGFzT3duUHJvcGVydHkiLCJpcyIsIngiLCJ5IiwiZ2VuZXJhdGVQYXRjaGVzIiwic3RhdGUiLCJiYXNlUGF0aCIsInBhdGNoZXMiLCJpbnZlcnNlUGF0Y2hlcyIsImJhc2UiLCJjb3B5IiwiYXNzaWduZWQiLCJtaW5MZW5ndGgiLCJNYXRoIiwibWluIiwicGF0aCIsIm9wIiwiX2kiLCJfaTIiLCJnZW5lcmF0ZUFycmF5UGF0Y2hlcyIsImFzc2lnbmVkVmFsdWUiLCJvcmlnVmFsdWUiLCJnZW5lcmF0ZU9iamVjdFBhdGNoZXMiLCJkZXNjcmlwdG9ycyIsInNjb3BlcyIsImN1cnJlbnRTY29wZSIsImNyZWF0ZURyYWZ0IiwicGFyZW50IiwiZHJhZnQiLCJfc3RhdGUiLCJmaW5hbGl6aW5nIiwiZ2V0IiwiYXNzZXJ0VW5yZXZva2VkIiwic291cmNlIiwicHJlcGFyZUNvcHkiLCJfZ2V0Iiwic2V0IiwibW9kaWZpZWQiLCJtYXJrQ2hhbmdlZCIsIl9zZXQiLCJjcmVhdGVQcm9wZXJ0eVByb3h5Iiwic2NvcGUiLCJmaW5hbGl6ZWQiLCJyZXZva2UiLCJyZXZva2VkIiwiY3JlYXRlSGlkZGVuUHJvcGVydHkiLCJKU09OIiwic3RyaW5naWZ5IiwiaGFzT2JqZWN0Q2hhbmdlcyIsImtleXMiLCJoYXNBcnJheUNoYW5nZXMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJsZWdhY3lQcm94eSIsImZyZWV6ZSIsIndpbGxGaW5hbGl6ZSIsInJlc3VsdCIsImJhc2VEcmFmdCIsIm5lZWRQYXRjaGVzIiwiZm9yRWFjaCIsIm1hcmtDaGFuZ2VzUmVjdXJzaXZlbHkiLCJvYmplY3QiLCJtYXJrQ2hhbmdlc1N3ZWVwIiwic2NvcGVzJDEiLCJjdXJyZW50U2NvcGUkMSIsImNyZWF0ZURyYWZ0JDEiLCJkcmFmdHMiLCJfcmVmIiwiUHJveHkiLCJyZXZvY2FibGUiLCJhcnJheVRyYXBzIiwib2JqZWN0VHJhcHMiLCJwcm94eSIsInNvdXJjZSQxIiwib3duS2V5cyIsIlJlZmxlY3QiLCJtYXJrQ2hhbmdlZCQxIiwiZGVsZXRlUHJvcGVydHkiLCJvd25lciIsInNldFByb3RvdHlwZU9mIiwiZm4iLCJpc05hTiIsInBhcnNlSW50IiwibW9kZXJuUHJveHkiLCJjb25maWdEZWZhdWx0cyIsInVzZVByb3hpZXMiLCJhdXRvRnJlZXplIiwib25Bc3NpZ24iLCJvbkRlbGV0ZSIsIm9uQ29weSIsImltbWVyIiwiSW1tZXIiLCJjb25maWciLCJpbnN0YW5jZSIsIlR5cGVFcnJvciIsImNsYXNzQ2FsbENoZWNrIiwic2V0VXNlUHJveGllcyIsInByb2R1Y2UiLCJiaW5kIiwicmVjaXBlIiwicGF0Y2hMaXN0ZW5lciIsIl90aGlzIiwiZGVmYXVsdEJhc2UiLCJfbGVuIiwiX2tleSIsIl9yZWNpcGUiLCJmaW5hbGl6ZSIsInBvcCIsImlzRnJvemVuIiwiZmluYWxpemVUcmVlIiwicm9vdCIsIl90aGlzMiIsImZpbmFsaXplUHJvcGVydHkiLCJpbkRyYWZ0IiwicGF0Y2giLCJfaTMiLCJqb2luIiwiYXN5bmNDb21wb25lbnQiLCJpbXBvcnRDb21wb25lbnQiLCJsb2FkZXIiLCJjb21wb25lbnQiLCJ0aGVuIiwiY21wIiwic2V0U3RhdGUiLCJDIiwiQ29tcG9uZW50IiwicG9zdHMiLCJhY3RpdmVQb3N0SWR4Iiwib25UaXRsZUNsaWNrIiwibWFwIiwiaWR4IiwiaXNBY3RpdmUiLCJpZCIsInBvc3RUeXBlIiwiYXR0YWNobWVudF91cmwiLCJvbkNsaWNrIiwiY2xhc3NOYW1lIiwidHlwZSIsIlBlcnNpc3RvciIsInBvc3RMaXN0VXBkYXRlciIsImFwaSIsImFjdGl2ZSIsImNtIiwiZXJyb3IiLCJzdWNjZXNzIiwicGlkIiwid2FybiIsImdldE9wdGlvbiIsInJlbW92ZSIsIm9sZFBvc3RMaXN0IiwiZmlsdGVyIiwicCIsImxvYWRpbmciLCJ0bXBJZCIsInRtcFRpdGxlIiwiY29udGVudCIsImRvYyIsImdldFZhbHVlIiwibmV3UG9zdCIsInBhcmFtcyIsImFyZ1N0cmluZyIsInRyaW0iLCJzZXRPcHRpb24iLCJoYXNoIiwiRGF0ZSIsIm5vdyIsInVuc2hpZnQiLCJidWlsZEVkaXRvckNvbW1hbmRzIiwidG9vbHMiLCJlZGl0aW5nUG9zdCIsInJlZnJlc2giLCJleGl0Iiwic2VsZWN0IiwiZXhIYW5kbGVyVmFsaWRhdG9yIiwiZXhOYW1lIiwicHVibGlzaGVkIiwiaW5jbHVkZXMiLCJ1cGRhdGUiLCJmaW5kIiwiYnVpbGREZWxldGVDbWQiLCJidWlsZENyZWF0ZUNtZCIsImJ1aWxkTmV3Q21kIiwiJCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsIktFWV9SRUdfRVhQIiwiUmVnRXhwIiwidmFsIiwibG9jYWxTdG9yYWdlIiwic2V0SXRlbSIsInBhcnNlIiwiZ2V0SXRlbSIsIl9nZXRQZXJzaXN0b3JLZXlzIiwiayIsInRlc3QiLCJyZW1vdmVJdGVtIiwibGlzdCIsIndpdGhMb2NhbExpc3QiLCJhcnIiLCJsb2NhbExpc3QiLCJpZE1hcCIsIm5ld1Bvc3RzIiwiZGVzdHJveSIsIkJBU0VfVVJMIiwiQVBJIiwiZGVsZXRlIiwidXBsb2FkIiwiQWxpT1NTSW1nVVJMIiwiY3JlZGVudGlhbCIsImFjdGlvbnNOZWVkQ3JlZGVudGlhbCIsInJlcSIsImF0dGFjaG1lbnRVUkwiLCJQcm9taXNlIiwicmVqZWN0IiwicmVxQW5kQ2FjaGUiLCJCbGlua0RvdCIsInNpemUiLCJzdHlsZSIsIndpZHRoIiwiaGVpZ2h0IiwiY29weVRvQ2xpcGJvYXJkIiwidGV4dCIsIm5hdmlnYXRvciIsImNsaXBib2FyZCIsIndyaXRlVGV4dCIsImNvbnNvbGUiLCJsb2ciLCJVcGxvYWRlciIsImZpbGUiLCJ1cGxvYWRpbmciLCJmaWxlSWQiLCJ1dWlkIiwidXBsb2FkRmlsZSIsImNiRm4iLCJvblN1Y2Nlc3MiLCJmaWxlVVJMIiwiZmlsZUlucHV0IiwiY2xpY2siLCJmaWxlcyIsInJlZiIsImFjY2VwdCIsIm9uQ2hhbmdlIiwiaGFuZGxlRmlsZVNlbGVjdCIsImNoaWxkcmVuIiwiaGFuZGxlT25DaG9vc2VGaWxlIiwiUmVhY3QiLCJQdXJlQ29tcG9uZW50IiwicmVxdWlyZSIsIkVkaXRvciIsIkFzeW5jSW1wb3J0IiwiYm9yZGVyIiwiYmFja2dyb3VuZCIsIlBhbmUiLCJiZ1Rhc2tSdW5uaW5nIiwidXBkYXRlckZuIiwicG9zdExpc3QiLCJwcmV2U3RhdGUiLCJsb2NhbENoYW5nZXMiLCJ1cGRhdGVTdGFtcCIsImdldEVkaXRpbmdQb3N0VGl0bGUiLCJ1cmwiLCJ1cGRhdGVQb3N0TGlzdCIsInRhcmdldElkIiwidGl0bGVzIiwidGl0bGVGb3JtYXR0ZXIiLCJpbml0Q29udGVudCIsImJ1aWxkRWR0Q2xzIiwiZGF0YS12IiwiaGFuZGxlVXBsb2FkRmlsZSIsInRvb2xzRm9yRXhGbnMiLCJleHRlcm5hbEV4QXJyIiwiY29tbWFuZHMiLCJjIiwiY29udGVudElkIiwiYmFja2dyb3VuZENvbG9yIiwib25TYXZlIiwiaGFuZGxlRWRpdG9yQ29udGVudENoYW5nZSIsImV4QXJyIiwiYnVpbGRFZGl0b3JFeEFyciIsInJlbmRlclVwbG9hZGluZ0luZGljYXRvciIsInNyYyIsInJlbmRlclRpdGxlTGlzdCIsInJlbmRlckVkaXRvciIsInVuaW5zdGFsbCIsImRvbSIsIlJlYWN0RE9NIiwidW5tb3VudENvbXBvbmVudEF0Tm9kZSIsIm9wdGlvbnMiLCIkZ3VpIiwiYWRkIiwicmVuZGVyIiwiZG9jVHBsIiwic2F2ZUNyZWRlbnRpYWwiLCJzaG9ydG9wdHMiLCJoYW5kbGVyIiwicGFyYW1zT2JqIiwidXNlciIsInBhc3N3b3JkIiwicG9zdFNESyIsImFsbFBvc3RzIiwicmVzb2x2ZSIsInJ1bk1hbmFnZVBhbmVsIiwicmV2ZXJzZSIsIlRlcm1pbmFsIiwiZXhlYyJdLCJtYXBwaW5ncyI6IjBFQUNBLElBT0lBLEVBQ0FDLEVBUkFDLEVBQVVDLEVBQU9DLFFBQVUsR0FVL0IsU0FBU0MsSUFDTCxNQUFNLElBQUlDLE1BQU0sbUNBRXBCLFNBQVNDLElBQ0wsTUFBTSxJQUFJRCxNQUFNLHFDQXNCcEIsU0FBU0UsRUFBV0MsR0FDaEIsR0FBSVQsSUFBcUJVLFdBRXJCLE9BQU9BLFdBQVdELEVBQUssR0FHM0IsSUFBS1QsSUFBcUJLLElBQXFCTCxJQUFxQlUsV0FFaEUsT0FEQVYsRUFBbUJVLFdBQ1pBLFdBQVdELEVBQUssR0FFM0IsSUFFSSxPQUFPVCxFQUFpQlMsRUFBSyxHQUMvQixNQUFNRSxHQUNKLElBRUksT0FBT1gsRUFBaUJZLEtBQUssS0FBTUgsRUFBSyxHQUMxQyxNQUFNRSxHQUVKLE9BQU9YLEVBQWlCWSxLQUFLQyxLQUFNSixFQUFLLE1BdkNuRCxXQUNHLElBRVFULEVBRHNCLG1CQUFmVSxXQUNZQSxXQUVBTCxFQUV6QixNQUFPTSxHQUNMWCxFQUFtQkssRUFFdkIsSUFFUUosRUFEd0IsbUJBQWpCYSxhQUNjQSxhQUVBUCxFQUUzQixNQUFPSSxHQUNMVixFQUFxQk0sR0FqQjdCLEdBd0VBLElBRUlRLEVBRkFDLEVBQVEsR0FDUkMsR0FBVyxFQUVYQyxHQUFjLEVBRWxCLFNBQVNDLElBQ0FGLEdB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QyxTLEdBQU8seUJBQUUsV0FDUEMsR0FETyxrR0FHSEEsRUFBVTlYLEVBSFAsdUJBSUxrWCxLQUpLLGtCQUtFLFdBTEYsY0FRRDNFLEVBQWV1RixFQUFVQyxNQUFRRCxFQUFVRSxTQUM3QyxDQUNBRCxLQUFNRCxFQUFVQyxLQUNoQkMsU0FBVUYsRUFBVUUsVUFuQm5CMVAsS0FBSytJLE1BQ1ZGLGFBQWFHLFFBRk8sYUFHakIsS0FxQkhxRyxHQUFlcEYsR0FDVHBFLEVBQU04SixFQUFRMUYsR0FoQmIsU0FpQmFwRSxFQUFJd0QsT0FqQmpCLGNBaUJEdEUsRUFqQkMsT0FrQkQ2SyxFQUFXdEcsRUFBY3ZFLEdBQ3pCOEosRUFBTVcsRUFBVVgsS0FBT3RHLFlBQUUsUUFuQnhCLGtCQW9CQSxJQUFJOEIsU0FBUSxTQUFDd0YsRUFBU3ZGLEdBQzNCLElBQ0V3RixHQUFlRixFQUFTbFQsUUFBUXFULFVBQVdsSyxHQUFLLFdBQzlDZ0ssSUFDQWhCLEVBQUlyRyxVQUFVbkMsT0FBTyxjQUNyQjVPLFlBQVcsV0FDVHVZLFVBQVlBLFNBQVNDLEtBQUssY0FFM0IsQ0FDRHBCLE1BQ0FiLFNBQVV3QixFQUFVeEIsV0FFdEIsTUFBT3RXLEdBQ1AsTUFBTyw0QkFqQ0osMkNBQUYsRyxpTEFBQSxnRCIsImZpbGUiOiIzLjgzNGI2MC5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJ2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iajtcbn0gOiBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xufTtcblxuXG5cblxuXG5cblxuXG5cblxuXG52YXIgY2xhc3NDYWxsQ2hlY2sgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufTtcblxudmFyIGNyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSgpO1xuXG5cblxuXG5cbnZhciBkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIChvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufTtcblxudmFyIE5PVEhJTkcgPSB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiID8gU3ltYm9sKFwiaW1tZXItbm90aGluZ1wiKSA6IGRlZmluZVByb3BlcnR5KHt9LCBcImltbWVyLW5vdGhpbmdcIiwgdHJ1ZSk7XG5cbnZhciBEUkFGVF9TVEFURSA9IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgPyBTeW1ib2woXCJpbW1lci1zdGF0ZVwiKSA6IFwiX18kaW1tZXJfc3RhdGVcIjtcblxuZnVuY3Rpb24gaXNEcmFmdCh2YWx1ZSkge1xuICAgIHJldHVybiAhIXZhbHVlICYmICEhdmFsdWVbRFJBRlRfU1RBVEVdO1xufVxuXG5mdW5jdGlvbiBpc0RyYWZ0YWJsZSh2YWx1ZSkge1xuICAgIGlmICghdmFsdWUpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoKHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHZhbHVlKSkgIT09IFwib2JqZWN0XCIpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHJldHVybiB0cnVlO1xuICAgIHZhciBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZSk7XG4gICAgcmV0dXJuIHByb3RvID09PSBudWxsIHx8IHByb3RvID09PSBPYmplY3QucHJvdG90eXBlO1xufVxuXG5mdW5jdGlvbiBvcmlnaW5hbCh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAmJiB2YWx1ZVtEUkFGVF9TVEFURV0pIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlW0RSQUZUX1NUQVRFXS5iYXNlO1xuICAgIH1cbiAgICAvLyBvdGhlcndpc2UgcmV0dXJuIHVuZGVmaW5lZFxufVxuXG52YXIgYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCB2YWx1ZSkge1xuICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICBpZiAoaGFzKHZhbHVlLCBrZXkpKSB7XG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IHZhbHVlW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn07XG5cbmZ1bmN0aW9uIHNoYWxsb3dDb3B5KHZhbHVlKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSByZXR1cm4gdmFsdWUuc2xpY2UoKTtcbiAgICB2YXIgdGFyZ2V0ID0gdmFsdWUuX19wcm90b19fID09PSB1bmRlZmluZWQgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge307XG4gICAgcmV0dXJuIGFzc2lnbih0YXJnZXQsIHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gZWFjaCh2YWx1ZSwgY2IpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2IoaSwgdmFsdWVbaV0sIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgY2Ioa2V5LCB2YWx1ZVtrZXldLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGhhcyh0aGluZywgcHJvcCkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpbmcsIHByb3ApO1xufVxuXG5mdW5jdGlvbiBpcyh4LCB5KSB7XG4gICAgLy8gRnJvbTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2ZianMvYmxvYi9jNjk5MDRhNTExYjkwMDI2NjkzNTE2ODIyMzA2M2RkODc3MmRmYzQwL3BhY2thZ2VzL2ZianMvc3JjL2NvcmUvc2hhbGxvd0VxdWFsLmpzXG4gICAgaWYgKHggPT09IHkpIHtcbiAgICAgICAgcmV0dXJuIHggIT09IDAgfHwgMSAvIHggPT09IDEgLyB5O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB4ICE9PSB4ICYmIHkgIT09IHk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVBhdGNoZXMoc3RhdGUsIGJhc2VQYXRoLCBwYXRjaGVzLCBpbnZlcnNlUGF0Y2hlcykge1xuICAgIEFycmF5LmlzQXJyYXkoc3RhdGUuYmFzZSkgPyBnZW5lcmF0ZUFycmF5UGF0Y2hlcyhzdGF0ZSwgYmFzZVBhdGgsIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKSA6IGdlbmVyYXRlT2JqZWN0UGF0Y2hlcyhzdGF0ZSwgYmFzZVBhdGgsIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVBcnJheVBhdGNoZXMoc3RhdGUsIGJhc2VQYXRoLCBwYXRjaGVzLCBpbnZlcnNlUGF0Y2hlcykge1xuICAgIHZhciBiYXNlID0gc3RhdGUuYmFzZSxcbiAgICAgICAgY29weSA9IHN0YXRlLmNvcHksXG4gICAgICAgIGFzc2lnbmVkID0gc3RhdGUuYXNzaWduZWQ7XG5cbiAgICB2YXIgbWluTGVuZ3RoID0gTWF0aC5taW4oYmFzZS5sZW5ndGgsIGNvcHkubGVuZ3RoKTtcblxuICAgIC8vIExvb2sgZm9yIHJlcGxhY2VkIGluZGljZXMuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtaW5MZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYXNzaWduZWRbaV0gJiYgYmFzZVtpXSAhPT0gY29weVtpXSkge1xuICAgICAgICAgICAgdmFyIHBhdGggPSBiYXNlUGF0aC5jb25jYXQoaSk7XG4gICAgICAgICAgICBwYXRjaGVzLnB1c2goeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IHBhdGgsIHZhbHVlOiBjb3B5W2ldIH0pO1xuICAgICAgICAgICAgaW52ZXJzZVBhdGNoZXMucHVzaCh7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogcGF0aCwgdmFsdWU6IGJhc2VbaV0gfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBEaWQgdGhlIGFycmF5IGV4cGFuZD9cbiAgICBpZiAobWluTGVuZ3RoIDwgY29weS5sZW5ndGgpIHtcbiAgICAgICAgZm9yICh2YXIgX2kgPSBtaW5MZW5ndGg7IF9pIDwgY29weS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHBhdGNoZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgb3A6IFwiYWRkXCIsXG4gICAgICAgICAgICAgICAgcGF0aDogYmFzZVBhdGguY29uY2F0KF9pKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogY29weVtfaV1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGludmVyc2VQYXRjaGVzLnB1c2goe1xuICAgICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgICAgcGF0aDogYmFzZVBhdGguY29uY2F0KFwibGVuZ3RoXCIpLFxuICAgICAgICAgICAgdmFsdWU6IGJhc2UubGVuZ3RoXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIC4uLm9yIGRpZCBpdCBzaHJpbms/XG4gICAgZWxzZSBpZiAobWluTGVuZ3RoIDwgYmFzZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHBhdGNoZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgICAgICAgIHBhdGg6IGJhc2VQYXRoLmNvbmNhdChcImxlbmd0aFwiKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogY29weS5sZW5ndGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kyID0gbWluTGVuZ3RoOyBfaTIgPCBiYXNlLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgICAgICAgICAgICBpbnZlcnNlUGF0Y2hlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgb3A6IFwiYWRkXCIsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGJhc2VQYXRoLmNvbmNhdChfaTIpLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYmFzZVtfaTJdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVPYmplY3RQYXRjaGVzKHN0YXRlLCBiYXNlUGF0aCwgcGF0Y2hlcywgaW52ZXJzZVBhdGNoZXMpIHtcbiAgICB2YXIgYmFzZSA9IHN0YXRlLmJhc2UsXG4gICAgICAgIGNvcHkgPSBzdGF0ZS5jb3B5O1xuXG4gICAgZWFjaChzdGF0ZS5hc3NpZ25lZCwgZnVuY3Rpb24gKGtleSwgYXNzaWduZWRWYWx1ZSkge1xuICAgICAgICB2YXIgb3JpZ1ZhbHVlID0gYmFzZVtrZXldO1xuICAgICAgICB2YXIgdmFsdWUgPSBjb3B5W2tleV07XG4gICAgICAgIHZhciBvcCA9ICFhc3NpZ25lZFZhbHVlID8gXCJyZW1vdmVcIiA6IGtleSBpbiBiYXNlID8gXCJyZXBsYWNlXCIgOiBcImFkZFwiO1xuICAgICAgICBpZiAob3JpZ1ZhbHVlID09PSBiYXNlICYmIG9wID09PSBcInJlcGxhY2VcIikgcmV0dXJuO1xuICAgICAgICB2YXIgcGF0aCA9IGJhc2VQYXRoLmNvbmNhdChrZXkpO1xuICAgICAgICBwYXRjaGVzLnB1c2gob3AgPT09IFwicmVtb3ZlXCIgPyB7IG9wOiBvcCwgcGF0aDogcGF0aCB9IDogeyBvcDogb3AsIHBhdGg6IHBhdGgsIHZhbHVlOiB2YWx1ZSB9KTtcbiAgICAgICAgaW52ZXJzZVBhdGNoZXMucHVzaChvcCA9PT0gXCJhZGRcIiA/IHsgb3A6IFwicmVtb3ZlXCIsIHBhdGg6IHBhdGggfSA6IG9wID09PSBcInJlbW92ZVwiID8geyBvcDogXCJhZGRcIiwgcGF0aDogcGF0aCwgdmFsdWU6IG9yaWdWYWx1ZSB9IDogeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IHBhdGgsIHZhbHVlOiBvcmlnVmFsdWUgfSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGFwcGx5UGF0Y2hlcyhkcmFmdCwgcGF0Y2hlcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcGF0Y2ggPSBwYXRjaGVzW2ldO1xuICAgICAgICB2YXIgcGF0aCA9IHBhdGNoLnBhdGg7XG5cbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoID09PSAwICYmIHBhdGNoLm9wID09PSBcInJlcGxhY2VcIikge1xuICAgICAgICAgICAgZHJhZnQgPSBwYXRjaC52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBiYXNlID0gZHJhZnQ7XG4gICAgICAgICAgICBmb3IgKHZhciBfaTMgPSAwOyBfaTMgPCBwYXRoLmxlbmd0aCAtIDE7IF9pMysrKSB7XG4gICAgICAgICAgICAgICAgYmFzZSA9IGJhc2VbcGF0aFtfaTNdXTtcbiAgICAgICAgICAgICAgICBpZiAoIWJhc2UgfHwgKHR5cGVvZiBiYXNlID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoYmFzZSkpICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgYXBwbHkgcGF0Y2gsIHBhdGggZG9lc24ndCByZXNvbHZlOiBcIiArIHBhdGguam9pbihcIi9cIikpOyAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBrZXkgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBzd2l0Y2ggKHBhdGNoLm9wKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInJlcGxhY2VcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiYWRkXCI6XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IGFkZCBzdXBwb3J0IGlzIG5vdCBleHRlbnNpdmUsIGl0IGRvZXMgbm90IHN1cHBvcnQgaW5zZXJ0aW9uIG9yIGAtYCBhdG0hXG4gICAgICAgICAgICAgICAgICAgIGJhc2Vba2V5XSA9IHBhdGNoLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwicmVtb3ZlXCI6XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGJhc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ICE9PSBiYXNlLmxlbmd0aCAtIDEpIHRocm93IG5ldyBFcnJvcihcIk9ubHkgdGhlIGxhc3QgaW5kZXggb2YgYW4gYXJyYXkgY2FuIGJlIHJlbW92ZWQsIGluZGV4OiBcIiArIGtleSArIFwiLCBsZW5ndGg6IFwiICsgYmFzZS5sZW5ndGgpOyAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2UubGVuZ3RoIC09IDE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYmFzZVtrZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIHBhdGNoIG9wZXJhdGlvbjogXCIgKyBwYXRjaC5vcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRyYWZ0O1xufVxuXG4vLyBAdHMtY2hlY2tcblxudmFyIGRlc2NyaXB0b3JzID0ge307XG5cbi8vIEZvciBuZXN0ZWQgcHJvZHVjZSBjYWxsczpcbnZhciBzY29wZXMgPSBbXTtcbnZhciBjdXJyZW50U2NvcGUgPSBmdW5jdGlvbiBjdXJyZW50U2NvcGUoKSB7XG4gICAgcmV0dXJuIHNjb3Blc1tzY29wZXMubGVuZ3RoIC0gMV07XG59O1xuXG5mdW5jdGlvbiB3aWxsRmluYWxpemUocmVzdWx0LCBiYXNlRHJhZnQsIG5lZWRQYXRjaGVzKSB7XG4gICAgdmFyIHNjb3BlID0gY3VycmVudFNjb3BlKCk7XG4gICAgc2NvcGUuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLmZpbmFsaXppbmcgPSB0cnVlO1xuICAgIH0pO1xuICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCB8fCByZXN1bHQgPT09IGJhc2VEcmFmdCkge1xuICAgICAgICBpZiAobmVlZFBhdGNoZXMpIG1hcmtDaGFuZ2VzUmVjdXJzaXZlbHkoYmFzZURyYWZ0KTtcbiAgICAgICAgLy8gVGhpcyBpcyBmYXN0ZXIgd2hlbiB3ZSBkb24ndCBjYXJlIGFib3V0IHdoaWNoIGF0dHJpYnV0ZXMgY2hhbmdlZC5cbiAgICAgICAgbWFya0NoYW5nZXNTd2VlcChzY29wZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVEcmFmdChiYXNlLCBwYXJlbnQpIHtcbiAgICB2YXIgZHJhZnQgPSB2b2lkIDA7XG4gICAgaWYgKGlzRHJhZnQoYmFzZSkpIHtcbiAgICAgICAgdmFyIF9zdGF0ZSA9IGJhc2VbRFJBRlRfU1RBVEVdO1xuICAgICAgICAvLyBBdm9pZCBjcmVhdGluZyBuZXcgZHJhZnRzIHdoZW4gY29weWluZy5cbiAgICAgICAgX3N0YXRlLmZpbmFsaXppbmcgPSB0cnVlO1xuICAgICAgICBkcmFmdCA9IHNoYWxsb3dDb3B5KF9zdGF0ZS5kcmFmdCk7XG4gICAgICAgIF9zdGF0ZS5maW5hbGl6aW5nID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZHJhZnQgPSBzaGFsbG93Q29weShiYXNlKTtcbiAgICB9XG4gICAgZWFjaChiYXNlLCBmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZHJhZnQsIFwiXCIgKyBwcm9wLCBjcmVhdGVQcm9wZXJ0eVByb3h5KFwiXCIgKyBwcm9wKSk7XG4gICAgfSk7XG5cbiAgICAvLyBTZWUgXCJwcm94eS5qc1wiIGZvciBwcm9wZXJ0eSBkb2N1bWVudGF0aW9uLlxuICAgIHZhciBzdGF0ZSA9IHtcbiAgICAgICAgc2NvcGU6IHBhcmVudCA/IHBhcmVudC5zY29wZSA6IGN1cnJlbnRTY29wZSgpLFxuICAgICAgICBtb2RpZmllZDogZmFsc2UsXG4gICAgICAgIGZpbmFsaXppbmc6IGZhbHNlLCAvLyBlczUgb25seVxuICAgICAgICBmaW5hbGl6ZWQ6IGZhbHNlLFxuICAgICAgICBhc3NpZ25lZDoge30sXG4gICAgICAgIHBhcmVudDogcGFyZW50LFxuICAgICAgICBiYXNlOiBiYXNlLFxuICAgICAgICBkcmFmdDogZHJhZnQsXG4gICAgICAgIGNvcHk6IG51bGwsXG4gICAgICAgIHJldm9rZTogcmV2b2tlLFxuICAgICAgICByZXZva2VkOiBmYWxzZSAvLyBlczUgb25seVxuICAgIH07XG5cbiAgICBjcmVhdGVIaWRkZW5Qcm9wZXJ0eShkcmFmdCwgRFJBRlRfU1RBVEUsIHN0YXRlKTtcbiAgICBzdGF0ZS5zY29wZS5wdXNoKHN0YXRlKTtcbiAgICByZXR1cm4gZHJhZnQ7XG59XG5cbmZ1bmN0aW9uIHJldm9rZSgpIHtcbiAgICB0aGlzLnJldm9rZWQgPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBzb3VyY2Uoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUuY29weSB8fCBzdGF0ZS5iYXNlO1xufVxuXG5mdW5jdGlvbiBfZ2V0KHN0YXRlLCBwcm9wKSB7XG4gICAgYXNzZXJ0VW5yZXZva2VkKHN0YXRlKTtcbiAgICB2YXIgdmFsdWUgPSBzb3VyY2Uoc3RhdGUpW3Byb3BdO1xuICAgIC8vIERyYWZ0cyBhcmUgb25seSBjcmVhdGVkIGZvciBwcm94eWFibGUgdmFsdWVzIHRoYXQgZXhpc3QgaW4gdGhlIGJhc2Ugc3RhdGUuXG4gICAgaWYgKCFzdGF0ZS5maW5hbGl6aW5nICYmIHZhbHVlID09PSBzdGF0ZS5iYXNlW3Byb3BdICYmIGlzRHJhZnRhYmxlKHZhbHVlKSkge1xuICAgICAgICBwcmVwYXJlQ29weShzdGF0ZSk7XG4gICAgICAgIHJldHVybiBzdGF0ZS5jb3B5W3Byb3BdID0gY3JlYXRlRHJhZnQodmFsdWUsIHN0YXRlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiBfc2V0KHN0YXRlLCBwcm9wLCB2YWx1ZSkge1xuICAgIGFzc2VydFVucmV2b2tlZChzdGF0ZSk7XG4gICAgc3RhdGUuYXNzaWduZWRbcHJvcF0gPSB0cnVlO1xuICAgIGlmICghc3RhdGUubW9kaWZpZWQpIHtcbiAgICAgICAgaWYgKGlzKHNvdXJjZShzdGF0ZSlbcHJvcF0sIHZhbHVlKSkgcmV0dXJuO1xuICAgICAgICBtYXJrQ2hhbmdlZChzdGF0ZSk7XG4gICAgICAgIHByZXBhcmVDb3B5KHN0YXRlKTtcbiAgICB9XG4gICAgc3RhdGUuY29weVtwcm9wXSA9IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBtYXJrQ2hhbmdlZChzdGF0ZSkge1xuICAgIGlmICghc3RhdGUubW9kaWZpZWQpIHtcbiAgICAgICAgc3RhdGUubW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICBpZiAoc3RhdGUucGFyZW50KSBtYXJrQ2hhbmdlZChzdGF0ZS5wYXJlbnQpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcHJlcGFyZUNvcHkoc3RhdGUpIHtcbiAgICBpZiAoIXN0YXRlLmNvcHkpIHN0YXRlLmNvcHkgPSBzaGFsbG93Q29weShzdGF0ZS5iYXNlKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUHJvcGVydHlQcm94eShwcm9wKSB7XG4gICAgcmV0dXJuIGRlc2NyaXB0b3JzW3Byb3BdIHx8IChkZXNjcmlwdG9yc1twcm9wXSA9IHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgIHJldHVybiBfZ2V0KHRoaXNbRFJBRlRfU1RBVEVdLCBwcm9wKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcbiAgICAgICAgICAgIF9zZXQodGhpc1tEUkFGVF9TVEFURV0sIHByb3AsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBhc3NlcnRVbnJldm9rZWQoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUucmV2b2tlZCA9PT0gdHJ1ZSkgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSBhIHByb3h5IHRoYXQgaGFzIGJlZW4gcmV2b2tlZC4gRGlkIHlvdSBwYXNzIGFuIG9iamVjdCBmcm9tIGluc2lkZSBhbiBpbW1lciBmdW5jdGlvbiB0byBhbiBhc3luYyBwcm9jZXNzPyBcIiArIEpTT04uc3RyaW5naWZ5KHN0YXRlLmNvcHkgfHwgc3RhdGUuYmFzZSkpO1xufVxuXG4vLyBUaGlzIGxvb2tzIGV4cGVuc2l2ZSwgYnV0IG9ubHkgcHJveGllcyBhcmUgdmlzaXRlZCwgYW5kIG9ubHkgb2JqZWN0cyB3aXRob3V0IGtub3duIGNoYW5nZXMgYXJlIHNjYW5uZWQuXG5mdW5jdGlvbiBtYXJrQ2hhbmdlc1N3ZWVwKHNjb3BlKSB7XG4gICAgLy8gVGhlIG5hdHVyYWwgb3JkZXIgb2YgZHJhZnRzIGluIHRoZSBgc2NvcGVgIGFycmF5IGlzIGJhc2VkIG9uIHdoZW4gdGhleVxuICAgIC8vIHdlcmUgYWNjZXNzZWQuIEJ5IHByb2Nlc3NpbmcgZHJhZnRzIGluIHJldmVyc2UgbmF0dXJhbCBvcmRlciwgd2UgaGF2ZSBhXG4gICAgLy8gYmV0dGVyIGNoYW5jZSBvZiBwcm9jZXNzaW5nIGxlYWYgbm9kZXMgZmlyc3QuIFdoZW4gYSBsZWFmIG5vZGUgaXMga25vd24gdG9cbiAgICAvLyBoYXZlIGNoYW5nZWQsIHdlIGNhbiBhdm9pZCBhbnkgdHJhdmVyc2FsIG9mIGl0cyBhbmNlc3RvciBub2Rlcy5cbiAgICBmb3IgKHZhciBpID0gc2NvcGUubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdmFyIHN0YXRlID0gc2NvcGVbaV07XG4gICAgICAgIGlmIChzdGF0ZS5tb2RpZmllZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHN0YXRlLmJhc2UpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc0FycmF5Q2hhbmdlcyhzdGF0ZSkpIG1hcmtDaGFuZ2VkKHN0YXRlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzT2JqZWN0Q2hhbmdlcyhzdGF0ZSkpIG1hcmtDaGFuZ2VkKHN0YXRlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gbWFya0NoYW5nZXNSZWN1cnNpdmVseShvYmplY3QpIHtcbiAgICBpZiAoIW9iamVjdCB8fCAodHlwZW9mIG9iamVjdCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9iamVjdCkpICE9PSBcIm9iamVjdFwiKSByZXR1cm47XG4gICAgdmFyIHN0YXRlID0gb2JqZWN0W0RSQUZUX1NUQVRFXTtcbiAgICBpZiAoIXN0YXRlKSByZXR1cm47XG4gICAgdmFyIGJhc2UgPSBzdGF0ZS5iYXNlLFxuICAgICAgICBkcmFmdCA9IHN0YXRlLmRyYWZ0LFxuICAgICAgICBhc3NpZ25lZCA9IHN0YXRlLmFzc2lnbmVkO1xuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG9iamVjdCkpIHtcbiAgICAgICAgLy8gTG9vayBmb3IgYWRkZWQga2V5cy5cbiAgICAgICAgT2JqZWN0LmtleXMoZHJhZnQpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgLy8gVGhlIGB1bmRlZmluZWRgIGNoZWNrIGlzIGEgZmFzdCBwYXRoIGZvciBwcmUtZXhpc3Rpbmcga2V5cy5cbiAgICAgICAgICAgIGlmIChiYXNlW2tleV0gPT09IHVuZGVmaW5lZCAmJiAhaGFzKGJhc2UsIGtleSkpIHtcbiAgICAgICAgICAgICAgICBhc3NpZ25lZFtrZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBtYXJrQ2hhbmdlZChzdGF0ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFhc3NpZ25lZFtrZXldKSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSB1bnRvdWNoZWQgcHJvcGVydGllcyB0cmlnZ2VyIHJlY3Vyc2lvbi5cbiAgICAgICAgICAgICAgICBtYXJrQ2hhbmdlc1JlY3Vyc2l2ZWx5KGRyYWZ0W2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gTG9vayBmb3IgcmVtb3ZlZCBrZXlzLlxuICAgICAgICBPYmplY3Qua2V5cyhiYXNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIC8vIFRoZSBgdW5kZWZpbmVkYCBjaGVjayBpcyBhIGZhc3QgcGF0aCBmb3IgcHJlLWV4aXN0aW5nIGtleXMuXG4gICAgICAgICAgICBpZiAoZHJhZnRba2V5XSA9PT0gdW5kZWZpbmVkICYmICFoYXMoZHJhZnQsIGtleSkpIHtcbiAgICAgICAgICAgICAgICBhc3NpZ25lZFtrZXldID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbWFya0NoYW5nZWQoc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGhhc0FycmF5Q2hhbmdlcyhzdGF0ZSkpIHtcbiAgICAgICAgbWFya0NoYW5nZWQoc3RhdGUpO1xuICAgICAgICBhc3NpZ25lZC5sZW5ndGggPSB0cnVlO1xuICAgICAgICBpZiAoZHJhZnQubGVuZ3RoIDwgYmFzZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBkcmFmdC5sZW5ndGg7IGkgPCBiYXNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYXNzaWduZWRbaV0gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gYmFzZS5sZW5ndGg7IF9pIDwgZHJhZnQubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgYXNzaWduZWRbX2ldID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBkcmFmdC5sZW5ndGg7IF9pMisrKSB7XG4gICAgICAgICAgICAvLyBPbmx5IHVudG91Y2hlZCBpbmRpY2VzIHRyaWdnZXIgcmVjdXJzaW9uLlxuICAgICAgICAgICAgaWYgKGFzc2lnbmVkW19pMl0gPT09IHVuZGVmaW5lZCkgbWFya0NoYW5nZXNSZWN1cnNpdmVseShkcmFmdFtfaTJdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gaGFzT2JqZWN0Q2hhbmdlcyhzdGF0ZSkge1xuICAgIHZhciBiYXNlID0gc3RhdGUuYmFzZSxcbiAgICAgICAgZHJhZnQgPSBzdGF0ZS5kcmFmdDtcblxuICAgIC8vIFNlYXJjaCBmb3IgYWRkZWQga2V5cy4gU3RhcnQgYXQgdGhlIGJhY2ssIGJlY2F1c2Ugbm9uLW51bWVyaWMga2V5c1xuICAgIC8vIGFyZSBvcmRlcmVkIGJ5IHRpbWUgb2YgZGVmaW5pdGlvbiBvbiB0aGUgb2JqZWN0LlxuXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhkcmFmdCk7XG4gICAgZm9yICh2YXIgaSA9IGtleXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgLy8gVGhlIGB1bmRlZmluZWRgIGNoZWNrIGlzIGEgZmFzdCBwYXRoIGZvciBwcmUtZXhpc3Rpbmcga2V5cy5cbiAgICAgICAgaWYgKGJhc2Vba2V5c1tpXV0gPT09IHVuZGVmaW5lZCAmJiAhaGFzKGJhc2UsIGtleXNbaV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNpbmNlIG5vIGtleXMgaGF2ZSBiZWVuIGFkZGVkLCB3ZSBjYW4gY29tcGFyZSBsZW5ndGhzIHRvIGtub3cgaWYgYW5cbiAgICAvLyBvYmplY3QgaGFzIGJlZW4gZGVsZXRlZC5cbiAgICByZXR1cm4ga2V5cy5sZW5ndGggIT09IE9iamVjdC5rZXlzKGJhc2UpLmxlbmd0aDtcbn1cblxuZnVuY3Rpb24gaGFzQXJyYXlDaGFuZ2VzKHN0YXRlKSB7XG4gICAgdmFyIGRyYWZ0ID0gc3RhdGUuZHJhZnQ7XG5cbiAgICBpZiAoZHJhZnQubGVuZ3RoICE9PSBzdGF0ZS5iYXNlLmxlbmd0aCkgcmV0dXJuIHRydWU7XG4gICAgLy8gU2VlICMxMTZcbiAgICAvLyBJZiB3ZSBmaXJzdCBzaG9ydGVuIHRoZSBsZW5ndGgsIG91ciBhcnJheSBpbnRlcmNlcHRvcnMgd2lsbCBiZSByZW1vdmVkLlxuICAgIC8vIElmIGFmdGVyIHRoYXQgbmV3IGl0ZW1zIGFyZSBhZGRlZCwgcmVzdWx0IGluIHRoZSBzYW1lIG9yaWdpbmFsIGxlbmd0aCxcbiAgICAvLyB0aG9zZSBsYXN0IGl0ZW1zIHdpbGwgaGF2ZSBubyBpbnRlcmNlcHRpbmcgcHJvcGVydHkuXG4gICAgLy8gU28gaWYgdGhlcmUgaXMgbm8gb3duIGRlc2NyaXB0b3Igb24gdGhlIGxhc3QgcG9zaXRpb24sIHdlIGtub3cgdGhhdCBpdGVtcyB3ZXJlIHJlbW92ZWQgYW5kIGFkZGVkXG4gICAgLy8gTi5CLjogc3BsaWNlLCB1bnNoaWZ0LCBldGMgb25seSBzaGlmdCB2YWx1ZXMgYXJvdW5kLCBidXQgbm90IHByb3AgZGVzY3JpcHRvcnMsIHNvIHdlIG9ubHkgaGF2ZSB0byBjaGVja1xuICAgIC8vIHRoZSBsYXN0IG9uZVxuICAgIHZhciBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkcmFmdCwgZHJhZnQubGVuZ3RoIC0gMSk7XG4gICAgLy8gZGVzY3JpcHRvciBjYW4gYmUgbnVsbCwgYnV0IG9ubHkgZm9yIG5ld2x5IGNyZWF0ZWQgc3BhcnNlIGFycmF5cywgZWcuIG5ldyBBcnJheSgxMClcbiAgICBpZiAoZGVzY3JpcHRvciAmJiAhZGVzY3JpcHRvci5nZXQpIHJldHVybiB0cnVlO1xuICAgIC8vIEZvciBhbGwgb3RoZXIgY2FzZXMsIHdlIGRvbid0IGhhdmUgdG8gY29tcGFyZSwgYXMgdGhleSB3b3VsZCBoYXZlIGJlZW4gcGlja2VkIHVwIGJ5IHRoZSBpbmRleCBzZXR0ZXJzXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVIaWRkZW5Qcm9wZXJ0eSh0YXJnZXQsIHByb3AsIHZhbHVlKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcCwge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xufVxuXG5cblxudmFyIGxlZ2FjeVByb3h5ID0gT2JqZWN0LmZyZWV6ZSh7XG5cdHNjb3Blczogc2NvcGVzLFxuXHRjdXJyZW50U2NvcGU6IGN1cnJlbnRTY29wZSxcblx0d2lsbEZpbmFsaXplOiB3aWxsRmluYWxpemUsXG5cdGNyZWF0ZURyYWZ0OiBjcmVhdGVEcmFmdFxufSk7XG5cbi8vIEB0cy1jaGVja1xuXG4vLyBGb3IgbmVzdGVkIHByb2R1Y2UgY2FsbHM6XG52YXIgc2NvcGVzJDEgPSBbXTtcbnZhciBjdXJyZW50U2NvcGUkMSA9IGZ1bmN0aW9uIGN1cnJlbnRTY29wZSgpIHtcbiAgICByZXR1cm4gc2NvcGVzJDFbc2NvcGVzJDEubGVuZ3RoIC0gMV07XG59O1xuXG4vLyBEbyBub3RoaW5nIGJlZm9yZSBiZWluZyBmaW5hbGl6ZWQuXG5mdW5jdGlvbiB3aWxsRmluYWxpemUkMSgpIHt9XG5cbmZ1bmN0aW9uIGNyZWF0ZURyYWZ0JDEoYmFzZSwgcGFyZW50KSB7XG4gICAgdmFyIHN0YXRlID0ge1xuICAgICAgICAvLyBUcmFjayB3aGljaCBwcm9kdWNlIGNhbGwgdGhpcyBpcyBhc3NvY2lhdGVkIHdpdGguXG4gICAgICAgIHNjb3BlOiBwYXJlbnQgPyBwYXJlbnQuc2NvcGUgOiBjdXJyZW50U2NvcGUkMSgpLFxuICAgICAgICAvLyBUcnVlIGZvciBib3RoIHNoYWxsb3cgYW5kIGRlZXAgY2hhbmdlcy5cbiAgICAgICAgbW9kaWZpZWQ6IGZhbHNlLFxuICAgICAgICAvLyBVc2VkIGR1cmluZyBmaW5hbGl6YXRpb24uXG4gICAgICAgIGZpbmFsaXplZDogZmFsc2UsXG4gICAgICAgIC8vIFRyYWNrIHdoaWNoIHByb3BlcnRpZXMgaGF2ZSBiZWVuIGFzc2lnbmVkICh0cnVlKSBvciBkZWxldGVkIChmYWxzZSkuXG4gICAgICAgIGFzc2lnbmVkOiB7fSxcbiAgICAgICAgLy8gVGhlIHBhcmVudCBkcmFmdCBzdGF0ZS5cbiAgICAgICAgcGFyZW50OiBwYXJlbnQsXG4gICAgICAgIC8vIFRoZSBiYXNlIHN0YXRlLlxuICAgICAgICBiYXNlOiBiYXNlLFxuICAgICAgICAvLyBUaGUgYmFzZSBwcm94eS5cbiAgICAgICAgZHJhZnQ6IG51bGwsXG4gICAgICAgIC8vIEFueSBwcm9wZXJ0eSBwcm94aWVzLlxuICAgICAgICBkcmFmdHM6IHt9LFxuICAgICAgICAvLyBUaGUgYmFzZSBjb3B5IHdpdGggYW55IHVwZGF0ZWQgdmFsdWVzLlxuICAgICAgICBjb3B5OiBudWxsLFxuICAgICAgICAvLyBDYWxsZWQgYnkgdGhlIGBwcm9kdWNlYCBmdW5jdGlvbi5cbiAgICAgICAgcmV2b2tlOiBudWxsXG4gICAgfTtcblxuICAgIHZhciBfcmVmID0gQXJyYXkuaXNBcnJheShiYXNlKSA/IFByb3h5LnJldm9jYWJsZShbc3RhdGVdLCBhcnJheVRyYXBzKSA6IFByb3h5LnJldm9jYWJsZShzdGF0ZSwgb2JqZWN0VHJhcHMpLFxuICAgICAgICByZXZva2UgPSBfcmVmLnJldm9rZSxcbiAgICAgICAgcHJveHkgPSBfcmVmLnByb3h5O1xuXG4gICAgc3RhdGUuZHJhZnQgPSBwcm94eTtcbiAgICBzdGF0ZS5yZXZva2UgPSByZXZva2U7XG5cbiAgICBzdGF0ZS5zY29wZS5wdXNoKHN0YXRlKTtcbiAgICByZXR1cm4gcHJveHk7XG59XG5cbnZhciBvYmplY3RUcmFwcyA9IHtcbiAgICBnZXQ6IGdldCQxLFxuICAgIGhhczogZnVuY3Rpb24gaGFzJCQxKHRhcmdldCwgcHJvcCkge1xuICAgICAgICByZXR1cm4gcHJvcCBpbiBzb3VyY2UkMSh0YXJnZXQpO1xuICAgIH0sXG4gICAgb3duS2V5czogZnVuY3Rpb24gb3duS2V5cyh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyhzb3VyY2UkMSh0YXJnZXQpKTtcbiAgICB9LFxuXG4gICAgc2V0OiBzZXQkMSxcbiAgICBkZWxldGVQcm9wZXJ0eTogZGVsZXRlUHJvcGVydHksXG4gICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gICAgZGVmaW5lUHJvcGVydHk6IGRlZmluZVByb3BlcnR5JDEsXG4gICAgc2V0UHJvdG90eXBlT2Y6IGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbW1lciBkb2VzIG5vdCBzdXBwb3J0IGBzZXRQcm90b3R5cGVPZigpYC5cIik7XG4gICAgfVxufTtcblxudmFyIGFycmF5VHJhcHMgPSB7fTtcbmVhY2gob2JqZWN0VHJhcHMsIGZ1bmN0aW9uIChrZXksIGZuKSB7XG4gICAgYXJyYXlUcmFwc1trZXldID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBhcmd1bWVudHNbMF0gPSBhcmd1bWVudHNbMF1bMF07XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG59KTtcbmFycmF5VHJhcHMuZGVsZXRlUHJvcGVydHkgPSBmdW5jdGlvbiAoc3RhdGUsIHByb3ApIHtcbiAgICBpZiAoaXNOYU4ocGFyc2VJbnQocHJvcCkpKSB0aHJvdyBuZXcgRXJyb3IoXCJJbW1lciBkb2VzIG5vdCBzdXBwb3J0IGRlbGV0aW5nIHByb3BlcnRpZXMgZnJvbSBhcnJheXM6IFwiICsgcHJvcCk7XG4gICAgcmV0dXJuIG9iamVjdFRyYXBzLmRlbGV0ZVByb3BlcnR5LmNhbGwodGhpcywgc3RhdGVbMF0sIHByb3ApO1xufTtcbmFycmF5VHJhcHMuc2V0ID0gZnVuY3Rpb24gKHN0YXRlLCBwcm9wLCB2YWx1ZSkge1xuICAgIGlmIChwcm9wICE9PSBcImxlbmd0aFwiICYmIGlzTmFOKHBhcnNlSW50KHByb3ApKSkgdGhyb3cgbmV3IEVycm9yKFwiSW1tZXIgZG9lcyBub3Qgc3VwcG9ydCBzZXR0aW5nIG5vbi1udW1lcmljIHByb3BlcnRpZXMgb24gYXJyYXlzOiBcIiArIHByb3ApO1xuICAgIHJldHVybiBvYmplY3RUcmFwcy5zZXQuY2FsbCh0aGlzLCBzdGF0ZVswXSwgcHJvcCwgdmFsdWUpO1xufTtcblxuZnVuY3Rpb24gc291cmNlJDEoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUuY29weSB8fCBzdGF0ZS5iYXNlO1xufVxuXG5mdW5jdGlvbiBnZXQkMShzdGF0ZSwgcHJvcCkge1xuICAgIGlmIChwcm9wID09PSBEUkFGVF9TVEFURSkgcmV0dXJuIHN0YXRlO1xuICAgIHZhciBkcmFmdHMgPSBzdGF0ZS5kcmFmdHM7XG5cbiAgICAvLyBDaGVjayBmb3IgZXhpc3RpbmcgZHJhZnQgaW4gdW5tb2RpZmllZCBzdGF0ZS5cblxuICAgIGlmICghc3RhdGUubW9kaWZpZWQgJiYgaGFzKGRyYWZ0cywgcHJvcCkpIHtcbiAgICAgICAgcmV0dXJuIGRyYWZ0c1twcm9wXTtcbiAgICB9XG5cbiAgICB2YXIgdmFsdWUgPSBzb3VyY2UkMShzdGF0ZSlbcHJvcF07XG4gICAgaWYgKHN0YXRlLmZpbmFsaXplZCB8fCAhaXNEcmFmdGFibGUodmFsdWUpKSByZXR1cm4gdmFsdWU7XG5cbiAgICAvLyBDaGVjayBmb3IgZXhpc3RpbmcgZHJhZnQgaW4gbW9kaWZpZWQgc3RhdGUuXG4gICAgaWYgKHN0YXRlLm1vZGlmaWVkKSB7XG4gICAgICAgIC8vIEFzc2lnbmVkIHZhbHVlcyBhcmUgbmV2ZXIgZHJhZnRlZC4gVGhpcyBjYXRjaGVzIGFueSBkcmFmdHMgd2UgY3JlYXRlZCwgdG9vLlxuICAgICAgICBpZiAodmFsdWUgIT09IHN0YXRlLmJhc2VbcHJvcF0pIHJldHVybiB2YWx1ZTtcbiAgICAgICAgLy8gU3RvcmUgZHJhZnRzIG9uIHRoZSBjb3B5ICh3aGVuIG9uZSBleGlzdHMpLlxuICAgICAgICBkcmFmdHMgPSBzdGF0ZS5jb3B5O1xuICAgIH1cblxuICAgIHJldHVybiBkcmFmdHNbcHJvcF0gPSBjcmVhdGVEcmFmdCQxKHZhbHVlLCBzdGF0ZSk7XG59XG5cbmZ1bmN0aW9uIHNldCQxKHN0YXRlLCBwcm9wLCB2YWx1ZSkge1xuICAgIGlmICghc3RhdGUubW9kaWZpZWQpIHtcbiAgICAgICAgLy8gT3B0aW1pemUgYmFzZWQgb24gdmFsdWUncyB0cnV0aGluZXNzLiBUcnV0aHkgdmFsdWVzIGFyZSBndWFyYW50ZWVkIHRvXG4gICAgICAgIC8vIG5ldmVyIGJlIHVuZGVmaW5lZCwgc28gd2UgY2FuIGF2b2lkIHRoZSBgaW5gIG9wZXJhdG9yLiBMYXN0bHksIHRydXRoeVxuICAgICAgICAvLyB2YWx1ZXMgbWF5IGJlIGRyYWZ0cywgYnV0IGZhbHN5IHZhbHVlcyBhcmUgbmV2ZXIgZHJhZnRzLlxuICAgICAgICB2YXIgaXNVbmNoYW5nZWQgPSB2YWx1ZSA/IGlzKHN0YXRlLmJhc2VbcHJvcF0sIHZhbHVlKSB8fCB2YWx1ZSA9PT0gc3RhdGUuZHJhZnRzW3Byb3BdIDogaXMoc3RhdGUuYmFzZVtwcm9wXSwgdmFsdWUpICYmIHByb3AgaW4gc3RhdGUuYmFzZTtcbiAgICAgICAgaWYgKGlzVW5jaGFuZ2VkKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgbWFya0NoYW5nZWQkMShzdGF0ZSk7XG4gICAgfVxuICAgIHN0YXRlLmFzc2lnbmVkW3Byb3BdID0gdHJ1ZTtcbiAgICBzdGF0ZS5jb3B5W3Byb3BdID0gdmFsdWU7XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGRlbGV0ZVByb3BlcnR5KHN0YXRlLCBwcm9wKSB7XG4gICAgLy8gVGhlIGB1bmRlZmluZWRgIGNoZWNrIGlzIGEgZmFzdCBwYXRoIGZvciBwcmUtZXhpc3Rpbmcga2V5cy5cbiAgICBpZiAoc3RhdGUuYmFzZVtwcm9wXSAhPT0gdW5kZWZpbmVkIHx8IHByb3AgaW4gc3RhdGUuYmFzZSkge1xuICAgICAgICBzdGF0ZS5hc3NpZ25lZFtwcm9wXSA9IGZhbHNlO1xuICAgICAgICBtYXJrQ2hhbmdlZCQxKHN0YXRlKTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLmNvcHkpIGRlbGV0ZSBzdGF0ZS5jb3B5W3Byb3BdO1xuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc3RhdGUsIHByb3ApIHtcbiAgICB2YXIgb3duZXIgPSBzdGF0ZS5tb2RpZmllZCA/IHN0YXRlLmNvcHkgOiBoYXMoc3RhdGUuZHJhZnRzLCBwcm9wKSA/IHN0YXRlLmRyYWZ0cyA6IHN0YXRlLmJhc2U7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvd25lciwgcHJvcCk7XG4gICAgaWYgKGRlc2NyaXB0b3IgJiYgIShBcnJheS5pc0FycmF5KG93bmVyKSAmJiBwcm9wID09PSBcImxlbmd0aFwiKSkgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIHJldHVybiBkZXNjcmlwdG9yO1xufVxuXG5mdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eSQxKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkltbWVyIGRvZXMgbm90IHN1cHBvcnQgZGVmaW5pbmcgcHJvcGVydGllcyBvbiBkcmFmdCBvYmplY3RzLlwiKTtcbn1cblxuZnVuY3Rpb24gbWFya0NoYW5nZWQkMShzdGF0ZSkge1xuICAgIGlmICghc3RhdGUubW9kaWZpZWQpIHtcbiAgICAgICAgc3RhdGUubW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICBzdGF0ZS5jb3B5ID0gYXNzaWduKHNoYWxsb3dDb3B5KHN0YXRlLmJhc2UpLCBzdGF0ZS5kcmFmdHMpO1xuICAgICAgICBzdGF0ZS5kcmFmdHMgPSBudWxsO1xuICAgICAgICBpZiAoc3RhdGUucGFyZW50KSBtYXJrQ2hhbmdlZCQxKHN0YXRlLnBhcmVudCk7XG4gICAgfVxufVxuXG52YXIgbW9kZXJuUHJveHkgPSBPYmplY3QuZnJlZXplKHtcblx0c2NvcGVzOiBzY29wZXMkMSxcblx0Y3VycmVudFNjb3BlOiBjdXJyZW50U2NvcGUkMSxcblx0d2lsbEZpbmFsaXplOiB3aWxsRmluYWxpemUkMSxcblx0Y3JlYXRlRHJhZnQ6IGNyZWF0ZURyYWZ0JDFcbn0pO1xuXG5mdW5jdGlvbiB2ZXJpZnlNaW5pZmllZCgpIHt9XG5cbnZhciBjb25maWdEZWZhdWx0cyA9IHtcbiAgICB1c2VQcm94aWVzOiB0eXBlb2YgUHJveHkgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIFJlZmxlY3QgIT09IFwidW5kZWZpbmVkXCIsXG4gICAgYXV0b0ZyZWV6ZTogdHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgOiB2ZXJpZnlNaW5pZmllZC5uYW1lID09PSBcInZlcmlmeU1pbmlmaWVkXCIsXG4gICAgb25Bc3NpZ246IG51bGwsXG4gICAgb25EZWxldGU6IG51bGwsXG4gICAgb25Db3B5OiBudWxsXG59O1xuXG52YXIgSW1tZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW1tZXIoY29uZmlnKSB7XG4gICAgICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIEltbWVyKTtcblxuICAgICAgICBhc3NpZ24odGhpcywgY29uZmlnRGVmYXVsdHMsIGNvbmZpZyk7XG4gICAgICAgIHRoaXMuc2V0VXNlUHJveGllcyh0aGlzLnVzZVByb3hpZXMpO1xuICAgICAgICB0aGlzLnByb2R1Y2UgPSB0aGlzLnByb2R1Y2UuYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICBjcmVhdGVDbGFzcyhJbW1lciwgW3tcbiAgICAgICAga2V5OiBcInByb2R1Y2VcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHByb2R1Y2UoYmFzZSwgcmVjaXBlLCBwYXRjaExpc3RlbmVyKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAvLyBjdXJyaWVkIGludm9jYXRpb25cbiAgICAgICAgICAgIGlmICh0eXBlb2YgYmFzZSA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiByZWNpcGUgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHZhciBkZWZhdWx0QmFzZSA9IHJlY2lwZTtcbiAgICAgICAgICAgICAgICByZWNpcGUgPSBiYXNlO1xuXG4gICAgICAgICAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBiYXNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBkZWZhdWx0QmFzZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnByb2R1Y2UoYmFzZSwgZnVuY3Rpb24gKGRyYWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3JlY2lwZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChfcmVjaXBlID0gcmVjaXBlKS5jYWxsLmFwcGx5KF9yZWNpcGUsIFtkcmFmdCwgZHJhZnRdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVjaXBlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcihcImlmIGZpcnN0IGFyZ3VtZW50IGlzIG5vdCBhIGZ1bmN0aW9uLCB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIHByb2R1Y2Ugc2hvdWxkIGJlIGEgZnVuY3Rpb25cIik7XG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoTGlzdGVuZXIgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgcGF0Y2hMaXN0ZW5lciAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3IoXCJ0aGUgdGhpcmQgYXJndW1lbnQgb2YgYSBwcm9kdWNlciBzaG91bGQgbm90IGJlIHNldCBvciBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdm9pZCAwO1xuICAgICAgICAgICAgLy8gT25seSBjcmVhdGUgcHJveGllcyBmb3IgcGxhaW4gb2JqZWN0cy9hcnJheXMuXG4gICAgICAgICAgICBpZiAoIWlzRHJhZnRhYmxlKGJhc2UpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVjaXBlKGJhc2UpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGJhc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZWUgIzEwMCwgZG9uJ3QgbmVzdCBwcm9kdWNlcnNcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRHJhZnQoYmFzZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVjaXBlLmNhbGwoYmFzZSwgYmFzZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGJhc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRoZSBnaXZlbiB2YWx1ZSBtdXN0IGJlIHByb3hpZWQuXG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjb3Blcy5wdXNoKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiYXNlRHJhZnQgPSB0aGlzLmNyZWF0ZURyYWZ0KGJhc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZWNpcGUuY2FsbChiYXNlRHJhZnQsIGJhc2VEcmFmdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53aWxsRmluYWxpemUocmVzdWx0LCBiYXNlRHJhZnQsICEhcGF0Y2hMaXN0ZW5lcik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOZXZlciBnZW5lcmF0ZSBwYXRjaGVzIHdoZW4gbm8gbGlzdGVuZXIgZXhpc3RzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXRjaGVzID0gcGF0Y2hMaXN0ZW5lciAmJiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52ZXJzZVBhdGNoZXMgPSBwYXRjaExpc3RlbmVyICYmIFtdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmluYWxpemUgdGhlIG1vZGlmaWVkIGRyYWZ0Li4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkIHx8IHJlc3VsdCA9PT0gYmFzZURyYWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuZmluYWxpemUoYmFzZURyYWZ0LCBbXSwgcGF0Y2hlcywgaW52ZXJzZVBhdGNoZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLi5vciB1c2UgYSByZXBsYWNlbWVudCB2YWx1ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZXJzIG11c3QgbmV2ZXIgbW9kaWZ5IHRoZSBkcmFmdCBfYW5kXyByZXR1cm4gc29tZXRoaW5nIGVsc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFzZURyYWZ0W0RSQUZUX1NUQVRFXS5tb2RpZmllZCkgdGhyb3cgbmV3IEVycm9yKFwiQW4gaW1tZXIgcHJvZHVjZXIgcmV0dXJuZWQgYSBuZXcgdmFsdWUgKmFuZCogbW9kaWZpZWQgaXRzIGRyYWZ0LiBFaXRoZXIgcmV0dXJuIGEgbmV3IHZhbHVlICpvciogbW9kaWZ5IHRoZSBkcmFmdC5cIik7IC8vIHByZXR0aWVyLWlnbm9yZVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaW5hbGl6ZSB0aGUgcmVwbGFjZW1lbnQgaW4gY2FzZSBpdCBjb250YWlucyAob3IgaXMpIGEgc3Vic2V0IG9mIHRoZSBkcmFmdC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0RyYWZ0YWJsZShyZXN1bHQpKSByZXN1bHQgPSB0aGlzLmZpbmFsaXplKHJlc3VsdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXRjaExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmVyc2VQYXRjaGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYmFzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFNjb3BlKCkuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLnJldm9rZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2NvcGVzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hMaXN0ZW5lciAmJiBwYXRjaExpc3RlbmVyKHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm9ybWFsaXplIHRoZSByZXN1bHQuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0ID09PSBOT1RISU5HID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwic2V0QXV0b0ZyZWV6ZVwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0QXV0b0ZyZWV6ZSh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5hdXRvRnJlZXplID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJzZXRVc2VQcm94aWVzXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRVc2VQcm94aWVzKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVzZVByb3hpZXMgPSB2YWx1ZTtcbiAgICAgICAgICAgIGFzc2lnbih0aGlzLCB2YWx1ZSA/IG1vZGVyblByb3h5IDogbGVnYWN5UHJveHkpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICogRmluYWxpemUgYSBkcmFmdCwgcmV0dXJuaW5nIGVpdGhlciB0aGUgdW5tb2RpZmllZCBiYXNlIHN0YXRlIG9yIGEgbW9kaWZpZWRcbiAgICAgICAgICogY29weSBvZiB0aGUgYmFzZSBzdGF0ZS5cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJmaW5hbGl6ZVwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZmluYWxpemUoZHJhZnQsIHBhdGgsIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKSB7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSBkcmFmdFtEUkFGVF9TVEFURV07XG4gICAgICAgICAgICBpZiAoIXN0YXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5pc0Zyb3plbihkcmFmdCkpIHJldHVybiBkcmFmdDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maW5hbGl6ZVRyZWUoZHJhZnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTmV2ZXIgZmluYWxpemUgZHJhZnRzIG93bmVkIGJ5IGFuIG91dGVyIHNjb3BlLlxuICAgICAgICAgICAgaWYgKHN0YXRlLnNjb3BlICE9PSB0aGlzLmN1cnJlbnRTY29wZSgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRyYWZ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzdGF0ZS5tb2RpZmllZCkgcmV0dXJuIHN0YXRlLmJhc2U7XG4gICAgICAgICAgICBpZiAoIXN0YXRlLmZpbmFsaXplZCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmZpbmFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5maW5hbGl6ZVRyZWUoc3RhdGUuZHJhZnQsIHBhdGgsIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vbkRlbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXNzaWduZWQgPSBzdGF0ZS5hc3NpZ25lZDtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIGFzc2lnbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZFtwcm9wXSB8fCB0aGlzLm9uRGVsZXRlKHN0YXRlLCBwcm9wKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vbkNvcHkpIHRoaXMub25Db3B5KHN0YXRlKTtcblxuICAgICAgICAgICAgICAgIC8vIE5lc3RlZCBwcm9kdWNlcnMgbXVzdCBuZXZlciBhdXRvLWZyZWV6ZSB0aGVpciByZXN1bHQsXG4gICAgICAgICAgICAgICAgLy8gYmVjYXVzZSBpdCBtYXkgY29udGFpbiBkcmFmdHMgZnJvbSBwYXJlbnQgcHJvZHVjZXJzLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmF1dG9GcmVlemUgJiYgdGhpcy5zY29wZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5mcmVlemUoc3RhdGUuY29weSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoZXMpIGdlbmVyYXRlUGF0Y2hlcyhzdGF0ZSwgcGF0aCwgcGF0Y2hlcywgaW52ZXJzZVBhdGNoZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLmNvcHk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKiBGaW5hbGl6ZSBhbGwgZHJhZnRzIGluIHRoZSBnaXZlbiBzdGF0ZSB0cmVlLlxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImZpbmFsaXplVHJlZVwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZmluYWxpemVUcmVlKHJvb3QsIHBhdGgsIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIHN0YXRlID0gcm9vdFtEUkFGVF9TVEFURV07XG4gICAgICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICByb290ID0gdGhpcy51c2VQcm94aWVzID8gc3RhdGUuY29weSA6IHN0YXRlLmNvcHkgPSBzaGFsbG93Q29weShzdGF0ZS5kcmFmdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBvbkFzc2lnbiA9IHRoaXMub25Bc3NpZ247XG5cbiAgICAgICAgICAgIHZhciBmaW5hbGl6ZVByb3BlcnR5ID0gZnVuY3Rpb24gZmluYWxpemVQcm9wZXJ0eShwcm9wLCB2YWx1ZSwgcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSBgcm9vdGAgY2FuIGJlIGEgZHJhZnQgaW4gaGVyZS5cbiAgICAgICAgICAgICAgICB2YXIgaW5EcmFmdCA9ICEhc3RhdGUgJiYgcGFyZW50ID09PSByb290O1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzRHJhZnQodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRbcHJvcF0gPSB2YWx1ZSA9XG4gICAgICAgICAgICAgICAgICAgIC8vIFBhdGNoZXMgYXJlIG5ldmVyIGdlbmVyYXRlZCBmb3IgYXNzaWduZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hlcyAmJiBpbkRyYWZ0ICYmICFzdGF0ZS5hc3NpZ25lZFtwcm9wXSA/IF90aGlzMi5maW5hbGl6ZSh2YWx1ZSwgcGF0aC5jb25jYXQocHJvcCksIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKSA6IF90aGlzMi5maW5hbGl6ZSh2YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVW5jaGFuZ2VkIGRyYWZ0cyBhcmUgaWdub3JlZC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGluRHJhZnQgJiYgdmFsdWUgPT09IHN0YXRlLmJhc2VbcHJvcF0pIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVW5jaGFuZ2VkIGRyYWZ0IHByb3BlcnRpZXMgYXJlIGlnbm9yZWQuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaW5EcmFmdCAmJiBpcyh2YWx1ZSwgc3RhdGUuYmFzZVtwcm9wXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBTZWFyY2ggbmV3IG9iamVjdHMgZm9yIHVuZmluYWxpemVkIGRyYWZ0cy4gRnJvemVuIG9iamVjdHMgc2hvdWxkIG5ldmVyIGNvbnRhaW4gZHJhZnRzLlxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0RyYWZ0YWJsZSh2YWx1ZSkgJiYgIU9iamVjdC5pc0Zyb3plbih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYWNoKHZhbHVlLCBmaW5hbGl6ZVByb3BlcnR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpbkRyYWZ0ICYmIG9uQXNzaWduKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uQXNzaWduKHN0YXRlLCBwcm9wLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZWFjaChyb290LCBmaW5hbGl6ZVByb3BlcnR5KTtcbiAgICAgICAgICAgIHJldHVybiByb290O1xuICAgICAgICB9XG4gICAgfV0pO1xuICAgIHJldHVybiBJbW1lcjtcbn0oKTtcblxudmFyIGltbWVyID0gbmV3IEltbWVyKCk7XG5cbi8qKlxuICogVGhlIGBwcm9kdWNlYCBmdW5jdGlvbiB0YWtlcyBhIHZhbHVlIGFuZCBhIFwicmVjaXBlIGZ1bmN0aW9uXCIgKHdob3NlXG4gKiByZXR1cm4gdmFsdWUgb2Z0ZW4gZGVwZW5kcyBvbiB0aGUgYmFzZSBzdGF0ZSkuIFRoZSByZWNpcGUgZnVuY3Rpb24gaXNcbiAqIGZyZWUgdG8gbXV0YXRlIGl0cyBmaXJzdCBhcmd1bWVudCBob3dldmVyIGl0IHdhbnRzLiBBbGwgbXV0YXRpb25zIGFyZVxuICogb25seSBldmVyIGFwcGxpZWQgdG8gYSBfX2NvcHlfXyBvZiB0aGUgYmFzZSBzdGF0ZS5cbiAqXG4gKiBQYXNzIG9ubHkgYSBmdW5jdGlvbiB0byBjcmVhdGUgYSBcImN1cnJpZWQgcHJvZHVjZXJcIiB3aGljaCByZWxpZXZlcyB5b3VcbiAqIGZyb20gcGFzc2luZyB0aGUgcmVjaXBlIGZ1bmN0aW9uIGV2ZXJ5IHRpbWUuXG4gKlxuICogT25seSBwbGFpbiBvYmplY3RzIGFuZCBhcnJheXMgYXJlIG1hZGUgbXV0YWJsZS4gQWxsIG90aGVyIG9iamVjdHMgYXJlXG4gKiBjb25zaWRlcmVkIHVuY29weWFibGUuXG4gKlxuICogTm90ZTogVGhpcyBmdW5jdGlvbiBpcyBfX2JvdW5kX18gdG8gaXRzIGBJbW1lcmAgaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIHthbnl9IGJhc2UgLSB0aGUgaW5pdGlhbCBzdGF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvZHVjZXIgLSBmdW5jdGlvbiB0aGF0IHJlY2VpdmVzIGEgcHJveHkgb2YgdGhlIGJhc2Ugc3RhdGUgYXMgZmlyc3QgYXJndW1lbnQgYW5kIHdoaWNoIGNhbiBiZSBmcmVlbHkgbW9kaWZpZWRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHBhdGNoTGlzdGVuZXIgLSBvcHRpb25hbCBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdpdGggYWxsIHRoZSBwYXRjaGVzIHByb2R1Y2VkIGhlcmVcbiAqIEByZXR1cm5zIHthbnl9IGEgbmV3IHN0YXRlLCBvciB0aGUgaW5pdGlhbCBzdGF0ZSBpZiBub3RoaW5nIHdhcyBtb2RpZmllZFxuICovXG52YXIgcHJvZHVjZSA9IGltbWVyLnByb2R1Y2U7XG4vKipcbiAqIFBhc3MgdHJ1ZSB0byBhdXRvbWF0aWNhbGx5IGZyZWV6ZSBhbGwgY29waWVzIGNyZWF0ZWQgYnkgSW1tZXIuXG4gKlxuICogQnkgZGVmYXVsdCwgYXV0by1mcmVlemluZyBpcyBkaXNhYmxlZCBpbiBwcm9kdWN0aW9uLlxuICovXG52YXIgc2V0QXV0b0ZyZWV6ZSA9IGZ1bmN0aW9uIHNldEF1dG9GcmVlemUodmFsdWUpIHtcbiAgcmV0dXJuIGltbWVyLnNldEF1dG9GcmVlemUodmFsdWUpO1xufTtcblxuLyoqXG4gKiBQYXNzIHRydWUgdG8gdXNlIHRoZSBFUzIwMTUgYFByb3h5YCBjbGFzcyB3aGVuIGNyZWF0aW5nIGRyYWZ0cywgd2hpY2ggaXNcbiAqIGFsd2F5cyBmYXN0ZXIgdGhhbiB1c2luZyBFUzUgcHJveGllcy5cbiAqXG4gKiBCeSBkZWZhdWx0LCBmZWF0dXJlIGRldGVjdGlvbiBpcyB1c2VkLCBzbyBjYWxsaW5nIHRoaXMgaXMgcmFyZWx5IG5lY2Vzc2FyeS5cbiAqL1xudmFyIHNldFVzZVByb3hpZXMgPSBmdW5jdGlvbiBzZXRVc2VQcm94aWVzKHZhbHVlKSB7XG4gIHJldHVybiBpbW1lci5zZXRVc2VQcm94aWVzKHZhbHVlKTtcbn07XG5cbi8qKlxuICogQXBwbHkgYW4gYXJyYXkgb2YgSW1tZXIgcGF0Y2hlcyB0byB0aGUgZmlyc3QgYXJndW1lbnQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBhIHByb2R1Y2VyLCB3aGljaCBtZWFucyBjb3B5LW9uLXdyaXRlIGlzIGluIGVmZmVjdC5cbiAqL1xudmFyIGFwcGx5UGF0Y2hlcyQxID0gcHJvZHVjZShhcHBseVBhdGNoZXMpO1xuXG5leHBvcnQgeyBwcm9kdWNlLCBzZXRBdXRvRnJlZXplLCBzZXRVc2VQcm94aWVzLCBhcHBseVBhdGNoZXMkMSBhcyBhcHBseVBhdGNoZXMsIEltbWVyLCBvcmlnaW5hbCwgaXNEcmFmdCwgTk9USElORyBhcyBub3RoaW5nIH07XG5leHBvcnQgZGVmYXVsdCBwcm9kdWNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW1tZXIubW9kdWxlLmpzLm1hcFxuIiwiaW1wb3J0IFJlYWN0LCB7Q29tcG9uZW50fSBmcm9tICdyZWFjdCc7XHJcblxyXG5jb25zdCBhc3luY0NvbXBvbmVudCA9IChpbXBvcnRDb21wb25lbnQsIGxvYWRlciA9IG51bGwpID0+IHtcclxuICByZXR1cm4gY2xhc3MgZXh0ZW5kcyBDb21wb25lbnQge1xyXG4gICAgc3RhdGUgPSB7XHJcbiAgICAgIGNvbXBvbmVudDogbnVsbFxyXG4gICAgfVxyXG5cclxuICAgIGNvbXBvbmVudERpZE1vdW50KCkge1xyXG4gICAgICBpbXBvcnRDb21wb25lbnQoKVxyXG4gICAgICAgIC50aGVuKGNtcCA9PiB7XHJcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtjb21wb25lbnQ6IGNtcC5kZWZhdWx0fSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICBjb25zdCBDID0gdGhpcy5zdGF0ZS5jb21wb25lbnQ7XHJcbiAgICAgIHJldHVybiBDID8gPEMgey4uLnRoaXMucHJvcHN9Lz4gOiBsb2FkZXI7XHJcbiAgICB9XHJcbiAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmNDb21wb25lbnQ7XHJcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IChwcm9wcykgPT4ge1xyXG4gIGNvbnN0IHtcclxuICAgIHBvc3RzLFxyXG4gICAgYWN0aXZlUG9zdElkeCxcclxuICAgIG9uVGl0bGVDbGljayxcclxuICB9ID0gcHJvcHM7XHJcblxyXG4gIHJldHVybiAoXHJcbiAgICA8dWw+XHJcbiAgICAgICAge1xyXG4gICAgICAgICAgcG9zdHMubWFwKCh7IHRpdGxlLCBpZCwgcG9zdFR5cGU6IHR5cGUsIGF0dGFjaG1lbnRfdXJsfSwgaWR4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzQWN0aXZlID0gYWN0aXZlUG9zdElkeCA9PT0gaWR4O1xyXG4gICAgICAgICAgICByZXR1cm4gKFxyXG4gICAgICAgICAgICAgIDxsaVxyXG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4ge29uVGl0bGVDbGljayhpZHgpfX1cclxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7aXNBY3RpdmUgPyAnYWN0aXZlJyA6ICcnfWB9XHJcbiAgICAgICAgICAgICAgPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGl0bGVcIj5cclxuICAgICAgICAgICAgICAgICAge3RpdGxlfVxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgPC91bD5cclxuICApXHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgKHsgUGVyc2lzdG9yLCBwb3N0TGlzdFVwZGF0ZXIsIGFwaSwgYWN0aXZlfSwgdHlwZSkgPT5cclxuICAoe2Vycm9yLCBzdWNjZXNzLCB3YXJufSwgY20pID0+IHtcclxuICAgIGNvbnN0IHBpZCA9IGNtLmdldE9wdGlvbignY29udGVudElkJyk7XHJcbiAgICBQZXJzaXN0b3IucmVtb3ZlKHBpZCk7XHJcbiAgICBwb3N0TGlzdFVwZGF0ZXIoKG9sZFBvc3RMaXN0KSA9PiB7XHJcbiAgICAgIHJldHVybiBvbGRQb3N0TGlzdC5maWx0ZXIocCA9PiBwLmlkICE9PSBwaWQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgaWYodHlwZSA9PT0gJ2RyYWZ0Jykge1xyXG4gICAgICBzdWNjZXNzKCfljZrmloflt7Lnu4/liKDpmaQnKVxyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgYXBpLmRlbGV0ZShwaWQpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBhY3RpdmUoMCk7XHJcbiAgICAgICAgc3VjY2Vzcygn5Y2a5paH5rC45LmF5Yig6ZmkJylcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlKSA9PiB7XHJcbiAgICAgICAgZXJyb3IoJ+WNmuaWh+WIoOmZpOWksei0pScpO1xyXG4gICAgICB9KTtcclxuICB9XHJcblxyXG4iLCJleHBvcnQgZGVmYXVsdCAoeyBQZXJzaXN0b3IsIGFwaSwgcG9zdExpc3RVcGRhdGVyLCBsb2FkaW5nIH0pID0+XHJcbiAgKHtlcnJvciwgc3VjY2Vzcywgd2Fybn0sIGNtKSA9PiB7XHJcbiAgICBjb25zdCB0aXRsZSA9IGNtLmdldE9wdGlvbignbmV3UG9zdFRpdGxlJyk7XHJcbiAgICBjb25zdCB0bXBJZCA9IGNtLmdldE9wdGlvbignY29udGVudElkJyk7XHJcbiAgICBjb25zdCB0bXBUaXRsZSA9IFBlcnNpc3Rvci5nZXQodG1wSWQpLnRpdGxlO1xyXG5cclxuICAgIGNvbnN0IGNvbnRlbnQgPSBjbS5kb2MuZ2V0VmFsdWUoKTtcclxuICAgIGlmICghKHRpdGxlIHx8IHRtcFRpdGxlKSkge1xyXG4gICAgICBlcnJvcign5qCH6aKY5LiN6IO95Li656m6IScpO1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoIWNvbnRlbnQpIHtcclxuICAgICAgZXJyb3IoJ+WGheWuueS4jeiDveS4uuepuiEnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGxvYWRpbmcodHJ1ZSk7XHJcbiAgICBhcGkuY3JlYXRlKHRpdGxlIHx8IHRtcFRpdGxlLCBjb250ZW50KVxyXG4gICAgICAudGhlbigobmV3UG9zdCkgPT4ge1xyXG4gICAgICAgIFBlcnNpc3Rvci5yZW1vdmUodG1wSWQpO1xyXG4gICAgICAgIHBvc3RMaXN0VXBkYXRlcigob2xkUG9zdExpc3QpID0+IHtcclxuICAgICAgICAgIG9sZFBvc3RMaXN0WzBdID0gbmV3UG9zdDtcclxuICAgICAgICAgIG9sZFBvc3RMaXN0WzBdLnBvc3RUeXBlID0gJ3B1Ymxpc2hlZCdcclxuICAgICAgICB9KVxyXG4gICAgICAgIHN1Y2Nlc3MoJ+WNmuaWh+WIm+W7uuaIkOWKnycpXHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZSkgPT4ge1xyXG4gICAgICAgIGVycm9yKCfljZrmlofliJvlu7rlpLHotKUnKVxyXG4gICAgICB9KVxyXG4gICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgbG9hZGluZyhmYWxzZSlcclxuICAgICAgfSk7XHJcbiAgfVxyXG5cclxuIiwiaW1wb3J0IGhhc2ggZnJvbSAnb2JqZWN0LWhhc2gnO1xyXG5leHBvcnQgZGVmYXVsdCAoeyBQZXJzaXN0b3IsIHBvc3RMaXN0VXBkYXRlciwgYWN0aXZlIH0pID0+IFxyXG4gICh7ZXJyb3IsIHN1Y2Nlc3MsIHdhcm59LCBjbSwgcGFyYW1zKSA9PiB7XHJcbiAgICBjb25zdCB0aXRsZSA9IHBhcmFtcy5hcmdTdHJpbmcgJiYgcGFyYW1zLmFyZ1N0cmluZy50cmltKCk7XHJcbiAgICBpZighdGl0bGUpIHtcclxuICAgICAgZXJyb3IoJ+agh+mimOS4jeiDveS4uuepujogbmV3ICZsdDt0aXRsZSZndDsnKTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY20uc2V0T3B0aW9uKCduZXdQb3N0VGl0bGUnLCB0aXRsZSk7XHJcbiAgICBjb25zdCB0bXBJZCA9IGhhc2goRGF0ZS5ub3coKSkuc2xpY2UoMTYpO1xyXG4gICAgY29uc3QgbmV3UG9zdCA9IHtcclxuICAgICAgdGl0bGUsXHJcbiAgICAgIGlkOiB0bXBJZCxcclxuICAgICAgcG9zdFR5cGU6ICdkcmFmdCcsXHJcbiAgICAgIGNvbnRlbnQ6ICcnXHJcbiAgICB9XHJcbiAgICBQZXJzaXN0b3Iuc2V0KHRtcElkLCBuZXdQb3N0KTtcclxuICAgIHBvc3RMaXN0VXBkYXRlcigob2xkUG9zdExpc3QpID0+IHtcclxuICAgICAgb2xkUG9zdExpc3QudW5zaGlmdChuZXdQb3N0KTtcclxuICAgIH0sICgpID0+IHtcclxuICAgICAgYWN0aXZlKDApO1xyXG4gICAgfSlcclxuICB9XHJcblxyXG4iLCJpbXBvcnQge1xyXG4gIGJ1aWxkQ3JlYXRlQ21kLCBidWlsZERlbGV0ZUNtZCwgYnVpbGROZXdDbWQsIGJ1aWxkVXBkYXRlQ21kXHJcbn0gZnJvbSAnLi9jb21tYW5kcyc7XHJcbmltcG9ydCB7ICQgfSBmcm9tICdAemhvdWppYWhhby91dGlscyc7XHJcblxyXG4vKipcclxuICogQHBvc3RUeXBlIHtTdHJpbmd9IFsnZHJhZnQnLCAncHVibGlzaGVkJ11cclxuICovXHJcblxyXG5jb25zdCBidWlsZEVkaXRvckNvbW1hbmRzID0gKHRvb2xzLCBwb3N0VHlwZSkgPT4ge1xyXG4gIGNvbnN0IHtcclxuICAgIGV4aXQsIHNlbGVjdFxyXG4gIH0gPSB0b29scztcclxuXHJcbiAgY29uc3QgZXhIYW5kbGVyVmFsaWRhdG9yID0gKGZuLCBleE5hbWUpID0+IHtcclxuICAgIGNvbnN0IGRlZGljYXRlZFBvc3RDbWRNYXAgPSB7XHJcbiAgICAgIGRyYWZ0OiBbJ3B1Ymxpc2gnXSxcclxuICAgICAgcHVibGlzaGVkOiBbJ3VwZGF0ZSddXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGRlZmF1bHRIYW5kbGVyID0gKHsgZXJyb3IgfSkgPT4ge1xyXG4gICAgICBlcnJvcign6Z2e5rOV5ZG95LukJyk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGlzVmFsaWQgPSBkZWRpY2F0ZWRQb3N0Q21kTWFwW3Bvc3RUeXBlXS5pbmNsdWRlcyhleE5hbWUpO1xyXG4gICAgcmV0dXJuIGlzVmFsaWQgPyBmbiA6IGRlZmF1bHRIYW5kbGVyO1xyXG4gIH07XHJcblxyXG4gIHJldHVybiBbe1xyXG4gICAgbmFtZTogJ3VwZGF0ZScsXHJcbiAgICBmbjogZXhIYW5kbGVyVmFsaWRhdG9yKGJ1aWxkVXBkYXRlQ21kKHRvb2xzKSwgJ3VwZGF0ZScpXHJcbiAgfSwge1xyXG4gICAgbmFtZTogJ2RlbGV0ZVRoaXNQb3N0Rm9yZXZlcicsXHJcbiAgICBmbjogYnVpbGREZWxldGVDbWQodG9vbHMsIHBvc3RUeXBlKVxyXG4gIH0sIHtcclxuICAgIG5hbWU6ICdwdWJsaXNoJyxcclxuICAgIGZuOiBleEhhbmRsZXJWYWxpZGF0b3IoYnVpbGRDcmVhdGVDbWQodG9vbHMpLCAncHVibGlzaCcpXHJcbiAgfSwge1xyXG4gICAgbmFtZTogJ2V4aXQnLFxyXG4gICAgZm46ICgpID0+IHtcclxuICAgICAgZXhpdCgpO1xyXG4gICAgfVxyXG4gIH0sIHtcclxuICAgIG5hbWU6ICduZXcnLFxyXG4gICAgZm46IGJ1aWxkTmV3Q21kKHRvb2xzKVxyXG4gIH0sIHtcclxuICAgIG5hbWU6ICd1cGxvYWQnLFxyXG4gICAgZm46IHNlbGVjdCxcclxuICB9LCB7XHJcbiAgICBuYW1lOiAncHJ2JyxcclxuICAgIGZuOiAoKSA9PiB7XHJcbiAgICAgIGNvbnN0ICRwcmV2aWV3ZXIgPSAkKCcucHJldmlld2VyLm1hcmtkb3duLWJvZHknKTtcclxuICAgICAgJHByZXZpZXdlci5jbGFzc0xpc3QudG9nZ2xlKCdzaG93Jyk7XHJcbiAgICB9XHJcbiAgfV07XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBidWlsZEVkaXRvckNvbW1hbmRzO1xyXG4iLCJleHBvcnQgZGVmYXVsdCAoeyBhcGksIHBvc3RMaXN0VXBkYXRlciwgUGVyc2lzdG9yLCBlZGl0aW5nUG9zdCwgcmVmcmVzaCwgbG9hZGluZyB9KSA9PiAoe2Vycm9yLCBzdWNjZXNzLCB3YXJufSwgY20pID0+IHtcclxuICBsb2FkaW5nKHRydWUpO1xyXG4gIGFwaS51cGRhdGUoY20uZ2V0T3B0aW9uKCdjb250ZW50SWQnKSwgY20uZG9jLmdldFZhbHVlKCksIGVkaXRpbmdQb3N0LnRpdGxlKVxyXG4gICAgLnRoZW4oKG5ld1Bvc3QpID0+IHtcclxuICAgICAgUGVyc2lzdG9yLnJlbW92ZShuZXdQb3N0LmlkKTtcclxuICAgICAgcmVmcmVzaCgpO1xyXG4gICAgICBuZXdQb3N0LnBvc3RUeXBlID0gJ3B1Ymxpc2hlZCc7XHJcbiAgICAgIHBvc3RMaXN0VXBkYXRlcigob2xkUG9zdExpc3QpID0+IHtcclxuICAgICAgICBjb25zdCBwb3N0ID0gb2xkUG9zdExpc3RcclxuICAgICAgICAgIC5maW5kKCh7IGlkIH0pID0+IGlkID09PSBuZXdQb3N0LmlkKTtcclxuXHJcbiAgICAgICAgcG9zdC5jb250ZW50ID0gbmV3UG9zdC5jb250ZW50XHJcbiAgICAgIH0pO1xyXG4gICAgICBzdWNjZXNzKCfljZrmloflt7Lmm7TmlrAnKVxyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoKSA9PiB7XHJcbiAgICAgIGVycm9yKCfljZrmlofmm7TmlrDlpLHotKUnKVxyXG4gICAgfSlcclxuICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgbG9hZGluZyhmYWxzZSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuIiwiY29uc3QgS0VZX1BSRUZJWCA9ICdwbS1wZXJzaXN0b3ItJztcclxuY29uc3QgS0VZX1BSRUZJWF9GT1JfVElNRVNUQU1QID0gJ3BtLXRpbWUtc3RhbXAnO1xyXG5jb25zdCBLRVlfUkVHX0VYUCA9IG5ldyBSZWdFeHAoJ14nICsgS0VZX1BSRUZJWCk7XHJcblxyXG5jb25zdCB1cGRhdGVUaW1lU3RhbXAgPSAoKSA9PiB7XHJcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXHJcbiAgICBLRVlfUFJFRklYX0ZPUl9USU1FU1RBTVAsXHJcbiAgICBEYXRlLm5vdygpXHJcbiAgKTtcclxufVxyXG5cclxuY29uc3QgZ2V0VGltZVN0YW1wID0gKCkgPT4ge1xyXG4gIGxvY2FsU3RvcmFnZS5nZXRJdGVtKFxyXG4gICAgS0VZX1BSRUZJWF9GT1JfVElNRVNUQU1QLFxyXG4gICkgfHwgMDtcclxufVxyXG5cclxuY29uc3Qgc2V0ID0gKGtleSwgdmFsKSA9PiB7XHJcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oXHJcbiAgICBLRVlfUFJFRklYICsga2V5LFxyXG4gICAgSlNPTi5zdHJpbmdpZnkodmFsKVxyXG4gICk7XHJcbiAgdXBkYXRlVGltZVN0YW1wKCk7XHJcbn1cclxuXHJcbmNvbnN0IGdldCA9IChrZXkpID0+IHtcclxuICBpZiAoIWtleSkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcclxuICAgIEtFWV9QUkVGSVggKyBrZXlcclxuICApKTtcclxufVxyXG5cclxuY29uc3QgX2dldCA9IChrZXkpID0+IHtcclxuICBpZiAoIWtleSkge1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuICByZXR1cm4gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcclxuICAgIGtleVxyXG4gICkpO1xyXG59XHJcblxyXG5jb25zdCBfZ2V0UGVyc2lzdG9yS2V5cyA9ICgpID0+IHtcclxuICByZXR1cm4gT2JqZWN0LmtleXMobG9jYWxTdG9yYWdlKVxyXG4gICAgLmZpbHRlcihrID0+IEtFWV9SRUdfRVhQLnRlc3QoaykpXHJcbn1cclxuXHJcbmNvbnN0IHJlbW92ZSA9IChrZXkpID0+IHtcclxuICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcclxuICAgIEtFWV9QUkVGSVggKyBrZXlcclxuICApO1xyXG59XHJcblxyXG5jb25zdCBsaXN0ID0gKCkgPT4ge1xyXG4gIHJldHVybiBfZ2V0UGVyc2lzdG9yS2V5cygpLm1hcChfZ2V0KVxyXG59O1xyXG5cclxuY29uc3Qgd2l0aExvY2FsTGlzdCA9IChhcnIpID0+IHtcclxuICBjb25zdCBsb2NhbExpc3QgPSBsaXN0KCk7XHJcbiAgY29uc3QgaWRNYXAgPSB7fTtcclxuICBhcnIuZm9yRWFjaCgoe2lkfSkgPT4ge1xyXG4gICAgaWRNYXBbaWRdID0gdHJ1ZTtcclxuICB9KTtcclxuXHJcbiAgaWYgKCFhcnIubGVuZ3RoKSB7XHJcbiAgICByZXR1cm4gbG9jYWxMaXN0Lm1hcChwID0+ICh7XHJcbiAgICAgIHBvc3RUeXBlOiAnZHJhZnQnLFxyXG4gICAgICAuLi5wXHJcbiAgICB9KSk7XHJcbiAgfVxyXG5cclxuICBjb25zdCBuZXdQb3N0cyA9IGxvY2FsTGlzdFxyXG4gICAgLmZpbHRlcigoeyBpZCB9KSA9PiB7XHJcbiAgICAgIHJldHVybiAhaWRNYXBbaWRdO1xyXG4gICAgfSk7XHJcblxyXG4gIHJldHVybiBbXHJcbiAgICAuLi5uZXdQb3N0cy5tYXAocCA9PiAoe3Bvc3RUeXBlOiAnZHJhZnQnLCAuLi5wfSkpLFxyXG4gICAgLi4uYXJyLm1hcChwID0+ICh7cG9zdFR5cGU6ICdwdWJsaXNoZWQnLCAuLi5wfSkpXHJcbiAgXVxyXG59O1xyXG5cclxuY29uc3QgZGVzdHJveSA9ICgpID0+IHtcclxuICBfZ2V0UGVyc2lzdG9yS2V5cygpLmZvckVhY2goayA9PiB7XHJcbiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrKVxyXG4gIH0pO1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gIHNldCxcclxuICBnZXQsXHJcbiAgcmVtb3ZlLFxyXG4gIGxpc3QsXHJcbiAgZGVzdHJveSxcclxuICB3aXRoTG9jYWxMaXN0LFxyXG59XHJcbiIsImltcG9ydCB7IHJlcSwgcmVxQW5kQ2FjaGUgfSBmcm9tICdAemhvdWppYWhhby91dGlscyc7XHJcblxyXG5jb25zdCBCQVNFX1VSTCA9ICdodHRwczovL2FwaS56amguaW0nO1xyXG5leHBvcnQgY29uc3QgQVBJID0ge1xyXG4gIGNyZWF0ZTogYCR7QkFTRV9VUkx9L3ovcG9zdC9jcmVhdGVgLFxyXG4gIHVwZGF0ZTogYCR7QkFTRV9VUkx9L3ovcG9zdC91cGRhdGVgLFxyXG4gIGRlbGV0ZTogYCR7QkFTRV9VUkx9L3ovcG9zdC9kZWxldGVgLFxyXG4gIGxpc3Q6IGAke0JBU0VfVVJMfS96L3Bvc3RzYCxcclxuICB1cGxvYWQ6IGAke0JBU0VfVVJMfS91cGxvYWRgXHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgQWxpT1NTSW1nVVJMID0gJ2h0dHBzOi8vempoLWltLXJlcy5vc3MtY24tc2hlbnpoZW4uYWxpeXVuY3MuY29tL2ltYWdlJztcclxuZXhwb3J0IGRlZmF1bHQgKGNyZWRlbnRpYWwpID0+IHtcclxuICBjb25zdCBhY3Rpb25zTmVlZENyZWRlbnRpYWwgPSBjcmVkZW50aWFsXHJcbiAgICA/IHtcclxuICAgICAgY3JlYXRlOiAodGl0bGUsIGNvbnRlbnQpID0+IHtcclxuICAgICAgICByZXR1cm4gcmVxKFxyXG4gICAgICAgICAgQVBJLmNyZWF0ZSxcclxuICAgICAgICAgICdQT1NUJyxcclxuICAgICAgICAgIHtcclxuICAgICAgICAgICAgdGl0bGUsXHJcbiAgICAgICAgICAgIGNvbnRlbnQsXHJcbiAgICAgICAgICAgIC4uLmNyZWRlbnRpYWxcclxuICAgICAgICAgIH0pXHJcbiAgICAgIH0sXHJcbiAgICAgIHVwZGF0ZTogKGlkLCBjb250ZW50LCB0aXRsZSwgYXR0YWNobWVudFVSTCkgPT4ge1xyXG4gICAgICAgIHJldHVybiByZXEoXHJcbiAgICAgICAgICBBUEkudXBkYXRlLFxyXG4gICAgICAgICAgJ1BPU1QnLFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgdGl0bGUsXHJcbiAgICAgICAgICAgIGNvbnRlbnQsXHJcbiAgICAgICAgICAgIGF0dGFjaG1lbnRfdXJsOiBhdHRhY2htZW50VVJMLFxyXG4gICAgICAgICAgICAuLi5jcmVkZW50aWFsXHJcbiAgICAgICAgICB9KVxyXG4gICAgICB9LFxyXG4gICAgICBkZWxldGU6IChpZCkgPT4ge1xyXG4gICAgICAgIHJldHVybiByZXEoXHJcbiAgICAgICAgICBBUEkuZGVsZXRlLFxyXG4gICAgICAgICAgJ1BPU1QnLFxyXG4gICAgICAgICAge1xyXG4gICAgICAgICAgICBpZCxcclxuICAgICAgICAgICAgLi4uY3JlZGVudGlhbFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIDoge1xyXG4gICAgICBjcmVhdGU6ICgpID0+IFByb21pc2UucmVqZWN0KCksXHJcbiAgICAgIHVwZGF0ZTogKCkgPT4gUHJvbWlzZS5yZWplY3QoKSxcclxuICAgICAgZGVsZXRlOiAoKSA9PiBQcm9taXNlLnJlamVjdCgpLFxyXG4gICAgfTtcclxuXHJcbiAgcmV0dXJuIHtcclxuICAgIGxpc3Q6ICgpID0+IHtcclxuICAgICAgcmV0dXJuIHJlcUFuZENhY2hlKEFQSS5saXN0KTtcclxuICAgIH0sXHJcbiAgICAuLi5hY3Rpb25zTmVlZENyZWRlbnRpYWxcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcclxuaW1wb3J0ICcuL3N0eWxlLnNjc3MnO1xyXG5cclxuY29uc3QgQmxpbmtEb3QgPSAoeyBzaXplID0gMyB9KSA9PiAoXHJcbiAgPGRpdlxyXG4gICAgY2xhc3NOYW1lPVwiYmctYmxpbmstZG90XCJcclxuICAgIHN0eWxlPXt7XHJcbiAgICAgIHdpZHRoOiBzaXplLFxyXG4gICAgICBoZWlnaHQ6IHNpemVcclxuICAgIH19XHJcbiAgLz5cclxuKTtcclxuXHJcbmNvbnN0IGNvcHlUb0NsaXBib2FyZCA9ICh0ZXh0KSA9PiB7XHJcbiAgaWYgKG5hdmlnYXRvci5jbGlwYm9hcmQpIHtcclxuICAgIG5hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KHRleHQpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zb2xlLmxvZyh0ZXh0KTtcclxuICB9XHJcbn07XHJcblxyXG5leHBvcnQge1xyXG4gIEJsaW5rRG90LFxyXG4gIGNvcHlUb0NsaXBib2FyZFxyXG59XHJcbiIsImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XHJcblxyXG5pbXBvcnQgeyB1cGxvYWRGaWxlLCB1dWlkIH0gZnJvbSAnQHpob3VqaWFoYW8vdXRpbHMnO1xyXG5pbXBvcnQge1xyXG4gIEFQSSxcclxuICBBbGlPU1NJbWdVUkxcclxufSBmcm9tIFwiLi4vLi4vYmxvZy1hcGlcIjtcclxuaW1wb3J0ICcuL3N0eWxlLnNjc3MnO1xyXG5pbXBvcnQgeyBjb3B5VG9DbGlwYm9hcmQgfSBmcm9tICcuLi8uLi91dGlscyc7XHJcblxyXG5jbGFzcyBVcGxvYWRlciBleHRlbmRzIFJlYWN0LlB1cmVDb21wb25lbnQge1xyXG5cclxuICBzdGF0ZSA9IHtcclxuICAgIGZpbGU6IG51bGwsXHJcbiAgICB1cGxvYWRpbmc6IGZhbHNlLFxyXG4gIH07XHJcblxyXG4gIHVwbG9hZEZpbGUgPSAoZmlsZSkgPT4ge1xyXG4gICAgY29uc3QgaWQgPSBgJHt0aGlzLnByb3BzLmZpbGVJZCB8fCB1dWlkKCl9LSR7ZmlsZS5uYW1lfWA7XHJcbiAgICB0aGlzLnNldFN0YXRlKHsgdXBsb2FkaW5nOiB0cnVlIH0pO1xyXG4gICAgdXBsb2FkRmlsZShBUEkudXBsb2FkLCBmaWxlLCAnZmlsZScsIHsgaWQgfSlcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyB1cGxvYWRpbmc6IGZhbHNlIH0pO1xyXG4gICAgICAgIGNvbnN0IGNiRm4gPSB0aGlzLnByb3BzLm9uU3VjY2VzcyB8fCBmdW5jdGlvbiAoKSB7fTtcclxuICAgICAgICBjb25zdCBmaWxlVVJMID0gYCR7QWxpT1NTSW1nVVJMfS8ke2lkfWA7XHJcbiAgICAgICAgY2JGbihmaWxlVVJMKTtcclxuICAgICAgICBjb3B5VG9DbGlwYm9hcmQoZmlsZVVSTCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHVwbG9hZGluZzogZmFsc2UgfSk7XHJcbiAgICAgIH0pXHJcbiAgfTtcclxuXHJcbiAgaGFuZGxlT25DaG9vc2VGaWxlID0gKCkgPT4ge1xyXG4gICAgdGhpcy5maWxlSW5wdXQgJiYgdGhpcy5maWxlSW5wdXQuY2xpY2soKTtcclxuICB9O1xyXG5cclxuICBoYW5kbGVGaWxlU2VsZWN0ID0gKGUpID0+IHtcclxuICAgIGNvbnN0IGZpbGUgPSBlLnRhcmdldC5maWxlc1swXTtcclxuICAgIGlmICghZmlsZSkge1xyXG4gICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB0aGlzLnVwbG9hZEZpbGUoZmlsZSlcclxuICB9O1xyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICByZXR1cm4gW1xyXG4gICAgICA8aW5wdXRcclxuICAgICAgICByZWY9e2ZpbGVJbnB1dCA9PiAodGhpcy5maWxlSW5wdXQgPSBmaWxlSW5wdXQpfVxyXG4gICAgICAgIHR5cGU9XCJmaWxlXCJcclxuICAgICAgICBhY2NlcHQ9e3RoaXMucHJvcHMuYWNjZXB0fVxyXG4gICAgICAgIGNsYXNzTmFtZT1cImZpbGUtaW5wdXRcIlxyXG4gICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUZpbGVTZWxlY3R9XHJcbiAgICAgICAgb25DbGljaz17KGUpID0+IHtcclxuICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID0gbnVsbDtcclxuICAgICAgICB9fVxyXG4gICAgICAvPixcclxuICAgICAgdGhpcy5wcm9wcy5jaGlsZHJlbih7XHJcbiAgICAgICAgc2VsZWN0OiB0aGlzLmhhbmRsZU9uQ2hvb3NlRmlsZSxcclxuICAgICAgICB1cGxvYWRpbmc6IHRoaXMuc3RhdGUudXBsb2FkaW5nXHJcbiAgICAgIH0pXHJcbiAgICBdXHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge1xyXG4gIFVwbG9hZGVyXHJcbn1cclxuIiwiaW1wb3J0IFJlYWN0LCB7IHVzZVN0YXRlIH0gZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgcHJvZHVjZSBmcm9tICdpbW1lcic7XHJcblxyXG5pbXBvcnQgQXN5bmNJbXBvcnQgZnJvbSAnLi9hc3luYy1pbXBvcnQnO1xyXG5pbXBvcnQgUG9zdExpc3QgZnJvbSAnLi9wb3N0LWxpc3QvJ1xyXG5pbXBvcnQgYnVpbGRFZGl0b3JFeEFyciBmcm9tICcuL2N1c3RvbS1lZGl0b3ItY29tbWFuZHMvJ1xyXG5pbXBvcnQgKiBhcyBQZXJzaXN0b3IgZnJvbSAnLi4vcGVyc2lzdG9yLydcclxuaW1wb3J0IHtVcGxvYWRlcn0gZnJvbSAnLi91cGxvYWRlcic7XHJcbmltcG9ydCB7QmxpbmtEb3R9IGZyb20gJy4uL3V0aWxzJztcclxuXHJcbmNvbnN0IHZlcnNpb24gPSBgdiR7cmVxdWlyZSgnLi4vLi4vcGFja2FnZS5qc29uJykudmVyc2lvbn1gO1xyXG5jb25zdCBFZGl0b3IgPSBBc3luY0ltcG9ydChcclxuICAoKSA9PiB7XHJcbiAgICByZXR1cm4gaW1wb3J0KCdAemhvdWppYWhhby9lZGl0b3IvbGliL3JlYWN0LWNvZGUtbWlycm9yJyk7XHJcbiAgfSxcclxuICAoXHJcbiAgICA8ZGl2XHJcbiAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgd2lkdGg6ICdjYWxjKDUwJSAtIDE1cHgpJyxcclxuICAgICAgICBoZWlnaHQ6ICcxMDAlJyxcclxuICAgICAgICBib3JkZXI6ICdkb3R0ZWQgMXB4ICMwMDAnLFxyXG4gICAgICAgIGJhY2tncm91bmQ6ICcjZjBmMGYwJyxcclxuICAgICAgfX1cclxuICAgIC8+XHJcbiAgKVxyXG4pXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYW5lIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XHJcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcclxuICAgIHN1cGVyKHByb3BzKTtcclxuICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgIGFjdGl2ZVBvc3RJZHg6IDAsXHJcbiAgICAgIHVwZGF0ZVN0YW1wOiBEYXRlLm5vdygpLFxyXG4gICAgICBwb3N0TGlzdDogdGhpcy5wcm9wcy5wb3N0cyxcclxuICAgICAgYmdUYXNrUnVubmluZzogZmFsc2UsXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBhY3RpdmUgPSAoYWN0aXZlUG9zdElkeCkgPT4ge3RoaXMuc2V0U3RhdGUoeyBhY3RpdmVQb3N0SWR4IH0pfVxyXG5cclxuICBsb2FkaW5nID0gKGJnVGFza1J1bm5pbmcpID0+IHtcclxuICAgIHRoaXMuc2V0U3RhdGUoeyBiZ1Rhc2tSdW5uaW5nIH0pO1xyXG4gIH07XHJcblxyXG4gIHVwZGF0ZVBvc3RMaXN0ID0gKHVwZGF0ZXJGbiwgY2JGbiA9ICgpID0+IG51bGwpID0+IHtcclxuICAgIGlmIChBcnJheS5pc0FycmF5KHVwZGF0ZXJGbikpIHtcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgcG9zdExpc3Q6IHVwZGF0ZXJGblxyXG4gICAgICB9KTtcclxuICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIHRoaXMuc2V0U3RhdGUocHJldlN0YXRlID0+ICh7XHJcbiAgICAgIHBvc3RMaXN0OiBwcm9kdWNlKHByZXZTdGF0ZS5wb3N0TGlzdCwgdXBkYXRlckZuKVxyXG4gICAgfSksIGNiRm4pXHJcbiAgfTtcclxuXHJcbiAgYnVpbGRFZHRDbHMgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBlZGl0aW5nUG9zdCA9IHRoaXMuc3RhdGUucG9zdExpc3RbXHJcbiAgICAgIHRoaXMuc3RhdGUuYWN0aXZlUG9zdElkeFxyXG4gICAgXSB8fCB0aGlzLnN0YXRlLnBvc3RMaXN0WzBdO1xyXG4gICAgY29uc3QgbG9jYWxDaGFuZ2VzID0gISFQZXJzaXN0b3IuZ2V0KGVkaXRpbmdQb3N0LmlkKTtcclxuICAgIGxldCB0eXBlID0gJ25vcm1hbC1maWxlJztcclxuXHJcbiAgICBpZiAoZWRpdGluZ1Bvc3QucG9zdFR5cGUgPT09ICdkcmFmdCcgJiYgbG9jYWxDaGFuZ2VzKSB7XHJcbiAgICAgIHR5cGUgPSAnbmV3LWZpbGUnO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChlZGl0aW5nUG9zdC5wb3N0VHlwZSA9PT0gJ3B1Ymxpc2hlZCcgJiYgbG9jYWxDaGFuZ2VzKSB7XHJcbiAgICAgIHR5cGUgPSAnY2hhbmdlZC1maWxlJ1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBcImVkaXRvci13cmFwcGVyIGNsaWNrYWJsZSBcIiArIHR5cGU7XHJcbiAgfTtcclxuXHJcbiAgdGl0bGVGb3JtYXR0ZXIgPSBwID0+IHtcclxuICAgIHJldHVybiBgJHtwLnRpdGxlfWA7XHJcbiAgfVxyXG5cclxuICByZWZyZXNoID0gKCkgPT4ge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgIHVwZGF0ZVN0YW1wOiBEYXRlLm5vdygpXHJcbiAgICB9KVxyXG4gIH07XHJcblxyXG4gIGdldEVkaXRpbmdQb3N0VGl0bGUgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBlZGl0aW5nUG9zdCA9IHRoaXMuc3RhdGUucG9zdExpc3RbXHJcbiAgICAgIHRoaXMuc3RhdGUuYWN0aXZlUG9zdElkeFxyXG4gICAgXSB8fCB0aGlzLnN0YXRlLnBvc3RMaXN0WzBdO1xyXG4gICAgcmV0dXJuIGVkaXRpbmdQb3N0LnRpdGxlO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlRWRpdG9yQ29udGVudENoYW5nZSA9IChpZCwgY29udGVudCkgPT4ge1xyXG4gICAgY29uc3QgZWRpdGluZ1Bvc3QgPSB0aGlzLnN0YXRlLnBvc3RMaXN0W1xyXG4gICAgICB0aGlzLnN0YXRlLmFjdGl2ZVBvc3RJZHhcclxuICAgIF0gfHwgdGhpcy5zdGF0ZS5wb3N0TGlzdFswXTtcclxuICAgIFBlcnNpc3Rvci5zZXQoaWQsIHtcclxuICAgICAgdGl0bGU6IHRoaXMuZ2V0RWRpdGluZ1Bvc3RUaXRsZSgpLFxyXG4gICAgICBwb3N0VHlwZTogZWRpdGluZ1Bvc3QudHlwZSxcclxuICAgICAgaWQsXHJcbiAgICAgIGNvbnRlbnRcclxuICAgIH0pXHJcbiAgfTtcclxuXHJcbiAgaGFuZGxlVXBsb2FkRmlsZSA9IGlkID0+ICh1cmwpID0+IHtcclxuICAgIHRoaXMucHJvcHMuYXBpLnVwZGF0ZShpZCwgJycsICcnLCB1cmwpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICB0aGlzLnVwZGF0ZVBvc3RMaXN0KChvbGRQb3N0TGlzdCkgPT4ge1xyXG4gICAgICAgICAgb2xkUG9zdExpc3QuZmluZCgoeyBpZDogdGFyZ2V0SWQgfSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gaWQgPT09IHRhcmdldElkXHJcbiAgICAgICAgICB9KS5hdHRhY2htZW50X3VybCA9IHVybDtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLnJlZnJlc2goKTtcclxuICAgICAgfSlcclxuICB9O1xyXG5cclxuICByZW5kZXJUaXRsZUxpc3QgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInNpZGUtbGlzdC1jb2xcIj5cclxuICAgICAgICA8UG9zdExpc3RcclxuICAgICAgICAgIHRpdGxlcz17dGhpcy5zdGF0ZS5wb3N0TGlzdC5tYXAodGhpcy50aXRsZUZvcm1hdHRlcil9XHJcbiAgICAgICAgICB1cGRhdGU9e3RoaXMucHJvcHMuYXBpLnVwZGF0ZX1cclxuICAgICAgICAgIHBvc3RMaXN0VXBkYXRlcj17dGhpcy51cGRhdGVQb3N0TGlzdH1cclxuICAgICAgICAgIHJlZnJlc2g9e3RoaXMucmVmcmVzaH1cclxuICAgICAgICAgIHBvc3RzPXt0aGlzLnN0YXRlLnBvc3RMaXN0fVxyXG4gICAgICAgICAgb25UaXRsZUNsaWNrPXt0aGlzLmFjdGl2ZX1cclxuICAgICAgICAgIGFjdGl2ZVBvc3RJZHg9e3RoaXMuc3RhdGUuYWN0aXZlUG9zdElkeH1cclxuICAgICAgICAvPlxyXG4gICAgICA8L2Rpdj5cclxuICAgIClcclxuICB9O1xyXG5cclxuICByZW5kZXJVcGxvYWRpbmdJbmRpY2F0b3IgPSAoKSA9PiB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8c3BhbiBjbGFzc05hbWU9XCJhY3Rpb25zXCI+XHJcbiAgICAgICAgPEJsaW5rRG90IC8+XHJcbiAgICAgIDwvc3Bhbj5cclxuICAgICk7XHJcbiAgfTtcclxuXHJcbiAgcmVuZGVyRWRpdG9yID0gKCkgPT4ge1xyXG4gICAgY29uc3QgZWRpdGluZ1Bvc3QgPSB0aGlzLnN0YXRlLnBvc3RMaXN0W1xyXG4gICAgICB0aGlzLnN0YXRlLmFjdGl2ZVBvc3RJZHhcclxuICAgIF0gfHwgdGhpcy5zdGF0ZS5wb3N0TGlzdFswXTtcclxuICAgIGNvbnN0IGxvY2FsQ2hhbmdlcyA9IFBlcnNpc3Rvci5nZXQoZWRpdGluZ1Bvc3QuaWQpO1xyXG4gICAgY29uc3QgaW5pdENvbnRlbnQgPSAobG9jYWxDaGFuZ2VzICYmIGxvY2FsQ2hhbmdlcy5jb250ZW50ICE9PSB1bmRlZmluZWQpXHJcbiAgICAgID8gbG9jYWxDaGFuZ2VzLmNvbnRlbnRcclxuICAgICAgOiAoZWRpdGluZ1Bvc3QuY29udGVudCB8fCAnJyk7XHJcblxyXG4gICAgcmV0dXJuIChcclxuICAgICAgPGRpdiBjbGFzc05hbWU9e3RoaXMuYnVpbGRFZHRDbHMoKX0gZGF0YS12PXt2ZXJzaW9ufT5cclxuICAgICAgICA8VXBsb2FkZXJcclxuICAgICAgICAgIG9uU3VjY2Vzcz17dGhpcy5oYW5kbGVVcGxvYWRGaWxlKGVkaXRpbmdQb3N0LmlkKX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICB7KHsgc2VsZWN0LCB1cGxvYWRpbmcgfSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB0b29sc0ZvckV4Rm5zID0ge1xyXG4gICAgICAgICAgICAgIHNlbGVjdCxcclxuICAgICAgICAgICAgICBhcGk6IHRoaXMucHJvcHMuYXBpLFxyXG4gICAgICAgICAgICAgIHBvc3RMaXN0VXBkYXRlcjogdGhpcy51cGRhdGVQb3N0TGlzdCxcclxuICAgICAgICAgICAgICBlZGl0aW5nUG9zdCxcclxuICAgICAgICAgICAgICByZWZyZXNoOiB0aGlzLnJlZnJlc2gsXHJcbiAgICAgICAgICAgICAgYWN0aXZlOiB0aGlzLmFjdGl2ZSxcclxuICAgICAgICAgICAgICBleGl0OiB0aGlzLnByb3BzLmV4aXQsXHJcbiAgICAgICAgICAgICAgUGVyc2lzdG9yLFxyXG4gICAgICAgICAgICAgIGxvYWRpbmc6IHRoaXMubG9hZGluZyxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgY29uc3QgZXh0ZXJuYWxFeEFyciA9ICh0aGlzLnByb3BzLmNvbW1hbmRzIHx8IFtdKS5tYXAoYyA9PiAoe1xyXG4gICAgICAgICAgICAgIG5hbWU6IGMubmFtZSxcclxuICAgICAgICAgICAgICBmbjogKC4uLmFyZ3MpID0+IHsgYy5mbiguLi5hcmdzLCB0b29sc0ZvckV4Rm5zKTsgfVxyXG4gICAgICAgICAgICB9KSlcclxuICAgICAgICAgICAgcmV0dXJuIChbXHJcbiAgICAgICAgICAgICAgPEVkaXRvclxyXG4gICAgICAgICAgICAgICAgdmFsdWU9e2luaXRDb250ZW50fVxyXG4gICAgICAgICAgICAgICAgY29udGVudElkPXtlZGl0aW5nUG9zdC5pZH1cclxuICAgICAgICAgICAgICAgIGJhY2tncm91bmRDb2xvcj1cIiNmZmZcIlxyXG4gICAgICAgICAgICAgICAgb25TYXZlPXt0aGlzLmhhbmRsZUVkaXRvckNvbnRlbnRDaGFuZ2V9XHJcbiAgICAgICAgICAgICAgICBleEFycj17W1xyXG4gICAgICAgICAgICAgICAgICAuLi5idWlsZEVkaXRvckV4QXJyKHRvb2xzRm9yRXhGbnMsIGVkaXRpbmdQb3N0LnBvc3RUeXBlKSxcclxuICAgICAgICAgICAgICAgICAgLi4uZXh0ZXJuYWxFeEFycixcclxuICAgICAgICAgICAgICAgIF19XHJcbiAgICAgICAgICAgICAgLz4sXHJcbiAgICAgICAgICAgICAgKHVwbG9hZGluZyB8fCB0aGlzLnN0YXRlLmJnVGFza1J1bm5pbmcpICYmIHRoaXMucmVuZGVyVXBsb2FkaW5nSW5kaWNhdG9yKClcclxuICAgICAgICAgICAgXSlcclxuICAgICAgICAgIH19XHJcbiAgICAgICAgPC9VcGxvYWRlcj5cclxuICAgICAgICB7XHJcbiAgICAgICAgICBlZGl0aW5nUG9zdC5hdHRhY2htZW50X3VybFxyXG4gICAgICAgICAgJiYgPGltZyBzcmM9e2VkaXRpbmdQb3N0LmF0dGFjaG1lbnRfdXJsfSAvPlxyXG4gICAgICAgIH1cclxuICAgICAgPC9kaXY+XHJcbiAgICApXHJcbiAgfVxyXG5cclxuICByZW5kZXIoKSB7XHJcbiAgICByZXR1cm4gKFxyXG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cInBhbmVcIj5cclxuICAgICAgICAgIHt0aGlzLnJlbmRlclRpdGxlTGlzdCgpfVxyXG4gICAgICAgICAge3RoaXMucmVuZGVyRWRpdG9yKCl9XHJcbiAgICAgIDwvZGl2PlxyXG4gICAgKVxyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xyXG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcclxuXHJcbmltcG9ydCB7ICQgfSBmcm9tICdAemhvdWppYWhhby91dGlscyc7XHJcblxyXG5pbXBvcnQgUGFuZSBmcm9tICcuL3BhbmUnO1xyXG5pbXBvcnQgJy4vc3R5bGUuc2Nzcyc7XHJcblxyXG5leHBvcnQgY29uc3QgdW5pbnN0YWxsID0gKGRvbSkgPT4ge1xyXG4gIFJlYWN0RE9NLnVubW91bnRDb21wb25lbnRBdE5vZGUoZG9tIHx8ICQoJyNndWknKSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IChwb3N0cywgYXBpLCBleGl0LCBvcHRpb25zID0ge30pID0+IHtcclxuICBjb25zdCAkZ3VpID0gb3B0aW9ucy5kb20gfHwgJCgnI2d1aScpO1xyXG4gICRndWkuY2xhc3NMaXN0LmFkZCgnZnVsbHNjcmVlbicpO1xyXG4gIFJlYWN0RE9NLnJlbmRlcihcclxuICAgIDxQYW5lXHJcbiAgICAgIHBvc3RzPXtwb3N0c31cclxuICAgICAgYXBpPXthcGl9XHJcbiAgICAgIGV4aXQ9e2V4aXR9XHJcbiAgICAgIGNvbW1hbmRzPXtvcHRpb25zLmNvbW1hbmRzIHx8IFtdfVxyXG4gICAgLz4sXHJcbiAgICAkZ3VpXHJcbiAgKVxyXG59XHJcbiIsImltcG9ydCB7IGRvY1RwbCwgJCB9IGZyb20gJ0B6aG91amlhaGFvL3V0aWxzJztcclxuXHJcbmltcG9ydCBydW5NYW5hZ2VQYW5lbCBmcm9tICcuL21hbmFnZS1wYW5lJztcclxuaW1wb3J0IHt1bmluc3RhbGx9IGZyb20gJy4vbWFuYWdlLXBhbmUnO1xyXG5pbXBvcnQgcG9zdFNESyBmcm9tICcuL2Jsb2ctYXBpLyc7XHJcbmltcG9ydCB7IHdpdGhMb2NhbExpc3QgfSBmcm9tICcuL3BlcnNpc3Rvci8nO1xyXG5cclxuY29uc3QgZG9jID0gZG9jVHBsKCdwbScsICdwbSBbYWNjZXNzIHRva2VuXScsICdwb3N0cyBtYW5hZ2VyIGZvciBteSBibG9nLicpO1xyXG5cclxuY29uc3Qgc2F2ZUNyZWRlbnRpYWwgPSAoY3JlZGVudGlhbCkgPT4ge1xyXG4gIGNvbnN0IGNyZWRlbnRpYWxLZXkgPSAncC1jLWtleSc7XHJcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oY3JlZGVudGlhbEtleSwgSlNPTi5zdHJpbmdpZnkoY3JlZGVudGlhbCkpO1xyXG59O1xyXG5cclxuY29uc3QgbG9hZENyZWRlbnRpYWwgPSAoKSA9PiB7XHJcbiAgY29uc3QgY3JlZGVudGlhbEtleSA9ICdwLWMta2V5JztcclxuICByZXR1cm4gSlNPTi5wYXJzZShcclxuICAgIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGNyZWRlbnRpYWxLZXkpXHJcbiAgKSB8fCBudWxsO1xyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQge1xyXG4gIGRvYyxcclxuICBzaG9ydG9wdHM6ICdlJyxcclxuICBoYW5kbGVyOiBhc3luYyAoXHJcbiAgICBwYXJhbXNPYmosXHJcbiAgKSA9PiB7XHJcbiAgICBpZiAocGFyYW1zT2JqLmUpIHtcclxuICAgICAgdW5pbnN0YWxsKCk7XHJcbiAgICAgIHJldHVybiAnR29vZGJ5ZSc7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGNyZWRlbnRpYWwgPSAoIHBhcmFtc09iai51c2VyICYmIHBhcmFtc09iai5wYXNzd29yZCApXHJcbiAgICAgID8ge1xyXG4gICAgICAgIHVzZXI6IHBhcmFtc09iai51c2VyLFxyXG4gICAgICAgIHBhc3N3b3JkOiBwYXJhbXNPYmoucGFzc3dvcmRcclxuICAgICAgfVxyXG4gICAgICA6IGxvYWRDcmVkZW50aWFsKCk7XHJcblxyXG4gICAgc2F2ZUNyZWRlbnRpYWwoY3JlZGVudGlhbCk7XHJcbiAgICBjb25zdCBhcGkgPSBwb3N0U0RLKGNyZWRlbnRpYWwpO1xyXG4gICAgY29uc3QgcG9zdHMgPSBhd2FpdCBhcGkubGlzdCgpO1xyXG4gICAgY29uc3QgYWxsUG9zdHMgPSB3aXRoTG9jYWxMaXN0KHBvc3RzKTtcclxuICAgIGNvbnN0IGRvbSA9IHBhcmFtc09iai5kb20gfHwgJCgnI2d1aScpO1xyXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcclxuICAgICAgdHJ5IHtcclxuICAgICAgICBydW5NYW5hZ2VQYW5lbChhbGxQb3N0cy5zbGljZSgpLnJldmVyc2UoKSwgYXBpLCAoKSA9PiB7XHJcbiAgICAgICAgICByZXNvbHZlKCk7XHJcbiAgICAgICAgICBkb20uY2xhc3NMaXN0LnJlbW92ZSgnZnVsbHNjcmVlbicpO1xyXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIFRlcm1pbmFsICYmIFRlcm1pbmFsLmV4ZWMoJ3BtIC1lJyk7XHJcbiAgICAgICAgICB9KVxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgIGRvbSxcclxuICAgICAgICAgIGNvbW1hbmRzOiBwYXJhbXNPYmouY29tbWFuZHMsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH0gY2F0Y2ggKGUpIHtcclxuICAgICAgICByZXR1cm4gXCJGYWlsIHRvIHJlbmRlciBwb3N0c1wiO1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIH1cclxufVxyXG4iXSwic291cmNlUm9vdCI6IiJ9