(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[7],{

/***/ "sedF":
/***/ (function(module, exports, __webpack_require__) {

!function(t,n){if(true)module.exports=n();else { var e, r; }}(window,function(){return function(t){var n={};function r(e){if(n[e])return n[e].exports;var o=n[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=n,r.d=function(t,n,e){r.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,n){if(1&n&&(t=r(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(r.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)r.d(e,o,function(n){return t[n]}.bind(null,o));return e},r.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(n,"a",n),n},r.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},r.p="",r(r.s=2)}([,,function(t,n,r){r(3),t.exports=r(6)},function(t,n,r){(function(t,n){function r(t){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){"use strict";var e,o=Object.prototype,i=o.hasOwnProperty,u="function"==typeof Symbol?Symbol:{},s=u.iterator||"@@iterator",c=u.asyncIterator||"@@asyncIterator",a=u.toStringTag||"@@toStringTag",f="object"===r(n),l=t.regeneratorRuntime;if(l)f&&(n.exports=l);else{(l=t.regeneratorRuntime=f?n.exports:{}).wrap=_;var p="suspendedStart",h="suspendedYield",d="executing",y="completed",b={},v={};v[s]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(L([])));g&&g!==o&&i.call(g,s)&&(v=g);var w=j.prototype=S.prototype=Object.create(v);E.prototype=w.constructor=j,j.constructor=E,j[a]=E.displayName="GeneratorFunction",l.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===E||"GeneratorFunction"===(n.displayName||n.name))},l.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,j):(t.__proto__=j,a in t||(t[a]="GeneratorFunction")),t.prototype=Object.create(w),t},l.awrap=function(t){return{__await:t}},O(k.prototype),k.prototype[c]=function(){return this},l.AsyncIterator=k,l.async=function(t,n,r,e){var o=new k(_(t,n,r,e));return l.isGeneratorFunction(n)?o:o.next().then(function(t){return t.done?t.value:o.next()})},O(w),w[a]="Generator",w[s]=function(){return this},w.toString=function(){return"[object Generator]"},l.keys=function(t){var n=[];for(var r in t)n.push(r);return n.reverse(),function r(){for(;n.length;){var e=n.pop();if(e in t)return r.value=e,r.done=!1,r}return r.done=!0,r}},l.values=L,A.prototype={constructor:A,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(I),!t)for(var n in this)"t"===n.charAt(0)&&i.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,o){return s.type="throw",s.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var u=this.tryEntries[o],s=u.completion;if("root"===u.tryLoc)return r("end");if(u.tryLoc<=this.prev){var c=i.call(u,"catchLoc"),a=i.call(u,"finallyLoc");if(c&&a){if(this.prev<u.catchLoc)return r(u.catchLoc,!0);if(this.prev<u.finallyLoc)return r(u.finallyLoc)}else if(c){if(this.prev<u.catchLoc)return r(u.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<u.finallyLoc)return r(u.finallyLoc)}}}},abrupt:function(t,n){for(var r=this.tryEntries.length-1;r>=0;--r){var e=this.tryEntries[r];if(e.tryLoc<=this.prev&&i.call(e,"finallyLoc")&&this.prev<e.finallyLoc){var o=e;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var u=o?o.completion:{};return u.type=t,u.arg=n,o?(this.method="next",this.next=o.finallyLoc,b):this.complete(u)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),b},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),I(r),b}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc===t){var e=r.completion;if("throw"===e.type){var o=e.arg;I(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:L(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),b}}}function _(t,n,r,e){var o=n&&n.prototype instanceof S?n:S,i=Object.create(o.prototype),u=new A(e||[]);return i._invoke=function(t,n,r){var e=p;return function(o,i){if(e===d)throw new Error("Generator is already running");if(e===y){if("throw"===o)throw i;return N()}for(r.method=o,r.arg=i;;){var u=r.delegate;if(u){var s=P(u,r);if(s){if(s===b)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(e===p)throw e=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);e=d;var c=x(t,n,r);if("normal"===c.type){if(e=r.done?y:h,c.arg===b)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(e=y,r.method="throw",r.arg=c.arg)}}}(t,r,u),i}function x(t,n,r){try{return{type:"normal",arg:t.call(n,r)}}catch(t){return{type:"throw",arg:t}}}function S(){}function E(){}function j(){}function O(t){["next","throw","return"].forEach(function(n){t[n]=function(t){return this._invoke(n,t)}})}function k(n){function e(t,o,u,s){var c=x(n[t],n,o);if("throw"!==c.type){var a=c.arg,f=a.value;return f&&"object"===r(f)&&i.call(f,"__await")?Promise.resolve(f.__await).then(function(t){e("next",t,u,s)},function(t){e("throw",t,u,s)}):Promise.resolve(f).then(function(t){a.value=t,u(a)},s)}s(c.arg)}var o;"object"===r(t.process)&&t.process.domain&&(e=t.process.domain.bind(e)),this._invoke=function(t,n){function r(){return new Promise(function(r,o){e(t,n,r,o)})}return o=o?o.then(r,r):r()}}function P(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,P(t,n),"throw"===n.method))return b;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return b}var o=x(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,b;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,b):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,b)}function T(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function I(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function L(t){if(t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(i.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:e,done:!0}}}("object"===(void 0===t?"undefined":r(t))?t:"object"===("undefined"==typeof window?"undefined":r(window))?window:"object"===("undefined"==typeof self?"undefined":r(self))?self:this)}).call(this,r(4),r(5)(t))},function(t,n){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,n){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,n,r){"use strict";function e(t){return function(t){if(Array.isArray(t)){for(var n=0,r=new Array(t.length);n<t.length;n++)r[n]=t[n];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function o(t,n,r,e,o,i,u){try{var s=t[i](u),c=s.value}catch(t){return void r(t)}s.done?n(c):Promise.resolve(c).then(e,o)}function i(t){return function(){var n=this,r=arguments;return new Promise(function(e,i){var u=t.apply(n,r);function s(t){o(u,e,i,s,c,"next",t)}function c(t){o(u,e,i,s,c,"throw",t)}s(void 0)})}}r.r(n);var u=function(t){if(!t)return"";var n=t.split("\n"),r=n.filter(function(t){return/^[^-\s].*/.test(t)&&""!==t}).length>0;if(1===n.length||r)return t;var e=n.map(function(t){return t.match(/^\s+/)}).filter(function(t){return t}).map(function(t){return t[0]}),o=Math.min.apply(null,e.map(function(t){return t.length})),i=n.map(function(t){return t.slice(o)}).join("\n");return i.startsWith("\n")?i.replace("\n",""):i},s=function(t){return t.slice().pop()},c=function(t){var n=document.createElement("div");return n.innerHTML=t,n.childNodes},a=function(t){var n=document.getElementsByTagName("head")[0],r=n.querySelector("style");r||((r=n.appendChild(document.createElement("style"))).type="text/css"),r.appendChild(c(u(t))[0])},f=function(t,n){var r=document.createEvent("Events");r.initEvent("keyup",!0,!0),r.key=n,t.dispatchEvent(r)},l=function(t){return function(n,r){return String(t).repeat(String(r).length-String(n).length)+n}},p=function(t){var n,r=["-","\\","|","/"],e=0;return function(o,i){o?n=setInterval(function(){e++,i?i.innerHTML=r[e%4]:t&&t(r[e%4])},80):(i&&i.remove(),clearInterval(n))}},h=function(t){t.scrollTop=t.scrollHeight},d=function(){var t=i(regeneratorRuntime.mark(function t(n){var r,o,u,s,c,a,f=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(r=f.length,o=new Array(r>1?r-1:0),u=1;u<r;u++)o[u-1]=f[u];return s=e(n),c=s[0],a=s.slice(1),t.abrupt("return",a.reduce(function(){var t=i(regeneratorRuntime.mark(function t(n,r){var e;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n;case 2:return e=t.sent,t.abrupt("return",r.apply(void 0,[e].concat(o)));case 4:case"end":return t.stop()}},t)}));return function(n,r){return t.apply(this,arguments)}}(),c()));case 3:case"end":return t.stop()}},t)}));return function(n){return t.apply(this,arguments)}}();function y(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:30,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,e=arguments.length>3?arguments[3]:void 0,o=0;return new Promise(function(i,u){!function s(){"function"==typeof t?r>=0?(t(e?o:r),o++,r--,setTimeout(s,function(t){return Math.round(Math.random()*t/2)+t}(n))):setTimeout(function(){i("done")},5*n):u("invalid param")}()})}function b(t,n,r){return y(function(r){return n(t.slice(0,r))},r,t.length,!0)}var v={createNodesFrom:c,Trim:u,injectCSS:a,completionWith:l,loadingText:p};function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var g={clear:function(){return""},history:function(){return""},echo:function(t,n,r,e){return e.fromPipe||e.restParams},man:{handler:function(t,n,r,e){var o=e.restParams;if(!n)return!1;if(!o)return u(n.man.doc);if(o&&n[o.trim()]){var i=n[o.trim()];return"object"===m(i)&&u(i.doc)||"没有帮助信息"}},doc:"\n            NAME\n                man -- display command's manual info.\n                \n            SYNOPSIS\n                man [ command name ]"},help:function(t,n){if(!n)return!1;var r;return"Available commands: \n"+Object.keys(n).sort().map((r="- ",function(t){return r+t})).join("\n")}},w=(Symbol(),Symbol(),function(t,n){n||(n={});var r={bools:{},strings:{},unknownFn:null};"function"==typeof n.unknown&&(r.unknownFn=n.unknown),"boolean"==typeof n.boolean&&n.boolean?r.allBools=!0:[].concat(n.boolean).filter(Boolean).forEach(function(t){r.bools[t]=!0});var e={};Object.keys(n.alias||{}).forEach(function(t){e[t]=[].concat(n.alias[t]),e[t].forEach(function(n){e[n]=[t].concat(e[t].filter(function(t){return n!==t}))})}),[].concat(n.string).filter(Boolean).forEach(function(t){r.strings[t]=!0,e[t]&&(r.strings[e[t]]=!0)});var o=n.default||{},i={_:[]};Object.keys(r.bools).forEach(function(t){s(t,void 0!==o[t]&&o[t])});var u=[];function s(t,n,o){if(!o||!r.unknownFn||function(t,n){return r.allBools&&/^--[^=]+$/.test(n)||r.strings[t]||r.bools[t]||e[t]}(t,o)||!1!==r.unknownFn(o)){var u=!r.strings[t]&&_(n)?Number(n):n;c(i,t.split("."),u),(e[t]||[]).forEach(function(t){c(i,t.split("."),u)})}}function c(t,n,e){var o=t;n.slice(0,-1).forEach(function(t){void 0===o[t]&&(o[t]={}),o=o[t]});var i=n[n.length-1];void 0===o[i]||r.bools[i]||"boolean"==typeof o[i]?o[i]=e:Array.isArray(o[i])?o[i].push(e):o[i]=[o[i],e]}function a(t){return e[t].some(function(t){return r.bools[t]})}-1!==t.indexOf("--")&&(u=t.slice(t.indexOf("--")+1),t=t.slice(0,t.indexOf("--")));for(var f=0;f<t.length;f++){var l=t[f];if(/^--.+=/.test(l)){var p=l.match(/^--([^=]+)=([\s\S]*)$/),h=p[1],d=p[2];r.bools[h]&&(d="false"!==d),s(h,d,l)}else if(/^--no-.+/.test(l)){s(l.match(/^--no-(.+)/)[1],!1,l)}else if(/^--.+/.test(l)){var y=l.match(/^--(.+)/)[1],b=t[f+1];void 0===b||/^-/.test(b)||r.bools[y]||r.allBools||e[y]&&a(y)?/^(true|false)$/.test(b)?(s(y,"true"===b,l),f++):s(y,!r.strings[y]||"",l):(s(y,b,l),f++)}else if(/^-[^-]+/.test(l)){for(var v=l.slice(1,-1).split(""),m=!1,g=0;g<v.length;g++){var w=l.slice(g+2);if("-"!==w){if(/[A-Za-z]/.test(v[g])&&/=/.test(w)){s(v[g],w.split("=")[1],l),m=!0;break}if(/[A-Za-z]/.test(v[g])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(w)){s(v[g],w,l),m=!0;break}if(v[g+1]&&v[g+1].match(/\W/)){s(v[g],l.slice(g+2),l),m=!0;break}s(v[g],!r.strings[v[g]]||"",l)}else s(v[g],w,l)}var x=l.slice(-1)[0];m||"-"===x||(!t[f+1]||/^(-|--)[^-]/.test(t[f+1])||r.bools[x]||e[x]&&a(x)?t[f+1]&&/true|false/.test(t[f+1])?(s(x,"true"===t[f+1],l),f++):s(x,!r.strings[x]||"",l):(s(x,t[f+1],l),f++))}else if(r.unknownFn&&!1===r.unknownFn(l)||i._.push(r.strings._||!_(l)?l:Number(l)),n.stopEarly){i._.push.apply(i._,t.slice(f+1));break}}return Object.keys(o).forEach(function(t){var n,r,u;n=i,r=t.split("."),u=n,r.slice(0,-1).forEach(function(t){u=u[t]||{}}),r[r.length-1]in u||(c(i,t.split("."),o[t]),(e[t]||[]).forEach(function(n){c(i,n.split("."),o[t])}))}),n["--"]?(i["--"]=new Array,u.forEach(function(t){i["--"].push(t)})):u.forEach(function(t){i._.push(t)}),i});function _(t){return"number"==typeof t||(!!/^0x[0-9a-f]+$/i.test(t)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(t))}var x=function(t){var n=function(n){if(!n.trim())return{userInput:n,errorInfo:"空命令"};var r=n.trim().split(/\s+/),e=r[0];if(!e)return{userInput:n,errorInfo:"空命令"};var o=Object.keys(t),i=n.replace(e,"").trim();if(!o.includes(e))return{restParams:i,userInput:n,errorInfo:"".concat(e," 不是合法命令")};var u=t[e],s=r.slice(1),c={};try{c=w(s)}catch(t){return{restParams:i,userInput:n,errorInfo:t}}return{restParams:i,userInput:n,errorInfo:null,command:u,paramsObj:c}};return function(t){if(t.includes("|")){var r=t.split("|");return r.length<2?n(r[0]):{isMultiResult:!0,userInput:t,parsedResults:r.map(function(t){return n(t.trim())})}}return n(t)}},S=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"],E={a:"a",enter:"Enter"},j='"SFMono-Regular", Consolas, "Liberation Mono", Menlo, Courier, monospace',O="12px",k="\n        @keyframes blink {\n          from {\n             background: #000;\n             color: #fff;\n          }\n\n          to {\n             background: none;\n             color: #000;\n          }\n        }\n        \n        .highlight {\n            color: #fff;\n            background: #000;\n        }\n        \n        .blink:not(.disabled) {\n          animation-duration: 1s;\n          animation-name: blink;\n          animation-iteration-count: infinite\n        }\n    ",P=function(t,n){return(P=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])})(t,n)};function T(t,n){function r(){this.constructor=t}P(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}function I(t){return"function"==typeof t}var A=!1,L={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;A=t},get useDeprecatedSynchronousErrorHandling(){return A}};function N(t){setTimeout(function(){throw t})}var R={closed:!0,next:function(t){},error:function(t){if(L.useDeprecatedSynchronousErrorHandling)throw t;N(t)},complete:function(){}},M=Array.isArray||function(t){return t&&"number"==typeof t.length};function F(t){return null!==t&&"object"==typeof t}function $(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,n){return n+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}$.prototype=Object.create(Error.prototype);var C=$,H=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var n;return t.prototype.unsubscribe=function(){var t,n=!1;if(!this.closed){var r=this._parent,e=this._parents,o=this._unsubscribe,i=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var u=-1,s=e?e.length:0;r;)r.remove(this),r=++u<s&&e[u]||null;if(I(o))try{o.call(this)}catch(r){n=!0,t=r instanceof C?Y(r.errors):[r]}if(M(i))for(u=-1,s=i.length;++u<s;){var c=i[u];if(F(c))try{c.unsubscribe()}catch(r){n=!0,t=t||[],r instanceof C?t=t.concat(Y(r.errors)):t.push(r)}}if(n)throw new C(t)}},t.prototype.add=function(n){var r=n;switch(typeof n){case"function":r=new t(n);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var e=r;(r=new t)._subscriptions=[e]}break;default:if(!n)return t.EMPTY;throw new Error("unrecognized teardown "+n+" added to Subscription.")}if(r._addParent(this)){var o=this._subscriptions;o?o.push(r):this._subscriptions=[r]}return r},t.prototype.remove=function(t){var n=this._subscriptions;if(n){var r=n.indexOf(t);-1!==r&&n.splice(r,1)}},t.prototype._addParent=function(t){var n=this._parent,r=this._parents;return n!==t&&(n?r?-1===r.indexOf(t)&&(r.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))},t.EMPTY=((n=new t).closed=!0,n),t}();function Y(t){return t.reduce(function(t,n){return t.concat(n instanceof C?n.errors:n)},[])}var D="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),V=function(t){function n(r,e,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=R;break;case 1:if(!r){i.destination=R;break}if("object"==typeof r){r instanceof n?(i.syncErrorThrowable=r.syncErrorThrowable,i.destination=r,r.add(i)):(i.syncErrorThrowable=!0,i.destination=new z(i,r));break}default:i.syncErrorThrowable=!0,i.destination=new z(i,r,e,o)}return i}return T(n,t),n.prototype[D]=function(){return this},n.create=function(t,r,e){var o=new n(t,r,e);return o.syncErrorThrowable=!1,o},n.prototype.next=function(t){this.isStopped||this._next(t)},n.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},n.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},n.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},n.prototype._next=function(t){this.destination.next(t)},n.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},n.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},n.prototype._unsubscribeAndRecycle=function(){var t=this._parent,n=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=n,this},n}(H),z=function(t){function n(n,r,e,o){var i,u=t.call(this)||this;u._parentSubscriber=n;var s=u;return I(r)?i=r:r&&(i=r.next,e=r.error,o=r.complete,r!==R&&(I((s=Object.create(r)).unsubscribe)&&u.add(s.unsubscribe.bind(s)),s.unsubscribe=u.unsubscribe.bind(u))),u._context=s,u._next=i,u._error=e,u._complete=o,u}return T(n,t),n.prototype.next=function(t){if(!this.isStopped&&this._next){var n=this._parentSubscriber;L.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?this.__tryOrSetError(n,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},n.prototype.error=function(t){if(!this.isStopped){var n=this._parentSubscriber,r=L.useDeprecatedSynchronousErrorHandling;if(this._error)r&&n.syncErrorThrowable?(this.__tryOrSetError(n,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(n.syncErrorThrowable)r?(n.syncErrorValue=t,n.syncErrorThrown=!0):N(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;N(t)}}},n.prototype.complete=function(){var t=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};L.useDeprecatedSynchronousErrorHandling&&n.syncErrorThrowable?(this.__tryOrSetError(n,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},n.prototype.__tryOrUnsub=function(t,n){try{t.call(this._context,n)}catch(t){if(this.unsubscribe(),L.useDeprecatedSynchronousErrorHandling)throw t;N(t)}},n.prototype.__tryOrSetError=function(t,n,r){if(!L.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,r)}catch(n){return L.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=n,t.syncErrorThrown=!0,!0):(N(n),!0)}return!1},n.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},n}(V);var B="function"==typeof Symbol&&Symbol.observable||"@@observable";function G(){}function U(t){return t?1===t.length?t[0]:function(n){return t.reduce(function(t,n){return n(t)},n)}:G}var q=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(n){var r=new t;return r.source=this,r.operator=n,r},t.prototype.subscribe=function(t,n,r){var e=this.operator,o=function(t,n,r){if(t){if(t instanceof V)return t;if(t[D])return t[D]()}return t||n||r?new V(t,n,r):new V(R)}(t,n,r);if(e?o.add(e.call(o,this.source)):o.add(this.source||L.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),L.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(n){L.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=n),!function(t){for(;t;){var n=t,r=n.closed,e=n.destination,o=n.isStopped;if(r||o)return!1;t=e&&e instanceof V?e:null}return!0}(t)?console.warn(n):t.error(n)}},t.prototype.forEach=function(t,n){var r=this;return new(n=J(n))(function(n,e){var o;o=r.subscribe(function(n){try{t(n)}catch(t){e(t),o&&o.unsubscribe()}},e,n)})},t.prototype._subscribe=function(t){var n=this.source;return n&&n.subscribe(t)},t.prototype[B]=function(){return this},t.prototype.pipe=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 0===t.length?this:U(t)(this)},t.prototype.toPromise=function(t){var n=this;return new(t=J(t))(function(t,r){var e;n.subscribe(function(t){return e=t},function(t){return r(t)},function(){return t(e)})})},t.create=function(n){return new t(n)},t}();function J(t){if(t||(t=L.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function K(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}K.prototype=Object.create(Error.prototype);var W=K,Z=function(t){function n(n,r){var e=t.call(this)||this;return e.subject=n,e.subscriber=r,e.closed=!1,e}return T(n,t),n.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,n=t.observers;if(this.subject=null,n&&0!==n.length&&!t.isStopped&&!t.closed){var r=n.indexOf(this.subscriber);-1!==r&&n.splice(r,1)}}},n}(H),Q=function(t){function n(n){var r=t.call(this,n)||this;return r.destination=n,r}return T(n,t),n}(V),X=function(t){function n(){var n=t.call(this)||this;return n.observers=[],n.closed=!1,n.isStopped=!1,n.hasError=!1,n.thrownError=null,n}return T(n,t),n.prototype[D]=function(){return new Q(this)},n.prototype.lift=function(t){var n=new tt(this,this);return n.operator=t,n},n.prototype.next=function(t){if(this.closed)throw new W;if(!this.isStopped)for(var n=this.observers,r=n.length,e=n.slice(),o=0;o<r;o++)e[o].next(t)},n.prototype.error=function(t){if(this.closed)throw new W;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var n=this.observers,r=n.length,e=n.slice(),o=0;o<r;o++)e[o].error(t);this.observers.length=0},n.prototype.complete=function(){if(this.closed)throw new W;this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),e=0;e<n;e++)r[e].complete();this.observers.length=0},n.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},n.prototype._trySubscribe=function(n){if(this.closed)throw new W;return t.prototype._trySubscribe.call(this,n)},n.prototype._subscribe=function(t){if(this.closed)throw new W;return this.hasError?(t.error(this.thrownError),H.EMPTY):this.isStopped?(t.complete(),H.EMPTY):(this.observers.push(t),new Z(this,t))},n.prototype.asObservable=function(){var t=new q;return t.source=this,t},n.create=function(t,n){return new tt(t,n)},n}(q),tt=function(t){function n(n,r){var e=t.call(this)||this;return e.destination=n,e.source=r,e}return T(n,t),n.prototype.next=function(t){var n=this.destination;n&&n.next&&n.next(t)},n.prototype.error=function(t){var n=this.destination;n&&n.error&&this.destination.error(t)},n.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},n.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):H.EMPTY},n}(X);function nt(t){return t&&"function"==typeof t.schedule}var rt=function(t){return function(n){for(var r=0,e=t.length;r<e&&!n.closed;r++)n.next(t[r]);n.closed||n.complete()}};function et(t,n){return new q(n?function(r){var e=new H,o=0;return e.add(n.schedule(function(){o!==t.length?(r.next(t[o++]),r.closed||e.add(this.schedule())):r.complete()})),e}:rt(t))}var ot=new q(function(t){return t.complete()});function it(t){return t?function(t){return new q(function(n){return t.schedule(function(){return n.complete()})})}(t):ot}function ut(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r,e,o=t[t.length-1];switch(nt(o)?t.pop():o=void 0,t.length){case 0:return it(o);case 1:return o?et(t,o):(r=t[0],(e=new q(function(t){t.next(r),t.complete()}))._isScalar=!0,e.value=r,e);default:return et(t,o)}}var st=function(t){function n(n,r,e){var o=t.call(this)||this;return o.parent=n,o.outerValue=r,o.outerIndex=e,o.index=0,o}return T(n,t),n.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},n.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},n.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},n}(V),ct=function(t){return function(n){return t.then(function(t){n.closed||(n.next(t),n.complete())},function(t){return n.error(t)}).then(null,N),n}};function at(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var ft=at(),lt=function(t){return function(n){for(var r=t[ft]();;){var e=r.next();if(e.done){n.complete();break}if(n.next(e.value),n.closed)break}return"function"==typeof r.return&&n.add(function(){r.return&&r.return()}),n}},pt=function(t){return function(n){var r=t[B]();if("function"!=typeof r.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(n)}},ht=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function dt(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var yt=function(t){if(t instanceof q)return function(n){return t._isScalar?(n.next(t.value),void n.complete()):t.subscribe(n)};if(t&&"function"==typeof t[B])return pt(t);if(ht(t))return rt(t);if(dt(t))return ct(t);if(t&&"function"==typeof t[ft])return lt(t);var n=F(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+n+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function bt(t,n,r,e,o){if(void 0===o&&(o=new st(t,r,e)),!o.closed)return yt(n)(o)}var vt=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return T(n,t),n.prototype.notifyNext=function(t,n,r,e,o){this.destination.next(n)},n.prototype.notifyError=function(t,n){this.destination.error(t)},n.prototype.notifyComplete=function(t){this.destination.complete()},n}(V);function mt(t,n){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new gt(t,n))}}var gt=function(){function t(t,n){this.project=t,this.thisArg=n}return t.prototype.call=function(t,n){return n.subscribe(new wt(t,this.project,this.thisArg))},t}(),wt=function(t){function n(n,r,e){var o=t.call(this,n)||this;return o.project=r,o.count=0,o.thisArg=e||o,o}return T(n,t),n.prototype._next=function(t){var n;try{n=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(n)},n}(V);function _t(t,n){if(!n)return t instanceof q?t:new q(yt(t));if(null!=t){if(function(t){return t&&"function"==typeof t[B]}(t))return function(t,n){return new q(n?function(r){var e=new H;return e.add(n.schedule(function(){var o=t[B]();e.add(o.subscribe({next:function(t){e.add(n.schedule(function(){return r.next(t)}))},error:function(t){e.add(n.schedule(function(){return r.error(t)}))},complete:function(){e.add(n.schedule(function(){return r.complete()}))}}))})),e}:pt(t))}(t,n);if(dt(t))return function(t,n){return new q(n?function(r){var e=new H;return e.add(n.schedule(function(){return t.then(function(t){e.add(n.schedule(function(){r.next(t),e.add(n.schedule(function(){return r.complete()}))}))},function(t){e.add(n.schedule(function(){return r.error(t)}))})})),e}:ct(t))}(t,n);if(ht(t))return et(t,n);if(function(t){return t&&"function"==typeof t[ft]}(t)||"string"==typeof t)return function(t,n){if(!t)throw new Error("Iterable cannot be null");return new q(n?function(r){var e,o=new H;return o.add(function(){e&&"function"==typeof e.return&&e.return()}),o.add(n.schedule(function(){e=t[ft](),o.add(n.schedule(function(){if(!r.closed){var t,n;try{var o=e.next();t=o.value,n=o.done}catch(t){return void r.error(t)}n?r.complete():(r.next(t),this.schedule())}}))})),o}:lt(t))}(t,n)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}var xt=function(){function t(t,n){void 0===n&&(n=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=n}return t.prototype.call=function(t,n){return n.subscribe(new St(t,this.project,this.concurrent))},t}(),St=function(t){function n(n,r,e){void 0===e&&(e=Number.POSITIVE_INFINITY);var o=t.call(this,n)||this;return o.project=r,o.concurrent=e,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return T(n,t),n.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},n.prototype._tryNext=function(t){var n,r=this.index++;try{n=this.project(t,r)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(n,t,r)},n.prototype._innerSub=function(t,n,r){var e=new st(this,void 0,void 0);this.destination.add(e),bt(this,t,n,r,e)},n.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},n.prototype.notifyNext=function(t,n,r,e,o){this.destination.next(n)},n.prototype.notifyComplete=function(t){var n=this.buffer;this.remove(t),this.active--,n.length>0?this._next(n.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},n}(vt);function Et(t){return t}function jt(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),function t(n,r,e){return void 0===e&&(e=Number.POSITIVE_INFINITY),"function"==typeof r?function(o){return o.pipe(t(function(t,e){return _t(n(t,e)).pipe(mt(function(n,o){return r(t,n,e,o)}))},e))}:("number"==typeof r&&(e=r),function(t){return t.lift(new xt(n,e))})}(Et,t)}function Ot(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=Number.POSITIVE_INFINITY,e=null,o=t[t.length-1];return nt(o)?(e=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof o&&(r=t.pop()),null===e&&1===t.length&&t[0]instanceof q?t[0]:jt(r)(et(t,e))}var kt=new X,Pt=function(t){return function(n){kt.next({input:t,output:n})}},Tt={in:function(t){var n=t.parsedResult,r=t.cmdSet,e=t.$terminal;if(n)if(n.isMultiResult)!function(t){var n=t.parsedResult,r=t.cmdSet,e=t.$terminal,o=n.userInput;kt.next({input:o,loading:!0,output:""}),d(n.parsedResults.map(function(t){return function(n){if(t.errorInfo)throw t.errorInfo;var o=t.command.handler||t.command;return t.fromPipe=n,o(t.paramsObj,r,e,t)}})).then(function(t){kt.next({output:t,input:o})}).catch(Pt(o))}({parsedResult:n,cmdSet:r,$terminal:e});else{var o=n.userInput;if(n.errorInfo)kt.next({input:o,output:n.errorInfo});else{var i=n.command.handler||n.command,u="";try{u=i(n.paramsObj,r,e,n)}catch(t){return void Pt(o)(t)}"string"!=typeof u?(kt.next({input:o,loading:!0,output:""}),Promise.resolve(u).then(function(t){kt.next({output:t,input:o})}).catch(Pt(o))):kt.next({input:o,output:u})}}else kt.next(null)},out$:kt};function It(t,n){var r=!1;return arguments.length>=2&&(r=!0),function(e){return e.lift(new At(t,n,r))}}var At=function(){function t(t,n,r){void 0===r&&(r=!1),this.accumulator=t,this.seed=n,this.hasSeed=r}return t.prototype.call=function(t,n){return n.subscribe(new Lt(t,this.accumulator,this.seed,this.hasSeed))},t}(),Lt=function(t){function n(n,r,e,o){var i=t.call(this,n)||this;return i.accumulator=r,i._seed=e,i.hasSeed=o,i.index=0,i}return T(n,t),Object.defineProperty(n.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),n.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},n.prototype._tryNext=function(t){var n,r=this.index++;try{n=this.accumulator(this.seed,t,r)}catch(t){this.destination.error(t)}this.seed=n,this.destination.next(n)},n}(V);function Nt(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return function(n){var r;"function"==typeof t[t.length-1]&&(r=t.pop());var e=t;return n.lift(new Rt(e,r))}}var Rt=function(){function t(t,n){this.observables=t,this.project=n}return t.prototype.call=function(t,n){return n.subscribe(new Mt(t,this.observables,this.project))},t}(),Mt=function(t){function n(n,r,e){var o=t.call(this,n)||this;o.observables=r,o.project=e,o.toRespond=[];var i=r.length;o.values=new Array(i);for(var u=0;u<i;u++)o.toRespond.push(u);for(u=0;u<i;u++){var s=r[u];o.add(bt(o,s,s,u))}return o}return T(n,t),n.prototype.notifyNext=function(t,n,r,e,o){this.values[r]=n;var i=this.toRespond;if(i.length>0){var u=i.indexOf(r);-1!==u&&i.splice(u,1)}},n.prototype.notifyComplete=function(){},n.prototype._next=function(t){if(0===this.toRespond.length){var n=[t].concat(this.values);this.project?this._tryProject(n):this.destination.next(n)}},n.prototype._tryProject=function(t){var n;try{n=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(n)},n}(vt);function Ft(t,n){return function(r){return r.lift(new $t(t,n))}}var $t=function(){function t(t,n){this.predicate=t,this.thisArg=n}return t.prototype.call=function(t,n){return n.subscribe(new Ct(t,this.predicate,this.thisArg))},t}(),Ct=function(t){function n(n,r,e){var o=t.call(this,n)||this;return o.predicate=r,o.thisArg=e,o.count=0,o}return T(n,t),n.prototype._next=function(t){var n;try{n=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}n&&this.destination.next(t)},n}(V);Object.prototype.toString;function Ht(t,n,r,e){return I(r)&&(e=r,r=void 0),e?Ht(t,n,r).pipe(mt(function(t){return M(t)?e.apply(void 0,t):e(t)})):new q(function(e){!function t(n,r,e,o,i){var u;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(n)){var s=n;n.addEventListener(r,e,i),u=function(){return s.removeEventListener(r,e,i)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(n)){var c=n;n.on(r,e),u=function(){return c.off(r,e)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(n)){var a=n;n.addListener(r,e),u=function(){return a.removeListener(r,e)}}else{if(!n||!n.length)throw new TypeError("Invalid event target");for(var f=0,l=n.length;f<l;f++)t(n[f],r,e,o,i)}o.add(u)}(t,n,function(t){arguments.length>1?e.next(Array.prototype.slice.call(arguments)):e.next(t)},e,r)})}var Yt=function(t){function n(n){var r=t.call(this)||this;return r._value=n,r}return T(n,t),Object.defineProperty(n.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),n.prototype._subscribe=function(n){var r=t.prototype._subscribe.call(this,n);return r&&!r.closed&&n.next(this._value),r},n.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new W;return this._value},n.prototype.next=function(n){t.prototype.next.call(this,this._value=n)},n}(X),Dt={};var Vt=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,n){return n.subscribe(new zt(t,this.resultSelector))},t}(),zt=function(t){function n(n,r){var e=t.call(this,n)||this;return e.resultSelector=r,e.active=0,e.values=[],e.observables=[],e}return T(n,t),n.prototype._next=function(t){this.values.push(Dt),this.observables.push(t)},n.prototype._complete=function(){var t=this.observables,n=t.length;if(0===n)this.destination.complete();else{this.active=n,this.toRespond=n;for(var r=0;r<n;r++){var e=t[r];this.add(bt(this,e,e,r))}}},n.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},n.prototype.notifyNext=function(t,n,r,e,o){var i=this.values,u=i[r],s=this.toRespond?u===Dt?--this.toRespond:this.toRespond:0;i[r]=n,0===s&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))},n.prototype._tryResultSelector=function(t){var n;try{n=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(n)},n}(vt);function Bt(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(n){return mt(function(t,n){return function(r){for(var e=r,o=0;o<n;o++){var i=e[t[o]];if(void 0===i)return;e=i}return e}}(t,r))(n)}}var Gt=function(){function t(t,n){this.compare=t,this.keySelector=n}return t.prototype.call=function(t,n){return n.subscribe(new Ut(t,this.compare,this.keySelector))},t}(),Ut=function(t){function n(n,r,e){var o=t.call(this,n)||this;return o.keySelector=e,o.hasKey=!1,"function"==typeof r&&(o.compare=r),o}return T(n,t),n.prototype.compare=function(t,n){return t===n},n.prototype._next=function(t){var n;try{var r=this.keySelector;n=r?r(t):t}catch(t){return this.destination.error(t)}var e=!1;if(this.hasKey)try{e=(0,this.compare)(this.key,n)}catch(t){return this.destination.error(t)}else this.hasKey=!0;e||(this.key=n,this.destination.next(t))},n}(V),qt=function(t,n){var r=t.getBoundingClientRect(),e=r.left,o=r.top;n.style.left="".concat(e,"px"),n.style.top="".concat(o,"px")},Jt=function(t,n){return qt(t,n),function(r){qt(t,n);var e=r.start!==r.end,o=""===r.inputStr,i=r.inputStr.split("").map(function(t){return" "===t?"&nbsp;":t});e&&!o||i.push("&nbsp;"),t.innerHTML=i.map(function(t,n){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];return'<span class="'.concat(r.join(" "),'">').concat(t,"</span>")}(t,(i=n,o?"blink":e&&i>=r.start&&i<=r.end?"highlight":i===r.start?"blink":""));var i}).join("")}};function Kt(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function Wt(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=[],e=!0,o=!1,i=void 0;try{for(var u,s=t[Symbol.iterator]();!(e=(u=s.next()).done)&&(r.push(u.value),!n||r.length!==n);e=!0);}catch(t){o=!0,i=t}finally{try{e||null==s.return||s.return()}finally{if(o)throw i}}return r}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Zt=function(t){if(!t)throw"Input wrapper element missing.";var n,r=((n=document.createElement("input")).style.height="20px",n.style.position="fixed",n.style.zIndex="-1",n.style.outline="none",n.style.border="none",n.style.top="0",n.style.left="0",n.style.opacity="0",screen.width<500&&(n.style.transform="scale(0)"),n.style.color="transparent",n.setAttribute("autocomplete","off"),n.onblur=function(){setTimeout(function(){n.focus()})},n);document.body.appendChild(r),r.focus(),function(t,n){v.injectCSS(k),t.style.fontFamily=j,t.style.fontSize=O,t.style.wordBreak="break-all",Jt(t,n)({inputStr:"",start:0,end:0})}(t,r);var e=Ht(r,"input"),o=Ht(r,"select"),i=Ht(r,"keyup"),u=new Yt("");e.pipe(Bt("target","value")).subscribe(function(t){return u.next(t)});var s,c,a=i.pipe(Ft(function(t){return S.includes(t.key)})),l=i.pipe(Ft(function(t){return t.key===E.enter}),Ft(function(t){return!t.target.disabled}),Nt(u),mt(function(t){var n=Wt(t,2);n[0];return n[1]}),Ft(function(t){return!!t})),p=Ot(e,a,o).pipe(mt(function(t){return{start:t.target.selectionStart,end:t.target.selectionEnd}})),h=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=null,e=null;return nt(t[t.length-1])&&(e=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&M(t[0])&&(t=t[0]),et(t,e).lift(new Vt(r))}(u,p).pipe(mt(function(t){var n=Wt(t,2);return function(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},e=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.forEach(function(n){Kt(t,n,r[n])})}return t}({inputStr:n[0]},n[1])}),(s=function(t,n){return JSON.stringify(t)===JSON.stringify(n)},function(t){return t.lift(new Gt(s,c))})),d=Jt(t,r);return h.subscribe(d),{enter$:l,input$:e,get target(){return r},set value(n){r.value=n,u.next(n),""===n&&qt(t,r),f(r,S[0])},set disabled(t){var n=document.querySelector(".blink");t?(r.setAttribute("disabled",!0),n.classList.add("disabled")):(n.classList.remove("disabled"),r.removeAttribute("disabled"),r.focus())}}};function Qt(t){return(Qt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var Xt=p(),tn=function(t){var n,r,e=t.input,o=t.output;if("string"==typeof o)n=o;else if("object"===Qt(o))try{n=o.html||JSON.stringify(o),o.html&&(r=!0)}catch(t){r=!1,n="ERROR: 不支持的显示类型"}else n=void 0===o?"":"ERROR: 不支持的显示类型";if(o instanceof Error){var i=o.message,u=o.stack;n="".concat(i,"\n\n").concat(u)}var s=r?n:"<pre>".concat(n||"","</pre>");return'<div class="session">\n            <div class="input">\n                <span class="prompt">$</span>\n                <span class="cmd">\n                    '.concat(e||"",'\n                </span>\n            </div>\n            <div class="output">\n                ').concat(s,"\n            </div>\n        </div>")},nn=function(t){var n=document.querySelector("#hist-sess"),r=document.querySelector("#curr-sess"),e=s(t),o=e&&e.loading;if(t.length<1)n.innerHTML="";else{n.innerHTML=t.map(tn).join("");var i=n.querySelector(".session:last-child > .output");o?(Xt(!0,i),r.style.display="none"):(Xt(!1),r.style.display="block")}},rn=function(t){a("\n    .session > .input {line-height: 1.2}\n    ::-webkit-scrollbar {\n        width: 2pt\n    }\n    \n    ::-webkit-scrollbar:horizontal {\n        height: 0\n    }\n\n    ::-webkit-scrollbar-button {\n        display: none\n    }\n\n    ::-webkit-scrollbar-thumb {\n        background: #d0d0d0\n    }\n"),t.innerHTML='\n        <div>\n            <div id="hist-sess"></div> \n            <div id="curr-sess">\n                <div class="session">\n                    <div class="input">\n                        <span class="prompt">$</span>\n                        <span class="cmd" id="input"></span>\n                    </div>\n                </div>\n            </div> \n        </div>';var n=t.firstElementChild,r=document.querySelector("#input"),e=Zt(r);return n.style.height="calc(100% - 10px)",n.style.overflow="auto",n.style.fontFamily=j,n.style.fontSize=O,n.addEventListener("click",function(t){var n=e.target.getBoundingClientRect().top;(t.clientY>n||Math.abs(t.clientY-n)<14)&&e.target.focus()},{capture:!1}),{$terminal:n,input:e}};function en(t){return function(t){if(Array.isArray(t)){for(var n=0,r=new Array(t.length);n<t.length;n++)r[n]=t[n];return r}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var on=[],un=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;switch(n){case"clear":return on=[].concat(en(on),en(t),[{input:"clear",output:""}]),[];case"history":var e=[].concat(en(on),en(t)),o=e.map(function(t,n){return l(" ")(n+1,e.length+1)+". "+t.input}).join("\n");return t.push({input:r,output:o}),t;default:return t}};function sn(t,n,r,e,o,i,u){try{var s=t[i](u),c=s.value}catch(t){return void r(t)}s.done?n(c):Promise.resolve(c).then(e,o)}function cn(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var r=[],e=!0,o=!1,i=void 0;try{for(var u,s=t[Symbol.iterator]();!(e=(u=s.next()).done)&&(r.push(u.value),!n||r.length!==n);e=!0);}catch(t){o=!0,i=t}finally{try{e||null==s.return||s.return()}finally{if(o)throw i}}return r}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function an(t){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{},e=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(e=e.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),e.forEach(function(n){fn(t,n,r[n])})}return t}function fn(t,n,r){return n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t}function ln(t){if(!t)throw"wrapper element not found";var n=rn(t),r=n.$terminal,e=n.input,o=new X,i=ut(g),u=Ot(o,i).pipe(It(function(t,n){return an({},n,t)},{}),mt(function(t){return an({},t,g)})),c=e.enter$.pipe(Nt(u),mt(function(t){var n=cn(t,2),e=n[0],o=n[1];return{parsedResult:x(o)(e),cmdSet:o,$terminal:r}}),mt(Tt.in)).subscribe(function(){e.target.blur()}),a=Tt.out$.pipe(Ft(function(t){return t}),It(function(t,n){var r=n?n.input.trim().split(/\s+/)[0]:"";if(n&&function(t){var n=Object.keys(g).includes(t);if(!n)return!1;var r=g[t].handler||g[t];try{return n=""===r()}catch(t){return!1}}(r))return un(t&&t.slice(),r,n.input);var e=t.slice().pop();return e&&e.loading&&t.pop(),t.push(n),t},[])).subscribe(function(t){var n=s(t);nn(t),h(r),e.disabled=n&&n.loading,e.value=""});e.input$.subscribe(function(){h(r)});var l=function(){var t,n=(t=regeneratorRuntime.mark(function t(n){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return h(r),t.next=3,b(n,function(t){return e.value=t},50);case 3:return t.abrupt("return",new Promise(function(t,r){Tt.out$.pipe(Ft(function(t){return t}),Ft(function(t){return!0!==t.loading})).subscribe(function(r){r.input===n&&t()}),f(e.target,E.enter)}));case 4:case"end":return t.stop()}},t)}),function(){var n=this,r=arguments;return new Promise(function(e,o){var i=t.apply(n,r);function u(t){sn(i,e,o,u,s,"next",t)}function s(t){sn(i,e,o,u,s,"throw",t)}u(void 0)})});return function(t){return n.apply(this,arguments)}}();return{set disabled(t){e.disabled=t},set commands(t){o.next(t)},set currentInput(t){e.value=t},destroy:function(){a.unsubscribe(),c.unsubscribe(),r.remove(),e.target.remove()},addCommands:function(t){o.next(t)},input:function(t,n){if(n)return b(t,function(t){e.value=t});e.value=t},humanizerExec:l,humanizerExecCmdArr:function(t){var n=t.map(function(t){return function(){return l(t)}});return d(n)},exec:function(t){e.value=t,f(e.target,E.enter)}}}r.d(n,"default",function(){return ln})}])});

/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcHNldWRvdGVybWluYWwvZGlzdC9wc2V1ZG90ZXJtaW5hbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7OztBQUFBLGVBQWUsR0FBRyxJQUFpRCxvQkFBb0IsS0FBSyxhQUFpSSxDQUFDLG1CQUFtQixtQkFBbUIsU0FBUyxjQUFjLDRCQUE0QixZQUFZLHFCQUFxQiwyREFBMkQsdUNBQXVDLHFDQUFxQyxvQkFBb0IsRUFBRSxpQkFBaUIsNEZBQTRGLGVBQWUsd0NBQXdDLFNBQVMsRUFBRSxtQkFBbUIsOEJBQThCLHFEQUFxRCwwQkFBMEIsNkNBQTZDLHNCQUFzQiw2REFBNkQsWUFBWSxlQUFlLFNBQVMsaUJBQWlCLGlDQUFpQyxpQkFBaUIsWUFBWSxVQUFVLHNCQUFzQixtQkFBbUIsaURBQWlELGlCQUFpQixvQkFBb0Isb0JBQW9CLGlCQUFpQixlQUFlLGNBQWMsaUZBQWlGLGdCQUFnQixhQUFhLG9HQUFvRyxLQUFLLGFBQWEsYUFBYSxpRkFBaUYsMklBQTJJLHNCQUFzQixLQUFLLHNDQUFzQyxTQUFTLDBFQUEwRSxNQUFNLGdCQUFnQixhQUFhLDZDQUE2Qyw2QkFBNkIsK0NBQStDLHFIQUFxSCwwQ0FBMEMsa0VBQWtFLG9CQUFvQiwwSUFBMEkscUJBQXFCLE9BQU8sV0FBVywwQ0FBMEMsWUFBWSw2Q0FBNkMsd0JBQXdCLDREQUE0RCwrQkFBK0IsRUFBRSx1Q0FBdUMsWUFBWSx1QkFBdUIsMkJBQTJCLG9CQUFvQixTQUFTLHlCQUF5QixnQ0FBZ0MsS0FBSyxTQUFTLEVBQUUsY0FBYyx1Q0FBdUMsb0JBQW9CLHlCQUF5QixnQ0FBZ0Msb09BQW9PLGlCQUFpQixhQUFhLG9DQUFvQyxnQ0FBZ0MsaUJBQWlCLCtCQUErQixxQkFBcUIsV0FBVyxnQkFBZ0Isd0VBQXdFLG1DQUFtQyxLQUFLLEtBQUssd0NBQXdDLHFDQUFxQyx3QkFBd0Isb0RBQW9ELFNBQVMsZ0RBQWdELGlEQUFpRCxXQUFXLGdEQUFnRCxL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Qyw0QkFBNEIsV0FBVyw4Q0FBOEMsRUFBRSw4QkFBOEIsS0FBSyxFQUFFLGlCQUFpQixpREFBaUQsMkNBQTJDLE1BQU0sdUJBQXVCLDRDQUE0QyxpQkFBaUIsS0FBSywwREFBMEQsNEJBQTRCLFNBQVMsaUJBQWlCLHFCQUFxQix5QkFBeUIsaUJBQWlCLHNCQUFzQixHQUFHLGtDQUFrQyxJQUFJLGFBQWEsdUJBQXVCLGlDQUFpQyxtQkFBbUIsY0FBYyx1QkFBdUIsY0FBYyx3QkFBd0IsVUFBVSxFQUFFLEVBQUUsbUJBQW1CLGdDQUFnQyxHQUFHLE9BQU8sZ0JBQWdCLGFBQWEsaUJBQWlCLFVBQVUscUJBQXFCLFVBQVUsb0JBQW9CLDZEQUE2RCx5QkFBeUIsVUFBVSxxQkFBcUIsNEJBQTRCLFVBQVUsRUFBRSxVQUFVLGlEQUFpRCx3QkFBd0Isa0JBQWtCLGFBQWEsRUFBRSxZQUFZLGtCQUFrQixnQ0FBZ0MsMkJBQTJCLFVBQVUsRUFBRSxHQUFHLEUiLCJmaWxlIjoiNy4yNjA5ODIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIhZnVuY3Rpb24odCxuKXtpZihcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cyYmXCJvYmplY3RcIj09dHlwZW9mIG1vZHVsZSltb2R1bGUuZXhwb3J0cz1uKCk7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBkZWZpbmUmJmRlZmluZS5hbWQpZGVmaW5lKFtdLG4pO2Vsc2V7dmFyIHI9bigpO2Zvcih2YXIgZSBpbiByKShcIm9iamVjdFwiPT10eXBlb2YgZXhwb3J0cz9leHBvcnRzOnQpW2VdPXJbZV19fSh3aW5kb3csZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24odCl7dmFyIG49e307ZnVuY3Rpb24gcihlKXtpZihuW2VdKXJldHVybiBuW2VdLmV4cG9ydHM7dmFyIG89bltlXT17aTplLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIHRbZV0uY2FsbChvLmV4cG9ydHMsbyxvLmV4cG9ydHMsciksby5sPSEwLG8uZXhwb3J0c31yZXR1cm4gci5tPXQsci5jPW4sci5kPWZ1bmN0aW9uKHQsbixlKXtyLm8odCxuKXx8T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7ZW51bWVyYWJsZTohMCxnZXQ6ZX0pfSxyLnI9ZnVuY3Rpb24odCl7XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnRvU3RyaW5nVGFnJiZPYmplY3QuZGVmaW5lUHJvcGVydHkodCxTeW1ib2wudG9TdHJpbmdUYWcse3ZhbHVlOlwiTW9kdWxlXCJ9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkodCxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sci50PWZ1bmN0aW9uKHQsbil7aWYoMSZuJiYodD1yKHQpKSw4Jm4pcmV0dXJuIHQ7aWYoNCZuJiZcIm9iamVjdFwiPT10eXBlb2YgdCYmdCYmdC5fX2VzTW9kdWxlKXJldHVybiB0O3ZhciBlPU9iamVjdC5jcmVhdGUobnVsbCk7aWYoci5yKGUpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLFwiZGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLHZhbHVlOnR9KSwyJm4mJlwic3RyaW5nXCIhPXR5cGVvZiB0KWZvcih2YXIgbyBpbiB0KXIuZChlLG8sZnVuY3Rpb24obil7cmV0dXJuIHRbbl19LmJpbmQobnVsbCxvKSk7cmV0dXJuIGV9LHIubj1mdW5jdGlvbih0KXt2YXIgbj10JiZ0Ll9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gdC5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiB0fTtyZXR1cm4gci5kKG4sXCJhXCIsbiksbn0sci5vPWZ1bmN0aW9uKHQsbil7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0LG4pfSxyLnA9XCJcIixyKHIucz0yKX0oWywsZnVuY3Rpb24odCxuLHIpe3IoMyksdC5leHBvcnRzPXIoNil9LGZ1bmN0aW9uKHQsbixyKXsoZnVuY3Rpb24odCxuKXtmdW5jdGlvbiByKHQpe3JldHVybihyPVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmXCJzeW1ib2xcIj09dHlwZW9mIFN5bWJvbC5pdGVyYXRvcj9mdW5jdGlvbih0KXtyZXR1cm4gdHlwZW9mIHR9OmZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJnQuY29uc3RydWN0b3I9PT1TeW1ib2wmJnQhPT1TeW1ib2wucHJvdG90eXBlP1wic3ltYm9sXCI6dHlwZW9mIHR9KSh0KX0hZnVuY3Rpb24odCl7XCJ1c2Ugc3RyaWN0XCI7dmFyIGUsbz1PYmplY3QucHJvdG90eXBlLGk9by5oYXNPd25Qcm9wZXJ0eSx1PVwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbD9TeW1ib2w6e30scz11Lml0ZXJhdG9yfHxcIkBAaXRlcmF0b3JcIixjPXUuYXN5bmNJdGVyYXRvcnx8XCJAQGFzeW5jSXRlcmF0b3JcIixhPXUudG9TdHJpbmdUYWd8fFwiQEB0b1N0cmluZ1RhZ1wiLGY9XCJvYmplY3RcIj09PXIobiksbD10LnJlZ2VuZXJhdG9yUnVudGltZTtpZihsKWYmJihuLmV4cG9ydHM9bCk7ZWxzZXsobD10LnJlZ2VuZXJhdG9yUnVudGltZT1mP24uZXhwb3J0czp7fSkud3JhcD1fO3ZhciBwPVwic3VzcGVuZGVkU3RhcnRcIixoPVwic3VzcGVuZGVkWWllbGRcIixkPVwiZXhlY3V0aW5nXCIseT1cImNvbXBsZXRlZFwiLGI9e30sdj17fTt2W3NdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9O3ZhciBtPU9iamVjdC5nZXRQcm90b3R5cGVPZixnPW0mJm0obShMKFtdKSkpO2cmJmchPT1vJiZpLmNhbGwoZyxzKSYmKHY9Zyk7dmFyIHc9ai5wcm90b3R5cGU9Uy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZSh2KTtFLnByb3RvdHlwZT13LmNvbnN0cnVjdG9yPWosai5jb25zdHJ1Y3Rvcj1FLGpbYV09RS5kaXNwbGF5TmFtZT1cIkdlbmVyYXRvckZ1bmN0aW9uXCIsbC5pc0dlbmVyYXRvckZ1bmN0aW9uPWZ1bmN0aW9uKHQpe3ZhciBuPVwiZnVuY3Rpb25cIj09dHlwZW9mIHQmJnQuY29uc3RydWN0b3I7cmV0dXJuISFuJiYobj09PUV8fFwiR2VuZXJhdG9yRnVuY3Rpb25cIj09PShuLmRpc3BsYXlOYW1lfHxuLm5hbWUpKX0sbC5tYXJrPWZ1bmN0aW9uKHQpe3JldHVybiBPYmplY3Quc2V0UHJvdG90eXBlT2Y/T2JqZWN0LnNldFByb3RvdHlwZU9mKHQsaik6KHQuX19wcm90b19fPWosYSBpbiB0fHwodFthXT1cIkdlbmVyYXRvckZ1bmN0aW9uXCIpKSx0LnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHcpLHR9LGwuYXdyYXA9ZnVuY3Rpb24odCl7cmV0dXJue19fYXdhaXQ6dH19LE8oay5wcm90b3R5cGUpLGsucHJvdG90eXBlW2NdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LGwuQXN5bmNJdGVyYXRvcj1rLGwuYXN5bmM9ZnVuY3Rpb24odCxuLHIsZSl7dmFyIG89bmV3IGsoXyh0LG4scixlKSk7cmV0dXJuIGwuaXNHZW5lcmF0b3JGdW5jdGlvbihuKT9vOm8ubmV4dCgpLnRoZW4oZnVuY3Rpb24odCl7cmV0dXJuIHQuZG9uZT90LnZhbHVlOm8ubmV4dCgpfSl9LE8odyksd1thXT1cIkdlbmVyYXRvclwiLHdbc109ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30sdy50b1N0cmluZz1mdW5jdGlvbigpe3JldHVyblwiW29iamVjdCBHZW5lcmF0b3JdXCJ9LGwua2V5cz1mdW5jdGlvbih0KXt2YXIgbj1bXTtmb3IodmFyIHIgaW4gdCluLnB1c2gocik7cmV0dXJuIG4ucmV2ZXJzZSgpLGZ1bmN0aW9uIHIoKXtmb3IoO24ubGVuZ3RoOyl7dmFyIGU9bi5wb3AoKTtpZihlIGluIHQpcmV0dXJuIHIudmFsdWU9ZSxyLmRvbmU9ITEscn1yZXR1cm4gci5kb25lPSEwLHJ9fSxsLnZhbHVlcz1MLEEucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpBLHJlc2V0OmZ1bmN0aW9uKHQpe2lmKHRoaXMucHJldj0wLHRoaXMubmV4dD0wLHRoaXMuc2VudD10aGlzLl9zZW50PWUsdGhpcy5kb25lPSExLHRoaXMuZGVsZWdhdGU9bnVsbCx0aGlzLm1ldGhvZD1cIm5leHRcIix0aGlzLmFyZz1lLHRoaXMudHJ5RW50cmllcy5mb3JFYWNoKEkpLCF0KWZvcih2YXIgbiBpbiB0aGlzKVwidFwiPT09bi5jaGFyQXQoMCkmJmkuY2FsbCh0aGlzLG4pJiYhaXNOYU4oK24uc2xpY2UoMSkpJiYodGhpc1tuXT1lKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMuZG9uZT0hMDt2YXIgdD10aGlzLnRyeUVudHJpZXNbMF0uY29tcGxldGlvbjtpZihcInRocm93XCI9PT10LnR5cGUpdGhyb3cgdC5hcmc7cmV0dXJuIHRoaXMucnZhbH0sZGlzcGF0Y2hFeGNlcHRpb246ZnVuY3Rpb24odCl7aWYodGhpcy5kb25lKXRocm93IHQ7dmFyIG49dGhpcztmdW5jdGlvbiByKHIsbyl7cmV0dXJuIHMudHlwZT1cInRocm93XCIscy5hcmc9dCxuLm5leHQ9cixvJiYobi5tZXRob2Q9XCJuZXh0XCIsbi5hcmc9ZSksISFvfWZvcih2YXIgbz10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7bz49MDstLW8pe3ZhciB1PXRoaXMudHJ5RW50cmllc1tvXSxzPXUuY29tcGxldGlvbjtpZihcInJvb3RcIj09PXUudHJ5TG9jKXJldHVybiByKFwiZW5kXCIpO2lmKHUudHJ5TG9jPD10aGlzLnByZXYpe3ZhciBjPWkuY2FsbCh1LFwiY2F0Y2hMb2NcIiksYT1pLmNhbGwodSxcImZpbmFsbHlMb2NcIik7aWYoYyYmYSl7aWYodGhpcy5wcmV2PHUuY2F0Y2hMb2MpcmV0dXJuIHIodS5jYXRjaExvYywhMCk7aWYodGhpcy5wcmV2PHUuZmluYWxseUxvYylyZXR1cm4gcih1LmZpbmFsbHlMb2MpfWVsc2UgaWYoYyl7aWYodGhpcy5wcmV2PHUuY2F0Y2hMb2MpcmV0dXJuIHIodS5jYXRjaExvYywhMCl9ZWxzZXtpZighYSl0aHJvdyBuZXcgRXJyb3IoXCJ0cnkgc3RhdGVtZW50IHdpdGhvdXQgY2F0Y2ggb3IgZmluYWxseVwiKTtpZih0aGlzLnByZXY8dS5maW5hbGx5TG9jKXJldHVybiByKHUuZmluYWxseUxvYyl9fX19LGFicnVwdDpmdW5jdGlvbih0LG4pe2Zvcih2YXIgcj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7cj49MDstLXIpe3ZhciBlPXRoaXMudHJ5RW50cmllc1tyXTtpZihlLnRyeUxvYzw9dGhpcy5wcmV2JiZpLmNhbGwoZSxcImZpbmFsbHlMb2NcIikmJnRoaXMucHJldjxlLmZpbmFsbHlMb2Mpe3ZhciBvPWU7YnJlYWt9fW8mJihcImJyZWFrXCI9PT10fHxcImNvbnRpbnVlXCI9PT10KSYmby50cnlMb2M8PW4mJm48PW8uZmluYWxseUxvYyYmKG89bnVsbCk7dmFyIHU9bz9vLmNvbXBsZXRpb246e307cmV0dXJuIHUudHlwZT10LHUuYXJnPW4sbz8odGhpcy5tZXRob2Q9XCJuZXh0XCIsdGhpcy5uZXh0PW8uZmluYWxseUxvYyxiKTp0aGlzLmNvbXBsZXRlKHUpfSxjb21wbGV0ZTpmdW5jdGlvbih0LG4pe2lmKFwidGhyb3dcIj09PXQudHlwZSl0aHJvdyB0LmFyZztyZXR1cm5cImJyZWFrXCI9PT10LnR5cGV8fFwiY29udGludWVcIj09PXQudHlwZT90aGlzLm5leHQ9dC5hcmc6XCJyZXR1cm5cIj09PXQudHlwZT8odGhpcy5ydmFsPXRoaXMuYXJnPXQuYXJnLHRoaXMubWV0aG9kPVwicmV0dXJuXCIsdGhpcy5uZXh0PVwiZW5kXCIpOlwibm9ybWFsXCI9PT10LnR5cGUmJm4mJih0aGlzLm5leHQ9biksYn0sZmluaXNoOmZ1bmN0aW9uKHQpe2Zvcih2YXIgbj10aGlzLnRyeUVudHJpZXMubGVuZ3RoLTE7bj49MDstLW4pe3ZhciByPXRoaXMudHJ5RW50cmllc1tuXTtpZihyLmZpbmFsbHlMb2M9PT10KXJldHVybiB0aGlzLmNvbXBsZXRlKHIuY29tcGxldGlvbixyLmFmdGVyTG9jKSxJKHIpLGJ9fSxjYXRjaDpmdW5jdGlvbih0KXtmb3IodmFyIG49dGhpcy50cnlFbnRyaWVzLmxlbmd0aC0xO24+PTA7LS1uKXt2YXIgcj10aGlzLnRyeUVudHJpZXNbbl07aWYoci50cnlMb2M9PT10KXt2YXIgZT1yLmNvbXBsZXRpb247aWYoXCJ0aHJvd1wiPT09ZS50eXBlKXt2YXIgbz1lLmFyZztJKHIpfXJldHVybiBvfX10aHJvdyBuZXcgRXJyb3IoXCJpbGxlZ2FsIGNhdGNoIGF0dGVtcHRcIil9LGRlbGVnYXRlWWllbGQ6ZnVuY3Rpb24odCxuLHIpe3JldHVybiB0aGlzLmRlbGVnYXRlPXtpdGVyYXRvcjpMKHQpLHJlc3VsdE5hbWU6bixuZXh0TG9jOnJ9LFwibmV4dFwiPT09dGhpcy5tZXRob2QmJih0aGlzLmFyZz1lKSxifX19ZnVuY3Rpb24gXyh0LG4scixlKXt2YXIgbz1uJiZuLnByb3RvdHlwZSBpbnN0YW5jZW9mIFM/bjpTLGk9T2JqZWN0LmNyZWF0ZShvLnByb3RvdHlwZSksdT1uZXcgQShlfHxbXSk7cmV0dXJuIGkuX2ludm9rZT1mdW5jdGlvbih0LG4scil7dmFyIGU9cDtyZXR1cm4gZnVuY3Rpb24obyxpKXtpZihlPT09ZCl0aHJvdyBuZXcgRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBydW5uaW5nXCIpO2lmKGU9PT15KXtpZihcInRocm93XCI9PT1vKXRocm93IGk7cmV0dXJuIE4oKX1mb3Ioci5tZXRob2Q9byxyLmFyZz1pOzspe3ZhciB1PXIuZGVsZWdhdGU7aWYodSl7dmFyIHM9UCh1LHIpO2lmKHMpe2lmKHM9PT1iKWNvbnRpbnVlO3JldHVybiBzfX1pZihcIm5leHRcIj09PXIubWV0aG9kKXIuc2VudD1yLl9zZW50PXIuYXJnO2Vsc2UgaWYoXCJ0aHJvd1wiPT09ci5tZXRob2Qpe2lmKGU9PT1wKXRocm93IGU9eSxyLmFyZztyLmRpc3BhdGNoRXhjZXB0aW9uKHIuYXJnKX1lbHNlXCJyZXR1cm5cIj09PXIubWV0aG9kJiZyLmFicnVwdChcInJldHVyblwiLHIuYXJnKTtlPWQ7dmFyIGM9eCh0LG4scik7aWYoXCJub3JtYWxcIj09PWMudHlwZSl7aWYoZT1yLmRvbmU/eTpoLGMuYXJnPT09Yiljb250aW51ZTtyZXR1cm57dmFsdWU6Yy5hcmcsZG9uZTpyLmRvbmV9fVwidGhyb3dcIj09PWMudHlwZSYmKGU9eSxyLm1ldGhvZD1cInRocm93XCIsci5hcmc9Yy5hcmcpfX19KHQscix1KSxpfWZ1bmN0aW9uIHgodCxuLHIpe3RyeXtyZXR1cm57dHlwZTpcIm5vcm1hbFwiLGFyZzp0LmNhbGwobixyKX19Y2F0Y2godCl7cmV0dXJue3R5cGU6XCJ0aHJvd1wiLGFyZzp0fX19ZnVuY3Rpb24gUygpe31mdW5jdGlvbiBFKCl7fWZ1bmN0aW9uIGooKXt9ZnVuY3Rpb24gTyh0KXtbXCJuZXh0XCIsXCJ0aHJvd1wiLFwicmV0dXJuXCJdLmZvckVhY2goZnVuY3Rpb24obil7dFtuXT1mdW5jdGlvbih0KXtyZXR1cm4gdGhpcy5faW52b2tlKG4sdCl9fSl9ZnVuY3Rpb24gayhuKXtmdW5jdGlvbiBlKHQsbyx1LHMpe3ZhciBjPXgoblt0XSxuLG8pO2lmKFwidGhyb3dcIiE9PWMudHlwZSl7dmFyIGE9Yy5hcmcsZj1hLnZhbHVlO3JldHVybiBmJiZcIm9iamVjdFwiPT09cihmKSYmaS5jYWxsKGYsXCJfX2F3YWl0XCIpP1Byb21pc2UucmVzb2x2ZShmLl9fYXdhaXQpLnRoZW4oZnVuY3Rpb24odCl7ZShcIm5leHRcIix0LHUscyl9LGZ1bmN0aW9uKHQpe2UoXCJ0aHJvd1wiLHQsdSxzKX0pOlByb21pc2UucmVzb2x2ZShmKS50aGVuKGZ1bmN0aW9uKHQpe2EudmFsdWU9dCx1KGEpfSxzKX1zKGMuYXJnKX12YXIgbztcIm9iamVjdFwiPT09cih0LnByb2Nlc3MpJiZ0LnByb2Nlc3MuZG9tYWluJiYoZT10LnByb2Nlc3MuZG9tYWluLmJpbmQoZSkpLHRoaXMuX2ludm9rZT1mdW5jdGlvbih0LG4pe2Z1bmN0aW9uIHIoKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocixvKXtlKHQsbixyLG8pfSl9cmV0dXJuIG89bz9vLnRoZW4ocixyKTpyKCl9fWZ1bmN0aW9uIFAodCxuKXt2YXIgcj10Lml0ZXJhdG9yW24ubWV0aG9kXTtpZihyPT09ZSl7aWYobi5kZWxlZ2F0ZT1udWxsLFwidGhyb3dcIj09PW4ubWV0aG9kKXtpZih0Lml0ZXJhdG9yLnJldHVybiYmKG4ubWV0aG9kPVwicmV0dXJuXCIsbi5hcmc9ZSxQKHQsbiksXCJ0aHJvd1wiPT09bi5tZXRob2QpKXJldHVybiBiO24ubWV0aG9kPVwidGhyb3dcIixuLmFyZz1uZXcgVHlwZUVycm9yKFwiVGhlIGl0ZXJhdG9yIGRvZXMgbm90IHByb3ZpZGUgYSAndGhyb3cnIG1ldGhvZFwiKX1yZXR1cm4gYn12YXIgbz14KHIsdC5pdGVyYXRvcixuLmFyZyk7aWYoXCJ0aHJvd1wiPT09by50eXBlKXJldHVybiBuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9by5hcmcsbi5kZWxlZ2F0ZT1udWxsLGI7dmFyIGk9by5hcmc7cmV0dXJuIGk/aS5kb25lPyhuW3QucmVzdWx0TmFtZV09aS52YWx1ZSxuLm5leHQ9dC5uZXh0TG9jLFwicmV0dXJuXCIhPT1uLm1ldGhvZCYmKG4ubWV0aG9kPVwibmV4dFwiLG4uYXJnPWUpLG4uZGVsZWdhdGU9bnVsbCxiKTppOihuLm1ldGhvZD1cInRocm93XCIsbi5hcmc9bmV3IFR5cGVFcnJvcihcIml0ZXJhdG9yIHJlc3VsdCBpcyBub3QgYW4gb2JqZWN0XCIpLG4uZGVsZWdhdGU9bnVsbCxiKX1mdW5jdGlvbiBUKHQpe3ZhciBuPXt0cnlMb2M6dFswXX07MSBpbiB0JiYobi5jYXRjaExvYz10WzFdKSwyIGluIHQmJihuLmZpbmFsbHlMb2M9dFsyXSxuLmFmdGVyTG9jPXRbM10pLHRoaXMudHJ5RW50cmllcy5wdXNoKG4pfWZ1bmN0aW9uIEkodCl7dmFyIG49dC5jb21wbGV0aW9ufHx7fTtuLnR5cGU9XCJub3JtYWxcIixkZWxldGUgbi5hcmcsdC5jb21wbGV0aW9uPW59ZnVuY3Rpb24gQSh0KXt0aGlzLnRyeUVudHJpZXM9W3t0cnlMb2M6XCJyb290XCJ9XSx0LmZvckVhY2goVCx0aGlzKSx0aGlzLnJlc2V0KCEwKX1mdW5jdGlvbiBMKHQpe2lmKHQpe3ZhciBuPXRbc107aWYobilyZXR1cm4gbi5jYWxsKHQpO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIHQubmV4dClyZXR1cm4gdDtpZighaXNOYU4odC5sZW5ndGgpKXt2YXIgcj0tMSxvPWZ1bmN0aW9uIG4oKXtmb3IoOysrcjx0Lmxlbmd0aDspaWYoaS5jYWxsKHQscikpcmV0dXJuIG4udmFsdWU9dFtyXSxuLmRvbmU9ITEsbjtyZXR1cm4gbi52YWx1ZT1lLG4uZG9uZT0hMCxufTtyZXR1cm4gby5uZXh0PW99fXJldHVybntuZXh0Ok59fWZ1bmN0aW9uIE4oKXtyZXR1cm57dmFsdWU6ZSxkb25lOiEwfX19KFwib2JqZWN0XCI9PT0odm9pZCAwPT09dD9cInVuZGVmaW5lZFwiOnIodCkpP3Q6XCJvYmplY3RcIj09PShcInVuZGVmaW5lZFwiPT10eXBlb2Ygd2luZG93P1widW5kZWZpbmVkXCI6cih3aW5kb3cpKT93aW5kb3c6XCJvYmplY3RcIj09PShcInVuZGVmaW5lZFwiPT10eXBlb2Ygc2VsZj9cInVuZGVmaW5lZFwiOnIoc2VsZikpP3NlbGY6dGhpcyl9KS5jYWxsKHRoaXMscig0KSxyKDUpKHQpKX0sZnVuY3Rpb24odCxuKXt2YXIgcjtyPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KCk7dHJ5e3I9cnx8bmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKX1jYXRjaCh0KXtcIm9iamVjdFwiPT10eXBlb2Ygd2luZG93JiYocj13aW5kb3cpfXQuZXhwb3J0cz1yfSxmdW5jdGlvbih0LG4pe3QuZXhwb3J0cz1mdW5jdGlvbih0KXtyZXR1cm4gdC53ZWJwYWNrUG9seWZpbGx8fCh0LmRlcHJlY2F0ZT1mdW5jdGlvbigpe30sdC5wYXRocz1bXSx0LmNoaWxkcmVufHwodC5jaGlsZHJlbj1bXSksT2JqZWN0LmRlZmluZVByb3BlcnR5KHQsXCJsb2FkZWRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5sfX0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0LFwiaWRcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdC5pfX0pLHQud2VicGFja1BvbHlmaWxsPTEpLHR9fSxmdW5jdGlvbih0LG4scil7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gZSh0KXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodC5sZW5ndGgpO248dC5sZW5ndGg7bisrKXJbbl09dFtuXTtyZXR1cm4gcn19KHQpfHxmdW5jdGlvbih0KXtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpfHxcIltvYmplY3QgQXJndW1lbnRzXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXJldHVybiBBcnJheS5mcm9tKHQpfSh0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2VcIil9KCl9ZnVuY3Rpb24gbyh0LG4scixlLG8saSx1KXt0cnl7dmFyIHM9dFtpXSh1KSxjPXMudmFsdWV9Y2F0Y2godCl7cmV0dXJuIHZvaWQgcih0KX1zLmRvbmU/bihjKTpQcm9taXNlLnJlc29sdmUoYykudGhlbihlLG8pfWZ1bmN0aW9uIGkodCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIG49dGhpcyxyPWFyZ3VtZW50cztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24oZSxpKXt2YXIgdT10LmFwcGx5KG4scik7ZnVuY3Rpb24gcyh0KXtvKHUsZSxpLHMsYyxcIm5leHRcIix0KX1mdW5jdGlvbiBjKHQpe28odSxlLGkscyxjLFwidGhyb3dcIix0KX1zKHZvaWQgMCl9KX19ci5yKG4pO3ZhciB1PWZ1bmN0aW9uKHQpe2lmKCF0KXJldHVyblwiXCI7dmFyIG49dC5zcGxpdChcIlxcblwiKSxyPW4uZmlsdGVyKGZ1bmN0aW9uKHQpe3JldHVybi9eW14tXFxzXS4qLy50ZXN0KHQpJiZcIlwiIT09dH0pLmxlbmd0aD4wO2lmKDE9PT1uLmxlbmd0aHx8cilyZXR1cm4gdDt2YXIgZT1uLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5tYXRjaCgvXlxccysvKX0pLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gdH0pLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdFswXX0pLG89TWF0aC5taW4uYXBwbHkobnVsbCxlLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5sZW5ndGh9KSksaT1uLm1hcChmdW5jdGlvbih0KXtyZXR1cm4gdC5zbGljZShvKX0pLmpvaW4oXCJcXG5cIik7cmV0dXJuIGkuc3RhcnRzV2l0aChcIlxcblwiKT9pLnJlcGxhY2UoXCJcXG5cIixcIlwiKTppfSxzPWZ1bmN0aW9uKHQpe3JldHVybiB0LnNsaWNlKCkucG9wKCl9LGM9ZnVuY3Rpb24odCl7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtyZXR1cm4gbi5pbm5lckhUTUw9dCxuLmNoaWxkTm9kZXN9LGE9ZnVuY3Rpb24odCl7dmFyIG49ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJoZWFkXCIpWzBdLHI9bi5xdWVyeVNlbGVjdG9yKFwic3R5bGVcIik7cnx8KChyPW4uYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpKSkudHlwZT1cInRleHQvY3NzXCIpLHIuYXBwZW5kQ2hpbGQoYyh1KHQpKVswXSl9LGY9ZnVuY3Rpb24odCxuKXt2YXIgcj1kb2N1bWVudC5jcmVhdGVFdmVudChcIkV2ZW50c1wiKTtyLmluaXRFdmVudChcImtleXVwXCIsITAsITApLHIua2V5PW4sdC5kaXNwYXRjaEV2ZW50KHIpfSxsPWZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihuLHIpe3JldHVybiBTdHJpbmcodCkucmVwZWF0KFN0cmluZyhyKS5sZW5ndGgtU3RyaW5nKG4pLmxlbmd0aCkrbn19LHA9ZnVuY3Rpb24odCl7dmFyIG4scj1bXCItXCIsXCJcXFxcXCIsXCJ8XCIsXCIvXCJdLGU9MDtyZXR1cm4gZnVuY3Rpb24obyxpKXtvP249c2V0SW50ZXJ2YWwoZnVuY3Rpb24oKXtlKyssaT9pLmlubmVySFRNTD1yW2UlNF06dCYmdChyW2UlNF0pfSw4MCk6KGkmJmkucmVtb3ZlKCksY2xlYXJJbnRlcnZhbChuKSl9fSxoPWZ1bmN0aW9uKHQpe3Quc2Nyb2xsVG9wPXQuc2Nyb2xsSGVpZ2h0fSxkPWZ1bmN0aW9uKCl7dmFyIHQ9aShyZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiB0KG4pe3ZhciByLG8sdSxzLGMsYSxmPWFyZ3VtZW50cztyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6Zm9yKHI9Zi5sZW5ndGgsbz1uZXcgQXJyYXkocj4xP3ItMTowKSx1PTE7dTxyO3UrKylvW3UtMV09Zlt1XTtyZXR1cm4gcz1lKG4pLGM9c1swXSxhPXMuc2xpY2UoMSksdC5hYnJ1cHQoXCJyZXR1cm5cIixhLnJlZHVjZShmdW5jdGlvbigpe3ZhciB0PWkocmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gdChuLHIpe3ZhciBlO3JldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbih0KXtmb3IoOzspc3dpdGNoKHQucHJldj10Lm5leHQpe2Nhc2UgMDpyZXR1cm4gdC5uZXh0PTIsbjtjYXNlIDI6cmV0dXJuIGU9dC5zZW50LHQuYWJydXB0KFwicmV0dXJuXCIsci5hcHBseSh2b2lkIDAsW2VdLmNvbmNhdChvKSkpO2Nhc2UgNDpjYXNlXCJlbmRcIjpyZXR1cm4gdC5zdG9wKCl9fSx0KX0pKTtyZXR1cm4gZnVuY3Rpb24obixyKXtyZXR1cm4gdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl9fSgpLGMoKSkpO2Nhc2UgMzpjYXNlXCJlbmRcIjpyZXR1cm4gdC5zdG9wKCl9fSx0KX0pKTtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQuYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKTtmdW5jdGlvbiB5KHQpe3ZhciBuPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTozMCxyPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXToxLGU9YXJndW1lbnRzLmxlbmd0aD4zP2FyZ3VtZW50c1szXTp2b2lkIDAsbz0wO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihpLHUpeyFmdW5jdGlvbiBzKCl7XCJmdW5jdGlvblwiPT10eXBlb2YgdD9yPj0wPyh0KGU/bzpyKSxvKyssci0tLHNldFRpbWVvdXQocyxmdW5jdGlvbih0KXtyZXR1cm4gTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpKnQvMikrdH0obikpKTpzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7aShcImRvbmVcIil9LDUqbik6dShcImludmFsaWQgcGFyYW1cIil9KCl9KX1mdW5jdGlvbiBiKHQsbixyKXtyZXR1cm4geShmdW5jdGlvbihyKXtyZXR1cm4gbih0LnNsaWNlKDAscikpfSxyLHQubGVuZ3RoLCEwKX12YXIgdj17Y3JlYXRlTm9kZXNGcm9tOmMsVHJpbTp1LGluamVjdENTUzphLGNvbXBsZXRpb25XaXRoOmwsbG9hZGluZ1RleHQ6cH07ZnVuY3Rpb24gbSh0KXtyZXR1cm4obT1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSkodCl9dmFyIGc9e2NsZWFyOmZ1bmN0aW9uKCl7cmV0dXJuXCJcIn0saGlzdG9yeTpmdW5jdGlvbigpe3JldHVyblwiXCJ9LGVjaG86ZnVuY3Rpb24odCxuLHIsZSl7cmV0dXJuIGUuZnJvbVBpcGV8fGUucmVzdFBhcmFtc30sbWFuOntoYW5kbGVyOmZ1bmN0aW9uKHQsbixyLGUpe3ZhciBvPWUucmVzdFBhcmFtcztpZighbilyZXR1cm4hMTtpZighbylyZXR1cm4gdShuLm1hbi5kb2MpO2lmKG8mJm5bby50cmltKCldKXt2YXIgaT1uW28udHJpbSgpXTtyZXR1cm5cIm9iamVjdFwiPT09bShpKSYmdShpLmRvYyl8fFwi5rKh5pyJ5biu5Yqp5L+h5oGvXCJ9fSxkb2M6XCJcXG4gICAgICAgICAgICBOQU1FXFxuICAgICAgICAgICAgICAgIG1hbiAtLSBkaXNwbGF5IGNvbW1hbmQncyBtYW51YWwgaW5mby5cXG4gICAgICAgICAgICAgICAgXFxuICAgICAgICAgICAgU1lOT1BTSVNcXG4gICAgICAgICAgICAgICAgbWFuIFsgY29tbWFuZCBuYW1lIF1cIn0saGVscDpmdW5jdGlvbih0LG4pe2lmKCFuKXJldHVybiExO3ZhciByO3JldHVyblwiQXZhaWxhYmxlIGNvbW1hbmRzOiBcXG5cIitPYmplY3Qua2V5cyhuKS5zb3J0KCkubWFwKChyPVwiLSBcIixmdW5jdGlvbih0KXtyZXR1cm4gcit0fSkpLmpvaW4oXCJcXG5cIil9fSx3PShTeW1ib2woKSxTeW1ib2woKSxmdW5jdGlvbih0LG4pe258fChuPXt9KTt2YXIgcj17Ym9vbHM6e30sc3RyaW5nczp7fSx1bmtub3duRm46bnVsbH07XCJmdW5jdGlvblwiPT10eXBlb2Ygbi51bmtub3duJiYoci51bmtub3duRm49bi51bmtub3duKSxcImJvb2xlYW5cIj09dHlwZW9mIG4uYm9vbGVhbiYmbi5ib29sZWFuP3IuYWxsQm9vbHM9ITA6W10uY29uY2F0KG4uYm9vbGVhbikuZmlsdGVyKEJvb2xlYW4pLmZvckVhY2goZnVuY3Rpb24odCl7ci5ib29sc1t0XT0hMH0pO3ZhciBlPXt9O09iamVjdC5rZXlzKG4uYWxpYXN8fHt9KS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2VbdF09W10uY29uY2F0KG4uYWxpYXNbdF0pLGVbdF0uZm9yRWFjaChmdW5jdGlvbihuKXtlW25dPVt0XS5jb25jYXQoZVt0XS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIG4hPT10fSkpfSl9KSxbXS5jb25jYXQobi5zdHJpbmcpLmZpbHRlcihCb29sZWFuKS5mb3JFYWNoKGZ1bmN0aW9uKHQpe3Iuc3RyaW5nc1t0XT0hMCxlW3RdJiYoci5zdHJpbmdzW2VbdF1dPSEwKX0pO3ZhciBvPW4uZGVmYXVsdHx8e30saT17XzpbXX07T2JqZWN0LmtleXMoci5ib29scykuZm9yRWFjaChmdW5jdGlvbih0KXtzKHQsdm9pZCAwIT09b1t0XSYmb1t0XSl9KTt2YXIgdT1bXTtmdW5jdGlvbiBzKHQsbixvKXtpZighb3x8IXIudW5rbm93bkZufHxmdW5jdGlvbih0LG4pe3JldHVybiByLmFsbEJvb2xzJiYvXi0tW149XSskLy50ZXN0KG4pfHxyLnN0cmluZ3NbdF18fHIuYm9vbHNbdF18fGVbdF19KHQsbyl8fCExIT09ci51bmtub3duRm4obykpe3ZhciB1PSFyLnN0cmluZ3NbdF0mJl8obik/TnVtYmVyKG4pOm47YyhpLHQuc3BsaXQoXCIuXCIpLHUpLChlW3RdfHxbXSkuZm9yRWFjaChmdW5jdGlvbih0KXtjKGksdC5zcGxpdChcIi5cIiksdSl9KX19ZnVuY3Rpb24gYyh0LG4sZSl7dmFyIG89dDtuLnNsaWNlKDAsLTEpLmZvckVhY2goZnVuY3Rpb24odCl7dm9pZCAwPT09b1t0XSYmKG9bdF09e30pLG89b1t0XX0pO3ZhciBpPW5bbi5sZW5ndGgtMV07dm9pZCAwPT09b1tpXXx8ci5ib29sc1tpXXx8XCJib29sZWFuXCI9PXR5cGVvZiBvW2ldP29baV09ZTpBcnJheS5pc0FycmF5KG9baV0pP29baV0ucHVzaChlKTpvW2ldPVtvW2ldLGVdfWZ1bmN0aW9uIGEodCl7cmV0dXJuIGVbdF0uc29tZShmdW5jdGlvbih0KXtyZXR1cm4gci5ib29sc1t0XX0pfS0xIT09dC5pbmRleE9mKFwiLS1cIikmJih1PXQuc2xpY2UodC5pbmRleE9mKFwiLS1cIikrMSksdD10LnNsaWNlKDAsdC5pbmRleE9mKFwiLS1cIikpKTtmb3IodmFyIGY9MDtmPHQubGVuZ3RoO2YrKyl7dmFyIGw9dFtmXTtpZigvXi0tLis9Ly50ZXN0KGwpKXt2YXIgcD1sLm1hdGNoKC9eLS0oW149XSspPShbXFxzXFxTXSopJC8pLGg9cFsxXSxkPXBbMl07ci5ib29sc1toXSYmKGQ9XCJmYWxzZVwiIT09ZCkscyhoLGQsbCl9ZWxzZSBpZigvXi0tbm8tLisvLnRlc3QobCkpe3MobC5tYXRjaCgvXi0tbm8tKC4rKS8pWzFdLCExLGwpfWVsc2UgaWYoL14tLS4rLy50ZXN0KGwpKXt2YXIgeT1sLm1hdGNoKC9eLS0oLispLylbMV0sYj10W2YrMV07dm9pZCAwPT09Ynx8L14tLy50ZXN0KGIpfHxyLmJvb2xzW3ldfHxyLmFsbEJvb2xzfHxlW3ldJiZhKHkpPy9eKHRydWV8ZmFsc2UpJC8udGVzdChiKT8ocyh5LFwidHJ1ZVwiPT09YixsKSxmKyspOnMoeSwhci5zdHJpbmdzW3ldfHxcIlwiLGwpOihzKHksYixsKSxmKyspfWVsc2UgaWYoL14tW14tXSsvLnRlc3QobCkpe2Zvcih2YXIgdj1sLnNsaWNlKDEsLTEpLnNwbGl0KFwiXCIpLG09ITEsZz0wO2c8di5sZW5ndGg7ZysrKXt2YXIgdz1sLnNsaWNlKGcrMik7aWYoXCItXCIhPT13KXtpZigvW0EtWmEtel0vLnRlc3QodltnXSkmJi89Ly50ZXN0KHcpKXtzKHZbZ10sdy5zcGxpdChcIj1cIilbMV0sbCksbT0hMDticmVha31pZigvW0EtWmEtel0vLnRlc3QodltnXSkmJi8tP1xcZCsoXFwuXFxkKik/KGUtP1xcZCspPyQvLnRlc3Qodykpe3ModltnXSx3LGwpLG09ITA7YnJlYWt9aWYodltnKzFdJiZ2W2crMV0ubWF0Y2goL1xcVy8pKXtzKHZbZ10sbC5zbGljZShnKzIpLGwpLG09ITA7YnJlYWt9cyh2W2ddLCFyLnN0cmluZ3NbdltnXV18fFwiXCIsbCl9ZWxzZSBzKHZbZ10sdyxsKX12YXIgeD1sLnNsaWNlKC0xKVswXTttfHxcIi1cIj09PXh8fCghdFtmKzFdfHwvXigtfC0tKVteLV0vLnRlc3QodFtmKzFdKXx8ci5ib29sc1t4XXx8ZVt4XSYmYSh4KT90W2YrMV0mJi90cnVlfGZhbHNlLy50ZXN0KHRbZisxXSk/KHMoeCxcInRydWVcIj09PXRbZisxXSxsKSxmKyspOnMoeCwhci5zdHJpbmdzW3hdfHxcIlwiLGwpOihzKHgsdFtmKzFdLGwpLGYrKykpfWVsc2UgaWYoci51bmtub3duRm4mJiExPT09ci51bmtub3duRm4obCl8fGkuXy5wdXNoKHIuc3RyaW5ncy5ffHwhXyhsKT9sOk51bWJlcihsKSksbi5zdG9wRWFybHkpe2kuXy5wdXNoLmFwcGx5KGkuXyx0LnNsaWNlKGYrMSkpO2JyZWFrfX1yZXR1cm4gT2JqZWN0LmtleXMobykuZm9yRWFjaChmdW5jdGlvbih0KXt2YXIgbixyLHU7bj1pLHI9dC5zcGxpdChcIi5cIiksdT1uLHIuc2xpY2UoMCwtMSkuZm9yRWFjaChmdW5jdGlvbih0KXt1PXVbdF18fHt9fSkscltyLmxlbmd0aC0xXWluIHV8fChjKGksdC5zcGxpdChcIi5cIiksb1t0XSksKGVbdF18fFtdKS5mb3JFYWNoKGZ1bmN0aW9uKG4pe2MoaSxuLnNwbGl0KFwiLlwiKSxvW3RdKX0pKX0pLG5bXCItLVwiXT8oaVtcIi0tXCJdPW5ldyBBcnJheSx1LmZvckVhY2goZnVuY3Rpb24odCl7aVtcIi0tXCJdLnB1c2godCl9KSk6dS5mb3JFYWNoKGZ1bmN0aW9uKHQpe2kuXy5wdXNoKHQpfSksaX0pO2Z1bmN0aW9uIF8odCl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIHR8fCghIS9eMHhbMC05YS1mXSskL2kudGVzdCh0KXx8L15bLStdPyg/OlxcZCsoPzpcXC5cXGQqKT98XFwuXFxkKykoZVstK10/XFxkKyk/JC8udGVzdCh0KSl9dmFyIHg9ZnVuY3Rpb24odCl7dmFyIG49ZnVuY3Rpb24obil7aWYoIW4udHJpbSgpKXJldHVybnt1c2VySW5wdXQ6bixlcnJvckluZm86XCLnqbrlkb3ku6RcIn07dmFyIHI9bi50cmltKCkuc3BsaXQoL1xccysvKSxlPXJbMF07aWYoIWUpcmV0dXJue3VzZXJJbnB1dDpuLGVycm9ySW5mbzpcIuepuuWRveS7pFwifTt2YXIgbz1PYmplY3Qua2V5cyh0KSxpPW4ucmVwbGFjZShlLFwiXCIpLnRyaW0oKTtpZighby5pbmNsdWRlcyhlKSlyZXR1cm57cmVzdFBhcmFtczppLHVzZXJJbnB1dDpuLGVycm9ySW5mbzpcIlwiLmNvbmNhdChlLFwiIOS4jeaYr+WQiOazleWRveS7pFwiKX07dmFyIHU9dFtlXSxzPXIuc2xpY2UoMSksYz17fTt0cnl7Yz13KHMpfWNhdGNoKHQpe3JldHVybntyZXN0UGFyYW1zOmksdXNlcklucHV0Om4sZXJyb3JJbmZvOnR9fXJldHVybntyZXN0UGFyYW1zOmksdXNlcklucHV0Om4sZXJyb3JJbmZvOm51bGwsY29tbWFuZDp1LHBhcmFtc09iajpjfX07cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKHQuaW5jbHVkZXMoXCJ8XCIpKXt2YXIgcj10LnNwbGl0KFwifFwiKTtyZXR1cm4gci5sZW5ndGg8Mj9uKHJbMF0pOntpc011bHRpUmVzdWx0OiEwLHVzZXJJbnB1dDp0LHBhcnNlZFJlc3VsdHM6ci5tYXAoZnVuY3Rpb24odCl7cmV0dXJuIG4odC50cmltKCkpfSl9fXJldHVybiBuKHQpfX0sUz1bXCJBcnJvd0xlZnRcIixcIkFycm93UmlnaHRcIixcIkFycm93VXBcIixcIkFycm93RG93blwiXSxFPXthOlwiYVwiLGVudGVyOlwiRW50ZXJcIn0saj0nXCJTRk1vbm8tUmVndWxhclwiLCBDb25zb2xhcywgXCJMaWJlcmF0aW9uIE1vbm9cIiwgTWVubG8sIENvdXJpZXIsIG1vbm9zcGFjZScsTz1cIjEycHhcIixrPVwiXFxuICAgICAgICBAa2V5ZnJhbWVzIGJsaW5rIHtcXG4gICAgICAgICAgZnJvbSB7XFxuICAgICAgICAgICAgIGJhY2tncm91bmQ6ICMwMDA7XFxuICAgICAgICAgICAgIGNvbG9yOiAjZmZmO1xcbiAgICAgICAgICB9XFxuXFxuICAgICAgICAgIHRvIHtcXG4gICAgICAgICAgICAgYmFja2dyb3VuZDogbm9uZTtcXG4gICAgICAgICAgICAgY29sb3I6ICMwMDA7XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG4gICAgICAgIFxcbiAgICAgICAgLmhpZ2hsaWdodCB7XFxuICAgICAgICAgICAgY29sb3I6ICNmZmY7XFxuICAgICAgICAgICAgYmFja2dyb3VuZDogIzAwMDtcXG4gICAgICAgIH1cXG4gICAgICAgIFxcbiAgICAgICAgLmJsaW5rOm5vdCguZGlzYWJsZWQpIHtcXG4gICAgICAgICAgYW5pbWF0aW9uLWR1cmF0aW9uOiAxcztcXG4gICAgICAgICAgYW5pbWF0aW9uLW5hbWU6IGJsaW5rO1xcbiAgICAgICAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiBpbmZpbml0ZVxcbiAgICAgICAgfVxcbiAgICBcIixQPWZ1bmN0aW9uKHQsbil7cmV0dXJuKFA9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKHQsbil7dC5fX3Byb3RvX189bn18fGZ1bmN0aW9uKHQsbil7Zm9yKHZhciByIGluIG4pbi5oYXNPd25Qcm9wZXJ0eShyKSYmKHRbcl09bltyXSl9KSh0LG4pfTtmdW5jdGlvbiBUKHQsbil7ZnVuY3Rpb24gcigpe3RoaXMuY29uc3RydWN0b3I9dH1QKHQsbiksdC5wcm90b3R5cGU9bnVsbD09PW4/T2JqZWN0LmNyZWF0ZShuKTooci5wcm90b3R5cGU9bi5wcm90b3R5cGUsbmV3IHIpfWZ1bmN0aW9uIEkodCl7cmV0dXJuXCJmdW5jdGlvblwiPT10eXBlb2YgdH12YXIgQT0hMSxMPXtQcm9taXNlOnZvaWQgMCxzZXQgdXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyh0KXt0JiYobmV3IEVycm9yKS5zdGFjaztBPXR9LGdldCB1c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKCl7cmV0dXJuIEF9fTtmdW5jdGlvbiBOKHQpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0aHJvdyB0fSl9dmFyIFI9e2Nsb3NlZDohMCxuZXh0OmZ1bmN0aW9uKHQpe30sZXJyb3I6ZnVuY3Rpb24odCl7aWYoTC51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nKXRocm93IHQ7Tih0KX0sY29tcGxldGU6ZnVuY3Rpb24oKXt9fSxNPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKHQpe3JldHVybiB0JiZcIm51bWJlclwiPT10eXBlb2YgdC5sZW5ndGh9O2Z1bmN0aW9uIEYodCl7cmV0dXJuIG51bGwhPT10JiZcIm9iamVjdFwiPT10eXBlb2YgdH1mdW5jdGlvbiAkKHQpe3JldHVybiBFcnJvci5jYWxsKHRoaXMpLHRoaXMubWVzc2FnZT10P3QubGVuZ3RoK1wiIGVycm9ycyBvY2N1cnJlZCBkdXJpbmcgdW5zdWJzY3JpcHRpb246XFxuXCIrdC5tYXAoZnVuY3Rpb24odCxuKXtyZXR1cm4gbisxK1wiKSBcIit0LnRvU3RyaW5nKCl9KS5qb2luKFwiXFxuICBcIik6XCJcIix0aGlzLm5hbWU9XCJVbnN1YnNjcmlwdGlvbkVycm9yXCIsdGhpcy5lcnJvcnM9dCx0aGlzfSQucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKTt2YXIgQz0kLEg9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuY2xvc2VkPSExLHRoaXMuX3BhcmVudD1udWxsLHRoaXMuX3BhcmVudHM9bnVsbCx0aGlzLl9zdWJzY3JpcHRpb25zPW51bGwsdCYmKHRoaXMuX3Vuc3Vic2NyaWJlPXQpfXZhciBuO3JldHVybiB0LnByb3RvdHlwZS51bnN1YnNjcmliZT1mdW5jdGlvbigpe3ZhciB0LG49ITE7aWYoIXRoaXMuY2xvc2VkKXt2YXIgcj10aGlzLl9wYXJlbnQsZT10aGlzLl9wYXJlbnRzLG89dGhpcy5fdW5zdWJzY3JpYmUsaT10aGlzLl9zdWJzY3JpcHRpb25zO3RoaXMuY2xvc2VkPSEwLHRoaXMuX3BhcmVudD1udWxsLHRoaXMuX3BhcmVudHM9bnVsbCx0aGlzLl9zdWJzY3JpcHRpb25zPW51bGw7Zm9yKHZhciB1PS0xLHM9ZT9lLmxlbmd0aDowO3I7KXIucmVtb3ZlKHRoaXMpLHI9Kyt1PHMmJmVbdV18fG51bGw7aWYoSShvKSl0cnl7by5jYWxsKHRoaXMpfWNhdGNoKHIpe249ITAsdD1yIGluc3RhbmNlb2YgQz9ZKHIuZXJyb3JzKTpbcl19aWYoTShpKSlmb3IodT0tMSxzPWkubGVuZ3RoOysrdTxzOyl7dmFyIGM9aVt1XTtpZihGKGMpKXRyeXtjLnVuc3Vic2NyaWJlKCl9Y2F0Y2gocil7bj0hMCx0PXR8fFtdLHIgaW5zdGFuY2VvZiBDP3Q9dC5jb25jYXQoWShyLmVycm9ycykpOnQucHVzaChyKX19aWYobil0aHJvdyBuZXcgQyh0KX19LHQucHJvdG90eXBlLmFkZD1mdW5jdGlvbihuKXt2YXIgcj1uO3N3aXRjaCh0eXBlb2Ygbil7Y2FzZVwiZnVuY3Rpb25cIjpyPW5ldyB0KG4pO2Nhc2VcIm9iamVjdFwiOmlmKHI9PT10aGlzfHxyLmNsb3NlZHx8XCJmdW5jdGlvblwiIT10eXBlb2Ygci51bnN1YnNjcmliZSlyZXR1cm4gcjtpZih0aGlzLmNsb3NlZClyZXR1cm4gci51bnN1YnNjcmliZSgpLHI7aWYoIShyIGluc3RhbmNlb2YgdCkpe3ZhciBlPXI7KHI9bmV3IHQpLl9zdWJzY3JpcHRpb25zPVtlXX1icmVhaztkZWZhdWx0OmlmKCFuKXJldHVybiB0LkVNUFRZO3Rocm93IG5ldyBFcnJvcihcInVucmVjb2duaXplZCB0ZWFyZG93biBcIituK1wiIGFkZGVkIHRvIFN1YnNjcmlwdGlvbi5cIil9aWYoci5fYWRkUGFyZW50KHRoaXMpKXt2YXIgbz10aGlzLl9zdWJzY3JpcHRpb25zO28/by5wdXNoKHIpOnRoaXMuX3N1YnNjcmlwdGlvbnM9W3JdfXJldHVybiByfSx0LnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24odCl7dmFyIG49dGhpcy5fc3Vic2NyaXB0aW9ucztpZihuKXt2YXIgcj1uLmluZGV4T2YodCk7LTEhPT1yJiZuLnNwbGljZShyLDEpfX0sdC5wcm90b3R5cGUuX2FkZFBhcmVudD1mdW5jdGlvbih0KXt2YXIgbj10aGlzLl9wYXJlbnQscj10aGlzLl9wYXJlbnRzO3JldHVybiBuIT09dCYmKG4/cj8tMT09PXIuaW5kZXhPZih0KSYmKHIucHVzaCh0KSwhMCk6KHRoaXMuX3BhcmVudHM9W3RdLCEwKToodGhpcy5fcGFyZW50PXQsITApKX0sdC5FTVBUWT0oKG49bmV3IHQpLmNsb3NlZD0hMCxuKSx0fSgpO2Z1bmN0aW9uIFkodCl7cmV0dXJuIHQucmVkdWNlKGZ1bmN0aW9uKHQsbil7cmV0dXJuIHQuY29uY2F0KG4gaW5zdGFuY2VvZiBDP24uZXJyb3JzOm4pfSxbXSl9dmFyIEQ9XCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sP1N5bWJvbChcInJ4U3Vic2NyaWJlclwiKTpcIkBAcnhTdWJzY3JpYmVyX1wiK01hdGgucmFuZG9tKCksVj1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKHIsZSxvKXt2YXIgaT10LmNhbGwodGhpcyl8fHRoaXM7c3dpdGNoKGkuc3luY0Vycm9yVmFsdWU9bnVsbCxpLnN5bmNFcnJvclRocm93bj0hMSxpLnN5bmNFcnJvclRocm93YWJsZT0hMSxpLmlzU3RvcHBlZD0hMSxhcmd1bWVudHMubGVuZ3RoKXtjYXNlIDA6aS5kZXN0aW5hdGlvbj1SO2JyZWFrO2Nhc2UgMTppZighcil7aS5kZXN0aW5hdGlvbj1SO2JyZWFrfWlmKFwib2JqZWN0XCI9PXR5cGVvZiByKXtyIGluc3RhbmNlb2Ygbj8oaS5zeW5jRXJyb3JUaHJvd2FibGU9ci5zeW5jRXJyb3JUaHJvd2FibGUsaS5kZXN0aW5hdGlvbj1yLHIuYWRkKGkpKTooaS5zeW5jRXJyb3JUaHJvd2FibGU9ITAsaS5kZXN0aW5hdGlvbj1uZXcgeihpLHIpKTticmVha31kZWZhdWx0Omkuc3luY0Vycm9yVGhyb3dhYmxlPSEwLGkuZGVzdGluYXRpb249bmV3IHooaSxyLGUsbyl9cmV0dXJuIGl9cmV0dXJuIFQobix0KSxuLnByb3RvdHlwZVtEXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSxuLmNyZWF0ZT1mdW5jdGlvbih0LHIsZSl7dmFyIG89bmV3IG4odCxyLGUpO3JldHVybiBvLnN5bmNFcnJvclRocm93YWJsZT0hMSxvfSxuLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKHQpe3RoaXMuaXNTdG9wcGVkfHx0aGlzLl9uZXh0KHQpfSxuLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbih0KXt0aGlzLmlzU3RvcHBlZHx8KHRoaXMuaXNTdG9wcGVkPSEwLHRoaXMuX2Vycm9yKHQpKX0sbi5wcm90b3R5cGUuY29tcGxldGU9ZnVuY3Rpb24oKXt0aGlzLmlzU3RvcHBlZHx8KHRoaXMuaXNTdG9wcGVkPSEwLHRoaXMuX2NvbXBsZXRlKCkpfSxuLnByb3RvdHlwZS51bnN1YnNjcmliZT1mdW5jdGlvbigpe3RoaXMuY2xvc2VkfHwodGhpcy5pc1N0b3BwZWQ9ITAsdC5wcm90b3R5cGUudW5zdWJzY3JpYmUuY2FsbCh0aGlzKSl9LG4ucHJvdG90eXBlLl9uZXh0PWZ1bmN0aW9uKHQpe3RoaXMuZGVzdGluYXRpb24ubmV4dCh0KX0sbi5wcm90b3R5cGUuX2Vycm9yPWZ1bmN0aW9uKHQpe3RoaXMuZGVzdGluYXRpb24uZXJyb3IodCksdGhpcy51bnN1YnNjcmliZSgpfSxuLnByb3RvdHlwZS5fY29tcGxldGU9ZnVuY3Rpb24oKXt0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCksdGhpcy51bnN1YnNjcmliZSgpfSxuLnByb3RvdHlwZS5fdW5zdWJzY3JpYmVBbmRSZWN5Y2xlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5fcGFyZW50LG49dGhpcy5fcGFyZW50cztyZXR1cm4gdGhpcy5fcGFyZW50PW51bGwsdGhpcy5fcGFyZW50cz1udWxsLHRoaXMudW5zdWJzY3JpYmUoKSx0aGlzLmNsb3NlZD0hMSx0aGlzLmlzU3RvcHBlZD0hMSx0aGlzLl9wYXJlbnQ9dCx0aGlzLl9wYXJlbnRzPW4sdGhpc30sbn0oSCksej1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKG4scixlLG8pe3ZhciBpLHU9dC5jYWxsKHRoaXMpfHx0aGlzO3UuX3BhcmVudFN1YnNjcmliZXI9bjt2YXIgcz11O3JldHVybiBJKHIpP2k9cjpyJiYoaT1yLm5leHQsZT1yLmVycm9yLG89ci5jb21wbGV0ZSxyIT09UiYmKEkoKHM9T2JqZWN0LmNyZWF0ZShyKSkudW5zdWJzY3JpYmUpJiZ1LmFkZChzLnVuc3Vic2NyaWJlLmJpbmQocykpLHMudW5zdWJzY3JpYmU9dS51bnN1YnNjcmliZS5iaW5kKHUpKSksdS5fY29udGV4dD1zLHUuX25leHQ9aSx1Ll9lcnJvcj1lLHUuX2NvbXBsZXRlPW8sdX1yZXR1cm4gVChuLHQpLG4ucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24odCl7aWYoIXRoaXMuaXNTdG9wcGVkJiZ0aGlzLl9uZXh0KXt2YXIgbj10aGlzLl9wYXJlbnRTdWJzY3JpYmVyO0wudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyYmbi5zeW5jRXJyb3JUaHJvd2FibGU/dGhpcy5fX3RyeU9yU2V0RXJyb3Iobix0aGlzLl9uZXh0LHQpJiZ0aGlzLnVuc3Vic2NyaWJlKCk6dGhpcy5fX3RyeU9yVW5zdWIodGhpcy5fbmV4dCx0KX19LG4ucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKHQpe2lmKCF0aGlzLmlzU3RvcHBlZCl7dmFyIG49dGhpcy5fcGFyZW50U3Vic2NyaWJlcixyPUwudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZztpZih0aGlzLl9lcnJvcilyJiZuLnN5bmNFcnJvclRocm93YWJsZT8odGhpcy5fX3RyeU9yU2V0RXJyb3Iobix0aGlzLl9lcnJvcix0KSx0aGlzLnVuc3Vic2NyaWJlKCkpOih0aGlzLl9fdHJ5T3JVbnN1Yih0aGlzLl9lcnJvcix0KSx0aGlzLnVuc3Vic2NyaWJlKCkpO2Vsc2UgaWYobi5zeW5jRXJyb3JUaHJvd2FibGUpcj8obi5zeW5jRXJyb3JWYWx1ZT10LG4uc3luY0Vycm9yVGhyb3duPSEwKTpOKHQpLHRoaXMudW5zdWJzY3JpYmUoKTtlbHNle2lmKHRoaXMudW5zdWJzY3JpYmUoKSxyKXRocm93IHQ7Tih0KX19fSxuLnByb3RvdHlwZS5jb21wbGV0ZT1mdW5jdGlvbigpe3ZhciB0PXRoaXM7aWYoIXRoaXMuaXNTdG9wcGVkKXt2YXIgbj10aGlzLl9wYXJlbnRTdWJzY3JpYmVyO2lmKHRoaXMuX2NvbXBsZXRlKXt2YXIgcj1mdW5jdGlvbigpe3JldHVybiB0Ll9jb21wbGV0ZS5jYWxsKHQuX2NvbnRleHQpfTtMLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJm4uc3luY0Vycm9yVGhyb3dhYmxlPyh0aGlzLl9fdHJ5T3JTZXRFcnJvcihuLHIpLHRoaXMudW5zdWJzY3JpYmUoKSk6KHRoaXMuX190cnlPclVuc3ViKHIpLHRoaXMudW5zdWJzY3JpYmUoKSl9ZWxzZSB0aGlzLnVuc3Vic2NyaWJlKCl9fSxuLnByb3RvdHlwZS5fX3RyeU9yVW5zdWI9ZnVuY3Rpb24odCxuKXt0cnl7dC5jYWxsKHRoaXMuX2NvbnRleHQsbil9Y2F0Y2godCl7aWYodGhpcy51bnN1YnNjcmliZSgpLEwudXNlRGVwcmVjYXRlZFN5bmNocm9ub3VzRXJyb3JIYW5kbGluZyl0aHJvdyB0O04odCl9fSxuLnByb3RvdHlwZS5fX3RyeU9yU2V0RXJyb3I9ZnVuY3Rpb24odCxuLHIpe2lmKCFMLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcpdGhyb3cgbmV3IEVycm9yKFwiYmFkIGNhbGxcIik7dHJ5e24uY2FsbCh0aGlzLl9jb250ZXh0LHIpfWNhdGNoKG4pe3JldHVybiBMLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmc/KHQuc3luY0Vycm9yVmFsdWU9bix0LnN5bmNFcnJvclRocm93bj0hMCwhMCk6KE4obiksITApfXJldHVybiExfSxuLnByb3RvdHlwZS5fdW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXt2YXIgdD10aGlzLl9wYXJlbnRTdWJzY3JpYmVyO3RoaXMuX2NvbnRleHQ9bnVsbCx0aGlzLl9wYXJlbnRTdWJzY3JpYmVyPW51bGwsdC51bnN1YnNjcmliZSgpfSxufShWKTt2YXIgQj1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5vYnNlcnZhYmxlfHxcIkBAb2JzZXJ2YWJsZVwiO2Z1bmN0aW9uIEcoKXt9ZnVuY3Rpb24gVSh0KXtyZXR1cm4gdD8xPT09dC5sZW5ndGg/dFswXTpmdW5jdGlvbihuKXtyZXR1cm4gdC5yZWR1Y2UoZnVuY3Rpb24odCxuKXtyZXR1cm4gbih0KX0sbil9Okd9dmFyIHE9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQpe3RoaXMuX2lzU2NhbGFyPSExLHQmJih0aGlzLl9zdWJzY3JpYmU9dCl9cmV0dXJuIHQucHJvdG90eXBlLmxpZnQ9ZnVuY3Rpb24obil7dmFyIHI9bmV3IHQ7cmV0dXJuIHIuc291cmNlPXRoaXMsci5vcGVyYXRvcj1uLHJ9LHQucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbih0LG4scil7dmFyIGU9dGhpcy5vcGVyYXRvcixvPWZ1bmN0aW9uKHQsbixyKXtpZih0KXtpZih0IGluc3RhbmNlb2YgVilyZXR1cm4gdDtpZih0W0RdKXJldHVybiB0W0RdKCl9cmV0dXJuIHR8fG58fHI/bmV3IFYodCxuLHIpOm5ldyBWKFIpfSh0LG4scik7aWYoZT9vLmFkZChlLmNhbGwobyx0aGlzLnNvdXJjZSkpOm8uYWRkKHRoaXMuc291cmNlfHxMLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJiFvLnN5bmNFcnJvclRocm93YWJsZT90aGlzLl9zdWJzY3JpYmUobyk6dGhpcy5fdHJ5U3Vic2NyaWJlKG8pKSxMLnVzZURlcHJlY2F0ZWRTeW5jaHJvbm91c0Vycm9ySGFuZGxpbmcmJm8uc3luY0Vycm9yVGhyb3dhYmxlJiYoby5zeW5jRXJyb3JUaHJvd2FibGU9ITEsby5zeW5jRXJyb3JUaHJvd24pKXRocm93IG8uc3luY0Vycm9yVmFsdWU7cmV0dXJuIG99LHQucHJvdG90eXBlLl90cnlTdWJzY3JpYmU9ZnVuY3Rpb24odCl7dHJ5e3JldHVybiB0aGlzLl9zdWJzY3JpYmUodCl9Y2F0Y2gobil7TC51c2VEZXByZWNhdGVkU3luY2hyb25vdXNFcnJvckhhbmRsaW5nJiYodC5zeW5jRXJyb3JUaHJvd249ITAsdC5zeW5jRXJyb3JWYWx1ZT1uKSwhZnVuY3Rpb24odCl7Zm9yKDt0Oyl7dmFyIG49dCxyPW4uY2xvc2VkLGU9bi5kZXN0aW5hdGlvbixvPW4uaXNTdG9wcGVkO2lmKHJ8fG8pcmV0dXJuITE7dD1lJiZlIGluc3RhbmNlb2YgVj9lOm51bGx9cmV0dXJuITB9KHQpP2NvbnNvbGUud2FybihuKTp0LmVycm9yKG4pfX0sdC5wcm90b3R5cGUuZm9yRWFjaD1mdW5jdGlvbih0LG4pe3ZhciByPXRoaXM7cmV0dXJuIG5ldyhuPUoobikpKGZ1bmN0aW9uKG4sZSl7dmFyIG87bz1yLnN1YnNjcmliZShmdW5jdGlvbihuKXt0cnl7dChuKX1jYXRjaCh0KXtlKHQpLG8mJm8udW5zdWJzY3JpYmUoKX19LGUsbil9KX0sdC5wcm90b3R5cGUuX3N1YnNjcmliZT1mdW5jdGlvbih0KXt2YXIgbj10aGlzLnNvdXJjZTtyZXR1cm4gbiYmbi5zdWJzY3JpYmUodCl9LHQucHJvdG90eXBlW0JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9LHQucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24oKXtmb3IodmFyIHQ9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuXT1hcmd1bWVudHNbbl07cmV0dXJuIDA9PT10Lmxlbmd0aD90aGlzOlUodCkodGhpcyl9LHQucHJvdG90eXBlLnRvUHJvbWlzZT1mdW5jdGlvbih0KXt2YXIgbj10aGlzO3JldHVybiBuZXcodD1KKHQpKShmdW5jdGlvbih0LHIpe3ZhciBlO24uc3Vic2NyaWJlKGZ1bmN0aW9uKHQpe3JldHVybiBlPXR9LGZ1bmN0aW9uKHQpe3JldHVybiByKHQpfSxmdW5jdGlvbigpe3JldHVybiB0KGUpfSl9KX0sdC5jcmVhdGU9ZnVuY3Rpb24obil7cmV0dXJuIG5ldyB0KG4pfSx0fSgpO2Z1bmN0aW9uIEoodCl7aWYodHx8KHQ9TC5Qcm9taXNlfHxQcm9taXNlKSwhdCl0aHJvdyBuZXcgRXJyb3IoXCJubyBQcm9taXNlIGltcGwgZm91bmRcIik7cmV0dXJuIHR9ZnVuY3Rpb24gSygpe3JldHVybiBFcnJvci5jYWxsKHRoaXMpLHRoaXMubWVzc2FnZT1cIm9iamVjdCB1bnN1YnNjcmliZWRcIix0aGlzLm5hbWU9XCJPYmplY3RVbnN1YnNjcmliZWRFcnJvclwiLHRoaXN9Sy5wcm90b3R5cGU9T2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO3ZhciBXPUssWj1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKG4scil7dmFyIGU9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBlLnN1YmplY3Q9bixlLnN1YnNjcmliZXI9cixlLmNsb3NlZD0hMSxlfXJldHVybiBUKG4sdCksbi5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXtpZighdGhpcy5jbG9zZWQpe3RoaXMuY2xvc2VkPSEwO3ZhciB0PXRoaXMuc3ViamVjdCxuPXQub2JzZXJ2ZXJzO2lmKHRoaXMuc3ViamVjdD1udWxsLG4mJjAhPT1uLmxlbmd0aCYmIXQuaXNTdG9wcGVkJiYhdC5jbG9zZWQpe3ZhciByPW4uaW5kZXhPZih0aGlzLnN1YnNjcmliZXIpOy0xIT09ciYmbi5zcGxpY2UociwxKX19fSxufShIKSxRPWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4obil7dmFyIHI9dC5jYWxsKHRoaXMsbil8fHRoaXM7cmV0dXJuIHIuZGVzdGluYXRpb249bixyfXJldHVybiBUKG4sdCksbn0oViksWD1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKCl7dmFyIG49dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBuLm9ic2VydmVycz1bXSxuLmNsb3NlZD0hMSxuLmlzU3RvcHBlZD0hMSxuLmhhc0Vycm9yPSExLG4udGhyb3duRXJyb3I9bnVsbCxufXJldHVybiBUKG4sdCksbi5wcm90b3R5cGVbRF09ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFEodGhpcyl9LG4ucHJvdG90eXBlLmxpZnQ9ZnVuY3Rpb24odCl7dmFyIG49bmV3IHR0KHRoaXMsdGhpcyk7cmV0dXJuIG4ub3BlcmF0b3I9dCxufSxuLnByb3RvdHlwZS5uZXh0PWZ1bmN0aW9uKHQpe2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBXO2lmKCF0aGlzLmlzU3RvcHBlZClmb3IodmFyIG49dGhpcy5vYnNlcnZlcnMscj1uLmxlbmd0aCxlPW4uc2xpY2UoKSxvPTA7bzxyO28rKyllW29dLm5leHQodCl9LG4ucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKHQpe2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBXO3RoaXMuaGFzRXJyb3I9ITAsdGhpcy50aHJvd25FcnJvcj10LHRoaXMuaXNTdG9wcGVkPSEwO2Zvcih2YXIgbj10aGlzLm9ic2VydmVycyxyPW4ubGVuZ3RoLGU9bi5zbGljZSgpLG89MDtvPHI7bysrKWVbb10uZXJyb3IodCk7dGhpcy5vYnNlcnZlcnMubGVuZ3RoPTB9LG4ucHJvdG90eXBlLmNvbXBsZXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IFc7dGhpcy5pc1N0b3BwZWQ9ITA7Zm9yKHZhciB0PXRoaXMub2JzZXJ2ZXJzLG49dC5sZW5ndGgscj10LnNsaWNlKCksZT0wO2U8bjtlKyspcltlXS5jb21wbGV0ZSgpO3RoaXMub2JzZXJ2ZXJzLmxlbmd0aD0wfSxuLnByb3RvdHlwZS51bnN1YnNjcmliZT1mdW5jdGlvbigpe3RoaXMuaXNTdG9wcGVkPSEwLHRoaXMuY2xvc2VkPSEwLHRoaXMub2JzZXJ2ZXJzPW51bGx9LG4ucHJvdG90eXBlLl90cnlTdWJzY3JpYmU9ZnVuY3Rpb24obil7aWYodGhpcy5jbG9zZWQpdGhyb3cgbmV3IFc7cmV0dXJuIHQucHJvdG90eXBlLl90cnlTdWJzY3JpYmUuY2FsbCh0aGlzLG4pfSxuLnByb3RvdHlwZS5fc3Vic2NyaWJlPWZ1bmN0aW9uKHQpe2lmKHRoaXMuY2xvc2VkKXRocm93IG5ldyBXO3JldHVybiB0aGlzLmhhc0Vycm9yPyh0LmVycm9yKHRoaXMudGhyb3duRXJyb3IpLEguRU1QVFkpOnRoaXMuaXNTdG9wcGVkPyh0LmNvbXBsZXRlKCksSC5FTVBUWSk6KHRoaXMub2JzZXJ2ZXJzLnB1c2godCksbmV3IFoodGhpcyx0KSl9LG4ucHJvdG90eXBlLmFzT2JzZXJ2YWJsZT1mdW5jdGlvbigpe3ZhciB0PW5ldyBxO3JldHVybiB0LnNvdXJjZT10aGlzLHR9LG4uY3JlYXRlPWZ1bmN0aW9uKHQsbil7cmV0dXJuIG5ldyB0dCh0LG4pfSxufShxKSx0dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKG4scil7dmFyIGU9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiBlLmRlc3RpbmF0aW9uPW4sZS5zb3VyY2U9cixlfXJldHVybiBUKG4sdCksbi5wcm90b3R5cGUubmV4dD1mdW5jdGlvbih0KXt2YXIgbj10aGlzLmRlc3RpbmF0aW9uO24mJm4ubmV4dCYmbi5uZXh0KHQpfSxuLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbih0KXt2YXIgbj10aGlzLmRlc3RpbmF0aW9uO24mJm4uZXJyb3ImJnRoaXMuZGVzdGluYXRpb24uZXJyb3IodCl9LG4ucHJvdG90eXBlLmNvbXBsZXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5kZXN0aW5hdGlvbjt0JiZ0LmNvbXBsZXRlJiZ0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9LG4ucHJvdG90eXBlLl9zdWJzY3JpYmU9ZnVuY3Rpb24odCl7cmV0dXJuIHRoaXMuc291cmNlP3RoaXMuc291cmNlLnN1YnNjcmliZSh0KTpILkVNUFRZfSxufShYKTtmdW5jdGlvbiBudCh0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdC5zY2hlZHVsZX12YXIgcnQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKG4pe2Zvcih2YXIgcj0wLGU9dC5sZW5ndGg7cjxlJiYhbi5jbG9zZWQ7cisrKW4ubmV4dCh0W3JdKTtuLmNsb3NlZHx8bi5jb21wbGV0ZSgpfX07ZnVuY3Rpb24gZXQodCxuKXtyZXR1cm4gbmV3IHEobj9mdW5jdGlvbihyKXt2YXIgZT1uZXcgSCxvPTA7cmV0dXJuIGUuYWRkKG4uc2NoZWR1bGUoZnVuY3Rpb24oKXtvIT09dC5sZW5ndGg/KHIubmV4dCh0W28rK10pLHIuY2xvc2VkfHxlLmFkZCh0aGlzLnNjaGVkdWxlKCkpKTpyLmNvbXBsZXRlKCl9KSksZX06cnQodCkpfXZhciBvdD1uZXcgcShmdW5jdGlvbih0KXtyZXR1cm4gdC5jb21wbGV0ZSgpfSk7ZnVuY3Rpb24gaXQodCl7cmV0dXJuIHQ/ZnVuY3Rpb24odCl7cmV0dXJuIG5ldyBxKGZ1bmN0aW9uKG4pe3JldHVybiB0LnNjaGVkdWxlKGZ1bmN0aW9uKCl7cmV0dXJuIG4uY29tcGxldGUoKX0pfSl9KHQpOm90fWZ1bmN0aW9uIHV0KCl7Zm9yKHZhciB0PVtdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbl09YXJndW1lbnRzW25dO3ZhciByLGUsbz10W3QubGVuZ3RoLTFdO3N3aXRjaChudChvKT90LnBvcCgpOm89dm9pZCAwLHQubGVuZ3RoKXtjYXNlIDA6cmV0dXJuIGl0KG8pO2Nhc2UgMTpyZXR1cm4gbz9ldCh0LG8pOihyPXRbMF0sKGU9bmV3IHEoZnVuY3Rpb24odCl7dC5uZXh0KHIpLHQuY29tcGxldGUoKX0pKS5faXNTY2FsYXI9ITAsZS52YWx1ZT1yLGUpO2RlZmF1bHQ6cmV0dXJuIGV0KHQsbyl9fXZhciBzdD1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKG4scixlKXt2YXIgbz10LmNhbGwodGhpcyl8fHRoaXM7cmV0dXJuIG8ucGFyZW50PW4sby5vdXRlclZhbHVlPXIsby5vdXRlckluZGV4PWUsby5pbmRleD0wLG99cmV0dXJuIFQobix0KSxuLnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbih0KXt0aGlzLnBhcmVudC5ub3RpZnlOZXh0KHRoaXMub3V0ZXJWYWx1ZSx0LHRoaXMub3V0ZXJJbmRleCx0aGlzLmluZGV4KyssdGhpcyl9LG4ucHJvdG90eXBlLl9lcnJvcj1mdW5jdGlvbih0KXt0aGlzLnBhcmVudC5ub3RpZnlFcnJvcih0LHRoaXMpLHRoaXMudW5zdWJzY3JpYmUoKX0sbi5wcm90b3R5cGUuX2NvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5wYXJlbnQubm90aWZ5Q29tcGxldGUodGhpcyksdGhpcy51bnN1YnNjcmliZSgpfSxufShWKSxjdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24obil7cmV0dXJuIHQudGhlbihmdW5jdGlvbih0KXtuLmNsb3NlZHx8KG4ubmV4dCh0KSxuLmNvbXBsZXRlKCkpfSxmdW5jdGlvbih0KXtyZXR1cm4gbi5lcnJvcih0KX0pLnRoZW4obnVsbCxOKSxufX07ZnVuY3Rpb24gYXQoKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5pdGVyYXRvcj9TeW1ib2wuaXRlcmF0b3I6XCJAQGl0ZXJhdG9yXCJ9dmFyIGZ0PWF0KCksbHQ9ZnVuY3Rpb24odCl7cmV0dXJuIGZ1bmN0aW9uKG4pe2Zvcih2YXIgcj10W2Z0XSgpOzspe3ZhciBlPXIubmV4dCgpO2lmKGUuZG9uZSl7bi5jb21wbGV0ZSgpO2JyZWFrfWlmKG4ubmV4dChlLnZhbHVlKSxuLmNsb3NlZClicmVha31yZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiByLnJldHVybiYmbi5hZGQoZnVuY3Rpb24oKXtyLnJldHVybiYmci5yZXR1cm4oKX0pLG59fSxwdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24obil7dmFyIHI9dFtCXSgpO2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIHIuc3Vic2NyaWJlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJQcm92aWRlZCBvYmplY3QgZG9lcyBub3QgY29ycmVjdGx5IGltcGxlbWVudCBTeW1ib2wub2JzZXJ2YWJsZVwiKTtyZXR1cm4gci5zdWJzY3JpYmUobil9fSxodD1mdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJudW1iZXJcIj09dHlwZW9mIHQubGVuZ3RoJiZcImZ1bmN0aW9uXCIhPXR5cGVvZiB0fTtmdW5jdGlvbiBkdCh0KXtyZXR1cm4hIXQmJlwiZnVuY3Rpb25cIiE9dHlwZW9mIHQuc3Vic2NyaWJlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnRoZW59dmFyIHl0PWZ1bmN0aW9uKHQpe2lmKHQgaW5zdGFuY2VvZiBxKXJldHVybiBmdW5jdGlvbihuKXtyZXR1cm4gdC5faXNTY2FsYXI/KG4ubmV4dCh0LnZhbHVlKSx2b2lkIG4uY29tcGxldGUoKSk6dC5zdWJzY3JpYmUobil9O2lmKHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHRbQl0pcmV0dXJuIHB0KHQpO2lmKGh0KHQpKXJldHVybiBydCh0KTtpZihkdCh0KSlyZXR1cm4gY3QodCk7aWYodCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdFtmdF0pcmV0dXJuIGx0KHQpO3ZhciBuPUYodCk/XCJhbiBpbnZhbGlkIG9iamVjdFwiOlwiJ1wiK3QrXCInXCI7dGhyb3cgbmV3IFR5cGVFcnJvcihcIllvdSBwcm92aWRlZCBcIituK1wiIHdoZXJlIGEgc3RyZWFtIHdhcyBleHBlY3RlZC4gWW91IGNhbiBwcm92aWRlIGFuIE9ic2VydmFibGUsIFByb21pc2UsIEFycmF5LCBvciBJdGVyYWJsZS5cIil9O2Z1bmN0aW9uIGJ0KHQsbixyLGUsbyl7aWYodm9pZCAwPT09byYmKG89bmV3IHN0KHQscixlKSksIW8uY2xvc2VkKXJldHVybiB5dChuKShvKX12YXIgdnQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbigpe3JldHVybiBudWxsIT09dCYmdC5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXN9cmV0dXJuIFQobix0KSxuLnByb3RvdHlwZS5ub3RpZnlOZXh0PWZ1bmN0aW9uKHQsbixyLGUsbyl7dGhpcy5kZXN0aW5hdGlvbi5uZXh0KG4pfSxuLnByb3RvdHlwZS5ub3RpZnlFcnJvcj1mdW5jdGlvbih0LG4pe3RoaXMuZGVzdGluYXRpb24uZXJyb3IodCl9LG4ucHJvdG90eXBlLm5vdGlmeUNvbXBsZXRlPWZ1bmN0aW9uKHQpe3RoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX0sbn0oVik7ZnVuY3Rpb24gbXQodCxuKXtyZXR1cm4gZnVuY3Rpb24ocil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiYXJndW1lbnQgaXMgbm90IGEgZnVuY3Rpb24uIEFyZSB5b3UgbG9va2luZyBmb3IgYG1hcFRvKClgP1wiKTtyZXR1cm4gci5saWZ0KG5ldyBndCh0LG4pKX19dmFyIGd0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LG4pe3RoaXMucHJvamVjdD10LHRoaXMudGhpc0FyZz1ufXJldHVybiB0LnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKHQsbil7cmV0dXJuIG4uc3Vic2NyaWJlKG5ldyB3dCh0LHRoaXMucHJvamVjdCx0aGlzLnRoaXNBcmcpKX0sdH0oKSx3dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKG4scixlKXt2YXIgbz10LmNhbGwodGhpcyxuKXx8dGhpcztyZXR1cm4gby5wcm9qZWN0PXIsby5jb3VudD0wLG8udGhpc0FyZz1lfHxvLG99cmV0dXJuIFQobix0KSxuLnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbih0KXt2YXIgbjt0cnl7bj10aGlzLnByb2plY3QuY2FsbCh0aGlzLnRoaXNBcmcsdCx0aGlzLmNvdW50KyspfWNhdGNoKHQpe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3IodCl9dGhpcy5kZXN0aW5hdGlvbi5uZXh0KG4pfSxufShWKTtmdW5jdGlvbiBfdCh0LG4pe2lmKCFuKXJldHVybiB0IGluc3RhbmNlb2YgcT90Om5ldyBxKHl0KHQpKTtpZihudWxsIT10KXtpZihmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgdFtCXX0odCkpcmV0dXJuIGZ1bmN0aW9uKHQsbil7cmV0dXJuIG5ldyBxKG4/ZnVuY3Rpb24ocil7dmFyIGU9bmV3IEg7cmV0dXJuIGUuYWRkKG4uc2NoZWR1bGUoZnVuY3Rpb24oKXt2YXIgbz10W0JdKCk7ZS5hZGQoby5zdWJzY3JpYmUoe25leHQ6ZnVuY3Rpb24odCl7ZS5hZGQobi5zY2hlZHVsZShmdW5jdGlvbigpe3JldHVybiByLm5leHQodCl9KSl9LGVycm9yOmZ1bmN0aW9uKHQpe2UuYWRkKG4uc2NoZWR1bGUoZnVuY3Rpb24oKXtyZXR1cm4gci5lcnJvcih0KX0pKX0sY29tcGxldGU6ZnVuY3Rpb24oKXtlLmFkZChuLnNjaGVkdWxlKGZ1bmN0aW9uKCl7cmV0dXJuIHIuY29tcGxldGUoKX0pKX19KSl9KSksZX06cHQodCkpfSh0LG4pO2lmKGR0KHQpKXJldHVybiBmdW5jdGlvbih0LG4pe3JldHVybiBuZXcgcShuP2Z1bmN0aW9uKHIpe3ZhciBlPW5ldyBIO3JldHVybiBlLmFkZChuLnNjaGVkdWxlKGZ1bmN0aW9uKCl7cmV0dXJuIHQudGhlbihmdW5jdGlvbih0KXtlLmFkZChuLnNjaGVkdWxlKGZ1bmN0aW9uKCl7ci5uZXh0KHQpLGUuYWRkKG4uc2NoZWR1bGUoZnVuY3Rpb24oKXtyZXR1cm4gci5jb21wbGV0ZSgpfSkpfSkpfSxmdW5jdGlvbih0KXtlLmFkZChuLnNjaGVkdWxlKGZ1bmN0aW9uKCl7cmV0dXJuIHIuZXJyb3IodCl9KSl9KX0pKSxlfTpjdCh0KSl9KHQsbik7aWYoaHQodCkpcmV0dXJuIGV0KHQsbik7aWYoZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHRbZnRdfSh0KXx8XCJzdHJpbmdcIj09dHlwZW9mIHQpcmV0dXJuIGZ1bmN0aW9uKHQsbil7aWYoIXQpdGhyb3cgbmV3IEVycm9yKFwiSXRlcmFibGUgY2Fubm90IGJlIG51bGxcIik7cmV0dXJuIG5ldyBxKG4/ZnVuY3Rpb24ocil7dmFyIGUsbz1uZXcgSDtyZXR1cm4gby5hZGQoZnVuY3Rpb24oKXtlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnJldHVybiYmZS5yZXR1cm4oKX0pLG8uYWRkKG4uc2NoZWR1bGUoZnVuY3Rpb24oKXtlPXRbZnRdKCksby5hZGQobi5zY2hlZHVsZShmdW5jdGlvbigpe2lmKCFyLmNsb3NlZCl7dmFyIHQsbjt0cnl7dmFyIG89ZS5uZXh0KCk7dD1vLnZhbHVlLG49by5kb25lfWNhdGNoKHQpe3JldHVybiB2b2lkIHIuZXJyb3IodCl9bj9yLmNvbXBsZXRlKCk6KHIubmV4dCh0KSx0aGlzLnNjaGVkdWxlKCkpfX0pKX0pKSxvfTpsdCh0KSl9KHQsbil9dGhyb3cgbmV3IFR5cGVFcnJvcigobnVsbCE9PXQmJnR5cGVvZiB0fHx0KStcIiBpcyBub3Qgb2JzZXJ2YWJsZVwiKX12YXIgeHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsbil7dm9pZCAwPT09biYmKG49TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSx0aGlzLnByb2plY3Q9dCx0aGlzLmNvbmN1cnJlbnQ9bn1yZXR1cm4gdC5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbih0LG4pe3JldHVybiBuLnN1YnNjcmliZShuZXcgU3QodCx0aGlzLnByb2plY3QsdGhpcy5jb25jdXJyZW50KSl9LHR9KCksU3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbihuLHIsZSl7dm9pZCAwPT09ZSYmKGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTt2YXIgbz10LmNhbGwodGhpcyxuKXx8dGhpcztyZXR1cm4gby5wcm9qZWN0PXIsby5jb25jdXJyZW50PWUsby5oYXNDb21wbGV0ZWQ9ITEsby5idWZmZXI9W10sby5hY3RpdmU9MCxvLmluZGV4PTAsb31yZXR1cm4gVChuLHQpLG4ucHJvdG90eXBlLl9uZXh0PWZ1bmN0aW9uKHQpe3RoaXMuYWN0aXZlPHRoaXMuY29uY3VycmVudD90aGlzLl90cnlOZXh0KHQpOnRoaXMuYnVmZmVyLnB1c2godCl9LG4ucHJvdG90eXBlLl90cnlOZXh0PWZ1bmN0aW9uKHQpe3ZhciBuLHI9dGhpcy5pbmRleCsrO3RyeXtuPXRoaXMucHJvamVjdCh0LHIpfWNhdGNoKHQpe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3IodCl9dGhpcy5hY3RpdmUrKyx0aGlzLl9pbm5lclN1YihuLHQscil9LG4ucHJvdG90eXBlLl9pbm5lclN1Yj1mdW5jdGlvbih0LG4scil7dmFyIGU9bmV3IHN0KHRoaXMsdm9pZCAwLHZvaWQgMCk7dGhpcy5kZXN0aW5hdGlvbi5hZGQoZSksYnQodGhpcyx0LG4scixlKX0sbi5wcm90b3R5cGUuX2NvbXBsZXRlPWZ1bmN0aW9uKCl7dGhpcy5oYXNDb21wbGV0ZWQ9ITAsMD09PXRoaXMuYWN0aXZlJiYwPT09dGhpcy5idWZmZXIubGVuZ3RoJiZ0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCksdGhpcy51bnN1YnNjcmliZSgpfSxuLnByb3RvdHlwZS5ub3RpZnlOZXh0PWZ1bmN0aW9uKHQsbixyLGUsbyl7dGhpcy5kZXN0aW5hdGlvbi5uZXh0KG4pfSxuLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZT1mdW5jdGlvbih0KXt2YXIgbj10aGlzLmJ1ZmZlcjt0aGlzLnJlbW92ZSh0KSx0aGlzLmFjdGl2ZS0tLG4ubGVuZ3RoPjA/dGhpcy5fbmV4dChuLnNoaWZ0KCkpOjA9PT10aGlzLmFjdGl2ZSYmdGhpcy5oYXNDb21wbGV0ZWQmJnRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKX0sbn0odnQpO2Z1bmN0aW9uIEV0KHQpe3JldHVybiB0fWZ1bmN0aW9uIGp0KHQpe3JldHVybiB2b2lkIDA9PT10JiYodD1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpLGZ1bmN0aW9uIHQobixyLGUpe3JldHVybiB2b2lkIDA9PT1lJiYoZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHI/ZnVuY3Rpb24obyl7cmV0dXJuIG8ucGlwZSh0KGZ1bmN0aW9uKHQsZSl7cmV0dXJuIF90KG4odCxlKSkucGlwZShtdChmdW5jdGlvbihuLG8pe3JldHVybiByKHQsbixlLG8pfSkpfSxlKSl9OihcIm51bWJlclwiPT10eXBlb2YgciYmKGU9ciksZnVuY3Rpb24odCl7cmV0dXJuIHQubGlmdChuZXcgeHQobixlKSl9KX0oRXQsdCl9ZnVuY3Rpb24gT3QoKXtmb3IodmFyIHQ9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuXT1hcmd1bWVudHNbbl07dmFyIHI9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9bnVsbCxvPXRbdC5sZW5ndGgtMV07cmV0dXJuIG50KG8pPyhlPXQucG9wKCksdC5sZW5ndGg+MSYmXCJudW1iZXJcIj09dHlwZW9mIHRbdC5sZW5ndGgtMV0mJihyPXQucG9wKCkpKTpcIm51bWJlclwiPT10eXBlb2YgbyYmKHI9dC5wb3AoKSksbnVsbD09PWUmJjE9PT10Lmxlbmd0aCYmdFswXWluc3RhbmNlb2YgcT90WzBdOmp0KHIpKGV0KHQsZSkpfXZhciBrdD1uZXcgWCxQdD1mdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24obil7a3QubmV4dCh7aW5wdXQ6dCxvdXRwdXQ6bn0pfX0sVHQ9e2luOmZ1bmN0aW9uKHQpe3ZhciBuPXQucGFyc2VkUmVzdWx0LHI9dC5jbWRTZXQsZT10LiR0ZXJtaW5hbDtpZihuKWlmKG4uaXNNdWx0aVJlc3VsdCkhZnVuY3Rpb24odCl7dmFyIG49dC5wYXJzZWRSZXN1bHQscj10LmNtZFNldCxlPXQuJHRlcm1pbmFsLG89bi51c2VySW5wdXQ7a3QubmV4dCh7aW5wdXQ6byxsb2FkaW5nOiEwLG91dHB1dDpcIlwifSksZChuLnBhcnNlZFJlc3VsdHMubWFwKGZ1bmN0aW9uKHQpe3JldHVybiBmdW5jdGlvbihuKXtpZih0LmVycm9ySW5mbyl0aHJvdyB0LmVycm9ySW5mbzt2YXIgbz10LmNvbW1hbmQuaGFuZGxlcnx8dC5jb21tYW5kO3JldHVybiB0LmZyb21QaXBlPW4sbyh0LnBhcmFtc09iaixyLGUsdCl9fSkpLnRoZW4oZnVuY3Rpb24odCl7a3QubmV4dCh7b3V0cHV0OnQsaW5wdXQ6b30pfSkuY2F0Y2goUHQobykpfSh7cGFyc2VkUmVzdWx0Om4sY21kU2V0OnIsJHRlcm1pbmFsOmV9KTtlbHNle3ZhciBvPW4udXNlcklucHV0O2lmKG4uZXJyb3JJbmZvKWt0Lm5leHQoe2lucHV0Om8sb3V0cHV0Om4uZXJyb3JJbmZvfSk7ZWxzZXt2YXIgaT1uLmNvbW1hbmQuaGFuZGxlcnx8bi5jb21tYW5kLHU9XCJcIjt0cnl7dT1pKG4ucGFyYW1zT2JqLHIsZSxuKX1jYXRjaCh0KXtyZXR1cm4gdm9pZCBQdChvKSh0KX1cInN0cmluZ1wiIT10eXBlb2YgdT8oa3QubmV4dCh7aW5wdXQ6byxsb2FkaW5nOiEwLG91dHB1dDpcIlwifSksUHJvbWlzZS5yZXNvbHZlKHUpLnRoZW4oZnVuY3Rpb24odCl7a3QubmV4dCh7b3V0cHV0OnQsaW5wdXQ6b30pfSkuY2F0Y2goUHQobykpKTprdC5uZXh0KHtpbnB1dDpvLG91dHB1dDp1fSl9fWVsc2Uga3QubmV4dChudWxsKX0sb3V0JDprdH07ZnVuY3Rpb24gSXQodCxuKXt2YXIgcj0hMTtyZXR1cm4gYXJndW1lbnRzLmxlbmd0aD49MiYmKHI9ITApLGZ1bmN0aW9uKGUpe3JldHVybiBlLmxpZnQobmV3IEF0KHQsbixyKSl9fXZhciBBdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCxuLHIpe3ZvaWQgMD09PXImJihyPSExKSx0aGlzLmFjY3VtdWxhdG9yPXQsdGhpcy5zZWVkPW4sdGhpcy5oYXNTZWVkPXJ9cmV0dXJuIHQucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24odCxuKXtyZXR1cm4gbi5zdWJzY3JpYmUobmV3IEx0KHQsdGhpcy5hY2N1bXVsYXRvcix0aGlzLnNlZWQsdGhpcy5oYXNTZWVkKSl9LHR9KCksTHQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbihuLHIsZSxvKXt2YXIgaT10LmNhbGwodGhpcyxuKXx8dGhpcztyZXR1cm4gaS5hY2N1bXVsYXRvcj1yLGkuX3NlZWQ9ZSxpLmhhc1NlZWQ9byxpLmluZGV4PTAsaX1yZXR1cm4gVChuLHQpLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShuLnByb3RvdHlwZSxcInNlZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3NlZWR9LHNldDpmdW5jdGlvbih0KXt0aGlzLmhhc1NlZWQ9ITAsdGhpcy5fc2VlZD10fSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLG4ucHJvdG90eXBlLl9uZXh0PWZ1bmN0aW9uKHQpe2lmKHRoaXMuaGFzU2VlZClyZXR1cm4gdGhpcy5fdHJ5TmV4dCh0KTt0aGlzLnNlZWQ9dCx0aGlzLmRlc3RpbmF0aW9uLm5leHQodCl9LG4ucHJvdG90eXBlLl90cnlOZXh0PWZ1bmN0aW9uKHQpe3ZhciBuLHI9dGhpcy5pbmRleCsrO3RyeXtuPXRoaXMuYWNjdW11bGF0b3IodGhpcy5zZWVkLHQscil9Y2F0Y2godCl7dGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KX10aGlzLnNlZWQ9bix0aGlzLmRlc3RpbmF0aW9uLm5leHQobil9LG59KFYpO2Z1bmN0aW9uIE50KCl7Zm9yKHZhciB0PVtdLG49MDtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXRbbl09YXJndW1lbnRzW25dO3JldHVybiBmdW5jdGlvbihuKXt2YXIgcjtcImZ1bmN0aW9uXCI9PXR5cGVvZiB0W3QubGVuZ3RoLTFdJiYocj10LnBvcCgpKTt2YXIgZT10O3JldHVybiBuLmxpZnQobmV3IFJ0KGUscikpfX12YXIgUnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiB0KHQsbil7dGhpcy5vYnNlcnZhYmxlcz10LHRoaXMucHJvamVjdD1ufXJldHVybiB0LnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKHQsbil7cmV0dXJuIG4uc3Vic2NyaWJlKG5ldyBNdCh0LHRoaXMub2JzZXJ2YWJsZXMsdGhpcy5wcm9qZWN0KSl9LHR9KCksTXQ9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbihuLHIsZSl7dmFyIG89dC5jYWxsKHRoaXMsbil8fHRoaXM7by5vYnNlcnZhYmxlcz1yLG8ucHJvamVjdD1lLG8udG9SZXNwb25kPVtdO3ZhciBpPXIubGVuZ3RoO28udmFsdWVzPW5ldyBBcnJheShpKTtmb3IodmFyIHU9MDt1PGk7dSsrKW8udG9SZXNwb25kLnB1c2godSk7Zm9yKHU9MDt1PGk7dSsrKXt2YXIgcz1yW3VdO28uYWRkKGJ0KG8scyxzLHUpKX1yZXR1cm4gb31yZXR1cm4gVChuLHQpLG4ucHJvdG90eXBlLm5vdGlmeU5leHQ9ZnVuY3Rpb24odCxuLHIsZSxvKXt0aGlzLnZhbHVlc1tyXT1uO3ZhciBpPXRoaXMudG9SZXNwb25kO2lmKGkubGVuZ3RoPjApe3ZhciB1PWkuaW5kZXhPZihyKTstMSE9PXUmJmkuc3BsaWNlKHUsMSl9fSxuLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZT1mdW5jdGlvbigpe30sbi5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24odCl7aWYoMD09PXRoaXMudG9SZXNwb25kLmxlbmd0aCl7dmFyIG49W3RdLmNvbmNhdCh0aGlzLnZhbHVlcyk7dGhpcy5wcm9qZWN0P3RoaXMuX3RyeVByb2plY3Qobik6dGhpcy5kZXN0aW5hdGlvbi5uZXh0KG4pfX0sbi5wcm90b3R5cGUuX3RyeVByb2plY3Q9ZnVuY3Rpb24odCl7dmFyIG47dHJ5e249dGhpcy5wcm9qZWN0LmFwcGx5KHRoaXMsdCl9Y2F0Y2godCl7cmV0dXJuIHZvaWQgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KX10aGlzLmRlc3RpbmF0aW9uLm5leHQobil9LG59KHZ0KTtmdW5jdGlvbiBGdCh0LG4pe3JldHVybiBmdW5jdGlvbihyKXtyZXR1cm4gci5saWZ0KG5ldyAkdCh0LG4pKX19dmFyICR0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LG4pe3RoaXMucHJlZGljYXRlPXQsdGhpcy50aGlzQXJnPW59cmV0dXJuIHQucHJvdG90eXBlLmNhbGw9ZnVuY3Rpb24odCxuKXtyZXR1cm4gbi5zdWJzY3JpYmUobmV3IEN0KHQsdGhpcy5wcmVkaWNhdGUsdGhpcy50aGlzQXJnKSl9LHR9KCksQ3Q9ZnVuY3Rpb24odCl7ZnVuY3Rpb24gbihuLHIsZSl7dmFyIG89dC5jYWxsKHRoaXMsbil8fHRoaXM7cmV0dXJuIG8ucHJlZGljYXRlPXIsby50aGlzQXJnPWUsby5jb3VudD0wLG99cmV0dXJuIFQobix0KSxuLnByb3RvdHlwZS5fbmV4dD1mdW5jdGlvbih0KXt2YXIgbjt0cnl7bj10aGlzLnByZWRpY2F0ZS5jYWxsKHRoaXMudGhpc0FyZyx0LHRoaXMuY291bnQrKyl9Y2F0Y2godCl7cmV0dXJuIHZvaWQgdGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KX1uJiZ0aGlzLmRlc3RpbmF0aW9uLm5leHQodCl9LG59KFYpO09iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7ZnVuY3Rpb24gSHQodCxuLHIsZSl7cmV0dXJuIEkocikmJihlPXIscj12b2lkIDApLGU/SHQodCxuLHIpLnBpcGUobXQoZnVuY3Rpb24odCl7cmV0dXJuIE0odCk/ZS5hcHBseSh2b2lkIDAsdCk6ZSh0KX0pKTpuZXcgcShmdW5jdGlvbihlKXshZnVuY3Rpb24gdChuLHIsZSxvLGkpe3ZhciB1O2lmKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmFkZEV2ZW50TGlzdGVuZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQucmVtb3ZlRXZlbnRMaXN0ZW5lcn0obikpe3ZhciBzPW47bi5hZGRFdmVudExpc3RlbmVyKHIsZSxpKSx1PWZ1bmN0aW9uKCl7cmV0dXJuIHMucmVtb3ZlRXZlbnRMaXN0ZW5lcihyLGUsaSl9fWVsc2UgaWYoZnVuY3Rpb24odCl7cmV0dXJuIHQmJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQub24mJlwiZnVuY3Rpb25cIj09dHlwZW9mIHQub2ZmfShuKSl7dmFyIGM9bjtuLm9uKHIsZSksdT1mdW5jdGlvbigpe3JldHVybiBjLm9mZihyLGUpfX1lbHNlIGlmKGZ1bmN0aW9uKHQpe3JldHVybiB0JiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LmFkZExpc3RlbmVyJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0LnJlbW92ZUxpc3RlbmVyfShuKSl7dmFyIGE9bjtuLmFkZExpc3RlbmVyKHIsZSksdT1mdW5jdGlvbigpe3JldHVybiBhLnJlbW92ZUxpc3RlbmVyKHIsZSl9fWVsc2V7aWYoIW58fCFuLmxlbmd0aCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBldmVudCB0YXJnZXRcIik7Zm9yKHZhciBmPTAsbD1uLmxlbmd0aDtmPGw7ZisrKXQobltmXSxyLGUsbyxpKX1vLmFkZCh1KX0odCxuLGZ1bmN0aW9uKHQpe2FyZ3VtZW50cy5sZW5ndGg+MT9lLm5leHQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk6ZS5uZXh0KHQpfSxlLHIpfSl9dmFyIFl0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4obil7dmFyIHI9dC5jYWxsKHRoaXMpfHx0aGlzO3JldHVybiByLl92YWx1ZT1uLHJ9cmV0dXJuIFQobix0KSxPYmplY3QuZGVmaW5lUHJvcGVydHkobi5wcm90b3R5cGUsXCJ2YWx1ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRWYWx1ZSgpfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLG4ucHJvdG90eXBlLl9zdWJzY3JpYmU9ZnVuY3Rpb24obil7dmFyIHI9dC5wcm90b3R5cGUuX3N1YnNjcmliZS5jYWxsKHRoaXMsbik7cmV0dXJuIHImJiFyLmNsb3NlZCYmbi5uZXh0KHRoaXMuX3ZhbHVlKSxyfSxuLnByb3RvdHlwZS5nZXRWYWx1ZT1mdW5jdGlvbigpe2lmKHRoaXMuaGFzRXJyb3IpdGhyb3cgdGhpcy50aHJvd25FcnJvcjtpZih0aGlzLmNsb3NlZCl0aHJvdyBuZXcgVztyZXR1cm4gdGhpcy5fdmFsdWV9LG4ucHJvdG90eXBlLm5leHQ9ZnVuY3Rpb24obil7dC5wcm90b3R5cGUubmV4dC5jYWxsKHRoaXMsdGhpcy5fdmFsdWU9bil9LG59KFgpLER0PXt9O3ZhciBWdD1mdW5jdGlvbigpe2Z1bmN0aW9uIHQodCl7dGhpcy5yZXN1bHRTZWxlY3Rvcj10fXJldHVybiB0LnByb3RvdHlwZS5jYWxsPWZ1bmN0aW9uKHQsbil7cmV0dXJuIG4uc3Vic2NyaWJlKG5ldyB6dCh0LHRoaXMucmVzdWx0U2VsZWN0b3IpKX0sdH0oKSx6dD1mdW5jdGlvbih0KXtmdW5jdGlvbiBuKG4scil7dmFyIGU9dC5jYWxsKHRoaXMsbil8fHRoaXM7cmV0dXJuIGUucmVzdWx0U2VsZWN0b3I9cixlLmFjdGl2ZT0wLGUudmFsdWVzPVtdLGUub2JzZXJ2YWJsZXM9W10sZX1yZXR1cm4gVChuLHQpLG4ucHJvdG90eXBlLl9uZXh0PWZ1bmN0aW9uKHQpe3RoaXMudmFsdWVzLnB1c2goRHQpLHRoaXMub2JzZXJ2YWJsZXMucHVzaCh0KX0sbi5wcm90b3R5cGUuX2NvbXBsZXRlPWZ1bmN0aW9uKCl7dmFyIHQ9dGhpcy5vYnNlcnZhYmxlcyxuPXQubGVuZ3RoO2lmKDA9PT1uKXRoaXMuZGVzdGluYXRpb24uY29tcGxldGUoKTtlbHNle3RoaXMuYWN0aXZlPW4sdGhpcy50b1Jlc3BvbmQ9bjtmb3IodmFyIHI9MDtyPG47cisrKXt2YXIgZT10W3JdO3RoaXMuYWRkKGJ0KHRoaXMsZSxlLHIpKX19fSxuLnByb3RvdHlwZS5ub3RpZnlDb21wbGV0ZT1mdW5jdGlvbih0KXswPT0odGhpcy5hY3RpdmUtPTEpJiZ0aGlzLmRlc3RpbmF0aW9uLmNvbXBsZXRlKCl9LG4ucHJvdG90eXBlLm5vdGlmeU5leHQ9ZnVuY3Rpb24odCxuLHIsZSxvKXt2YXIgaT10aGlzLnZhbHVlcyx1PWlbcl0scz10aGlzLnRvUmVzcG9uZD91PT09RHQ/LS10aGlzLnRvUmVzcG9uZDp0aGlzLnRvUmVzcG9uZDowO2lbcl09biwwPT09cyYmKHRoaXMucmVzdWx0U2VsZWN0b3I/dGhpcy5fdHJ5UmVzdWx0U2VsZWN0b3IoaSk6dGhpcy5kZXN0aW5hdGlvbi5uZXh0KGkuc2xpY2UoKSkpfSxuLnByb3RvdHlwZS5fdHJ5UmVzdWx0U2VsZWN0b3I9ZnVuY3Rpb24odCl7dmFyIG47dHJ5e249dGhpcy5yZXN1bHRTZWxlY3Rvci5hcHBseSh0aGlzLHQpfWNhdGNoKHQpe3JldHVybiB2b2lkIHRoaXMuZGVzdGluYXRpb24uZXJyb3IodCl9dGhpcy5kZXN0aW5hdGlvbi5uZXh0KG4pfSxufSh2dCk7ZnVuY3Rpb24gQnQoKXtmb3IodmFyIHQ9W10sbj0wO248YXJndW1lbnRzLmxlbmd0aDtuKyspdFtuXT1hcmd1bWVudHNbbl07dmFyIHI9dC5sZW5ndGg7aWYoMD09PXIpdGhyb3cgbmV3IEVycm9yKFwibGlzdCBvZiBwcm9wZXJ0aWVzIGNhbm5vdCBiZSBlbXB0eS5cIik7cmV0dXJuIGZ1bmN0aW9uKG4pe3JldHVybiBtdChmdW5jdGlvbih0LG4pe3JldHVybiBmdW5jdGlvbihyKXtmb3IodmFyIGU9cixvPTA7bzxuO28rKyl7dmFyIGk9ZVt0W29dXTtpZih2b2lkIDA9PT1pKXJldHVybjtlPWl9cmV0dXJuIGV9fSh0LHIpKShuKX19dmFyIEd0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gdCh0LG4pe3RoaXMuY29tcGFyZT10LHRoaXMua2V5U2VsZWN0b3I9bn1yZXR1cm4gdC5wcm90b3R5cGUuY2FsbD1mdW5jdGlvbih0LG4pe3JldHVybiBuLnN1YnNjcmliZShuZXcgVXQodCx0aGlzLmNvbXBhcmUsdGhpcy5rZXlTZWxlY3RvcikpfSx0fSgpLFV0PWZ1bmN0aW9uKHQpe2Z1bmN0aW9uIG4obixyLGUpe3ZhciBvPXQuY2FsbCh0aGlzLG4pfHx0aGlzO3JldHVybiBvLmtleVNlbGVjdG9yPWUsby5oYXNLZXk9ITEsXCJmdW5jdGlvblwiPT10eXBlb2YgciYmKG8uY29tcGFyZT1yKSxvfXJldHVybiBUKG4sdCksbi5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbih0LG4pe3JldHVybiB0PT09bn0sbi5wcm90b3R5cGUuX25leHQ9ZnVuY3Rpb24odCl7dmFyIG47dHJ5e3ZhciByPXRoaXMua2V5U2VsZWN0b3I7bj1yP3IodCk6dH1jYXRjaCh0KXtyZXR1cm4gdGhpcy5kZXN0aW5hdGlvbi5lcnJvcih0KX12YXIgZT0hMTtpZih0aGlzLmhhc0tleSl0cnl7ZT0oMCx0aGlzLmNvbXBhcmUpKHRoaXMua2V5LG4pfWNhdGNoKHQpe3JldHVybiB0aGlzLmRlc3RpbmF0aW9uLmVycm9yKHQpfWVsc2UgdGhpcy5oYXNLZXk9ITA7ZXx8KHRoaXMua2V5PW4sdGhpcy5kZXN0aW5hdGlvbi5uZXh0KHQpKX0sbn0oVikscXQ9ZnVuY3Rpb24odCxuKXt2YXIgcj10LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLGU9ci5sZWZ0LG89ci50b3A7bi5zdHlsZS5sZWZ0PVwiXCIuY29uY2F0KGUsXCJweFwiKSxuLnN0eWxlLnRvcD1cIlwiLmNvbmNhdChvLFwicHhcIil9LEp0PWZ1bmN0aW9uKHQsbil7cmV0dXJuIHF0KHQsbiksZnVuY3Rpb24ocil7cXQodCxuKTt2YXIgZT1yLnN0YXJ0IT09ci5lbmQsbz1cIlwiPT09ci5pbnB1dFN0cixpPXIuaW5wdXRTdHIuc3BsaXQoXCJcIikubWFwKGZ1bmN0aW9uKHQpe3JldHVyblwiIFwiPT09dD9cIiZuYnNwO1wiOnR9KTtlJiYhb3x8aS5wdXNoKFwiJm5ic3A7XCIpLHQuaW5uZXJIVE1MPWkubWFwKGZ1bmN0aW9uKHQsbil7cmV0dXJuIGZ1bmN0aW9uKHQpe2Zvcih2YXIgbj1hcmd1bWVudHMubGVuZ3RoLHI9bmV3IEFycmF5KG4+MT9uLTE6MCksZT0xO2U8bjtlKyspcltlLTFdPWFyZ3VtZW50c1tlXTtyZXR1cm4nPHNwYW4gY2xhc3M9XCInLmNvbmNhdChyLmpvaW4oXCIgXCIpLCdcIj4nKS5jb25jYXQodCxcIjwvc3Bhbj5cIil9KHQsKGk9bixvP1wiYmxpbmtcIjplJiZpPj1yLnN0YXJ0JiZpPD1yLmVuZD9cImhpZ2hsaWdodFwiOmk9PT1yLnN0YXJ0P1wiYmxpbmtcIjpcIlwiKSk7dmFyIGl9KS5qb2luKFwiXCIpfX07ZnVuY3Rpb24gS3QodCxuLHIpe3JldHVybiBuIGluIHQ/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQsbix7dmFsdWU6cixlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOnRbbl09cix0fWZ1bmN0aW9uIFd0KHQsbil7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHR9KHQpfHxmdW5jdGlvbih0LG4pe3ZhciByPVtdLGU9ITAsbz0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciB1LHM9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShlPSh1PXMubmV4dCgpKS5kb25lKSYmKHIucHVzaCh1LnZhbHVlKSwhbnx8ci5sZW5ndGghPT1uKTtlPSEwKTt9Y2F0Y2godCl7bz0hMCxpPXR9ZmluYWxseXt0cnl7ZXx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IGl9fXJldHVybiByfSh0LG4pfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpfSgpfXZhciBadD1mdW5jdGlvbih0KXtpZighdCl0aHJvd1wiSW5wdXQgd3JhcHBlciBlbGVtZW50IG1pc3NpbmcuXCI7dmFyIG4scj0oKG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpKS5zdHlsZS5oZWlnaHQ9XCIyMHB4XCIsbi5zdHlsZS5wb3NpdGlvbj1cImZpeGVkXCIsbi5zdHlsZS56SW5kZXg9XCItMVwiLG4uc3R5bGUub3V0bGluZT1cIm5vbmVcIixuLnN0eWxlLmJvcmRlcj1cIm5vbmVcIixuLnN0eWxlLnRvcD1cIjBcIixuLnN0eWxlLmxlZnQ9XCIwXCIsbi5zdHlsZS5vcGFjaXR5PVwiMFwiLHNjcmVlbi53aWR0aDw1MDAmJihuLnN0eWxlLnRyYW5zZm9ybT1cInNjYWxlKDApXCIpLG4uc3R5bGUuY29sb3I9XCJ0cmFuc3BhcmVudFwiLG4uc2V0QXR0cmlidXRlKFwiYXV0b2NvbXBsZXRlXCIsXCJvZmZcIiksbi5vbmJsdXI9ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7bi5mb2N1cygpfSl9LG4pO2RvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQociksci5mb2N1cygpLGZ1bmN0aW9uKHQsbil7di5pbmplY3RDU1MoayksdC5zdHlsZS5mb250RmFtaWx5PWosdC5zdHlsZS5mb250U2l6ZT1PLHQuc3R5bGUud29yZEJyZWFrPVwiYnJlYWstYWxsXCIsSnQodCxuKSh7aW5wdXRTdHI6XCJcIixzdGFydDowLGVuZDowfSl9KHQscik7dmFyIGU9SHQocixcImlucHV0XCIpLG89SHQocixcInNlbGVjdFwiKSxpPUh0KHIsXCJrZXl1cFwiKSx1PW5ldyBZdChcIlwiKTtlLnBpcGUoQnQoXCJ0YXJnZXRcIixcInZhbHVlXCIpKS5zdWJzY3JpYmUoZnVuY3Rpb24odCl7cmV0dXJuIHUubmV4dCh0KX0pO3ZhciBzLGMsYT1pLnBpcGUoRnQoZnVuY3Rpb24odCl7cmV0dXJuIFMuaW5jbHVkZXModC5rZXkpfSkpLGw9aS5waXBlKEZ0KGZ1bmN0aW9uKHQpe3JldHVybiB0LmtleT09PUUuZW50ZXJ9KSxGdChmdW5jdGlvbih0KXtyZXR1cm4hdC50YXJnZXQuZGlzYWJsZWR9KSxOdCh1KSxtdChmdW5jdGlvbih0KXt2YXIgbj1XdCh0LDIpO25bMF07cmV0dXJuIG5bMV19KSxGdChmdW5jdGlvbih0KXtyZXR1cm4hIXR9KSkscD1PdChlLGEsbykucGlwZShtdChmdW5jdGlvbih0KXtyZXR1cm57c3RhcnQ6dC50YXJnZXQuc2VsZWN0aW9uU3RhcnQsZW5kOnQudGFyZ2V0LnNlbGVjdGlvbkVuZH19KSksaD1mdW5jdGlvbigpe2Zvcih2YXIgdD1bXSxuPTA7bjxhcmd1bWVudHMubGVuZ3RoO24rKyl0W25dPWFyZ3VtZW50c1tuXTt2YXIgcj1udWxsLGU9bnVsbDtyZXR1cm4gbnQodFt0Lmxlbmd0aC0xXSkmJihlPXQucG9wKCkpLFwiZnVuY3Rpb25cIj09dHlwZW9mIHRbdC5sZW5ndGgtMV0mJihyPXQucG9wKCkpLDE9PT10Lmxlbmd0aCYmTSh0WzBdKSYmKHQ9dFswXSksZXQodCxlKS5saWZ0KG5ldyBWdChyKSl9KHUscCkucGlwZShtdChmdW5jdGlvbih0KXt2YXIgbj1XdCh0LDIpO3JldHVybiBmdW5jdGlvbih0KXtmb3IodmFyIG49MTtuPGFyZ3VtZW50cy5sZW5ndGg7bisrKXt2YXIgcj1udWxsIT1hcmd1bWVudHNbbl0/YXJndW1lbnRzW25dOnt9LGU9T2JqZWN0LmtleXMocik7XCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyYmKGU9ZS5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhyKS5maWx0ZXIoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iocix0KS5lbnVtZXJhYmxlfSkpKSxlLmZvckVhY2goZnVuY3Rpb24obil7S3QodCxuLHJbbl0pfSl9cmV0dXJuIHR9KHtpbnB1dFN0cjpuWzBdfSxuWzFdKX0pLChzPWZ1bmN0aW9uKHQsbil7cmV0dXJuIEpTT04uc3RyaW5naWZ5KHQpPT09SlNPTi5zdHJpbmdpZnkobil9LGZ1bmN0aW9uKHQpe3JldHVybiB0LmxpZnQobmV3IEd0KHMsYykpfSkpLGQ9SnQodCxyKTtyZXR1cm4gaC5zdWJzY3JpYmUoZCkse2VudGVyJDpsLGlucHV0JDplLGdldCB0YXJnZXQoKXtyZXR1cm4gcn0sc2V0IHZhbHVlKG4pe3IudmFsdWU9bix1Lm5leHQobiksXCJcIj09PW4mJnF0KHQsciksZihyLFNbMF0pfSxzZXQgZGlzYWJsZWQodCl7dmFyIG49ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5ibGlua1wiKTt0PyhyLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsITApLG4uY2xhc3NMaXN0LmFkZChcImRpc2FibGVkXCIpKToobi5jbGFzc0xpc3QucmVtb3ZlKFwiZGlzYWJsZWRcIiksci5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSxyLmZvY3VzKCkpfX19O2Z1bmN0aW9uIFF0KHQpe3JldHVybihRdD1cImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJlwic3ltYm9sXCI9PXR5cGVvZiBTeW1ib2wuaXRlcmF0b3I/ZnVuY3Rpb24odCl7cmV0dXJuIHR5cGVvZiB0fTpmdW5jdGlvbih0KXtyZXR1cm4gdCYmXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiZ0LmNvbnN0cnVjdG9yPT09U3ltYm9sJiZ0IT09U3ltYm9sLnByb3RvdHlwZT9cInN5bWJvbFwiOnR5cGVvZiB0fSkodCl9dmFyIFh0PXAoKSx0bj1mdW5jdGlvbih0KXt2YXIgbixyLGU9dC5pbnB1dCxvPXQub3V0cHV0O2lmKFwic3RyaW5nXCI9PXR5cGVvZiBvKW49bztlbHNlIGlmKFwib2JqZWN0XCI9PT1RdChvKSl0cnl7bj1vLmh0bWx8fEpTT04uc3RyaW5naWZ5KG8pLG8uaHRtbCYmKHI9ITApfWNhdGNoKHQpe3I9ITEsbj1cIkVSUk9SOiDkuI3mlK/mjIHnmoTmmL7npLrnsbvlnotcIn1lbHNlIG49dm9pZCAwPT09bz9cIlwiOlwiRVJST1I6IOS4jeaUr+aMgeeahOaYvuekuuexu+Wei1wiO2lmKG8gaW5zdGFuY2VvZiBFcnJvcil7dmFyIGk9by5tZXNzYWdlLHU9by5zdGFjaztuPVwiXCIuY29uY2F0KGksXCJcXG5cXG5cIikuY29uY2F0KHUpfXZhciBzPXI/bjpcIjxwcmU+XCIuY29uY2F0KG58fFwiXCIsXCI8L3ByZT5cIik7cmV0dXJuJzxkaXYgY2xhc3M9XCJzZXNzaW9uXCI+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0XCI+XFxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicHJvbXB0XCI+JDwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjbWRcIj5cXG4gICAgICAgICAgICAgICAgICAgICcuY29uY2F0KGV8fFwiXCIsJ1xcbiAgICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm91dHB1dFwiPlxcbiAgICAgICAgICAgICAgICAnKS5jb25jYXQocyxcIlxcbiAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgPC9kaXY+XCIpfSxubj1mdW5jdGlvbih0KXt2YXIgbj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2hpc3Qtc2Vzc1wiKSxyPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY3Vyci1zZXNzXCIpLGU9cyh0KSxvPWUmJmUubG9hZGluZztpZih0Lmxlbmd0aDwxKW4uaW5uZXJIVE1MPVwiXCI7ZWxzZXtuLmlubmVySFRNTD10Lm1hcCh0bikuam9pbihcIlwiKTt2YXIgaT1uLnF1ZXJ5U2VsZWN0b3IoXCIuc2Vzc2lvbjpsYXN0LWNoaWxkID4gLm91dHB1dFwiKTtvPyhYdCghMCxpKSxyLnN0eWxlLmRpc3BsYXk9XCJub25lXCIpOihYdCghMSksci5zdHlsZS5kaXNwbGF5PVwiYmxvY2tcIil9fSxybj1mdW5jdGlvbih0KXthKFwiXFxuICAgIC5zZXNzaW9uID4gLmlucHV0IHtsaW5lLWhlaWdodDogMS4yfVxcbiAgICA6Oi13ZWJraXQtc2Nyb2xsYmFyIHtcXG4gICAgICAgIHdpZHRoOiAycHRcXG4gICAgfVxcbiAgICBcXG4gICAgOjotd2Via2l0LXNjcm9sbGJhcjpob3Jpem9udGFsIHtcXG4gICAgICAgIGhlaWdodDogMFxcbiAgICB9XFxuXFxuICAgIDo6LXdlYmtpdC1zY3JvbGxiYXItYnV0dG9uIHtcXG4gICAgICAgIGRpc3BsYXk6IG5vbmVcXG4gICAgfVxcblxcbiAgICA6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcXG4gICAgICAgIGJhY2tncm91bmQ6ICNkMGQwZDBcXG4gICAgfVxcblwiKSx0LmlubmVySFRNTD0nXFxuICAgICAgICA8ZGl2PlxcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJoaXN0LXNlc3NcIj48L2Rpdj4gXFxuICAgICAgICAgICAgPGRpdiBpZD1cImN1cnItc2Vzc1wiPlxcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2Vzc2lvblwiPlxcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0XCI+XFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwcm9tcHRcIj4kPC9zcGFuPlxcbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY21kXCIgaWQ9XCJpbnB1dFwiPjwvc3Bhbj5cXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgICA8L2Rpdj4gXFxuICAgICAgICA8L2Rpdj4nO3ZhciBuPXQuZmlyc3RFbGVtZW50Q2hpbGQscj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2lucHV0XCIpLGU9WnQocik7cmV0dXJuIG4uc3R5bGUuaGVpZ2h0PVwiY2FsYygxMDAlIC0gMTBweClcIixuLnN0eWxlLm92ZXJmbG93PVwiYXV0b1wiLG4uc3R5bGUuZm9udEZhbWlseT1qLG4uc3R5bGUuZm9udFNpemU9TyxuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKHQpe3ZhciBuPWUudGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDsodC5jbGllbnRZPm58fE1hdGguYWJzKHQuY2xpZW50WS1uKTwxNCkmJmUudGFyZ2V0LmZvY3VzKCl9LHtjYXB0dXJlOiExfSkseyR0ZXJtaW5hbDpuLGlucHV0OmV9fTtmdW5jdGlvbiBlbih0KXtyZXR1cm4gZnVuY3Rpb24odCl7aWYoQXJyYXkuaXNBcnJheSh0KSl7Zm9yKHZhciBuPTAscj1uZXcgQXJyYXkodC5sZW5ndGgpO248dC5sZW5ndGg7bisrKXJbbl09dFtuXTtyZXR1cm4gcn19KHQpfHxmdW5jdGlvbih0KXtpZihTeW1ib2wuaXRlcmF0b3IgaW4gT2JqZWN0KHQpfHxcIltvYmplY3QgQXJndW1lbnRzXVwiPT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHQpKXJldHVybiBBcnJheS5mcm9tKHQpfSh0KXx8ZnVuY3Rpb24oKXt0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIHNwcmVhZCBub24taXRlcmFibGUgaW5zdGFuY2VcIil9KCl9dmFyIG9uPVtdLHVuPWZ1bmN0aW9uKCl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOltdLG49YXJndW1lbnRzLmxlbmd0aD4xP2FyZ3VtZW50c1sxXTp2b2lkIDAscj1hcmd1bWVudHMubGVuZ3RoPjI/YXJndW1lbnRzWzJdOnZvaWQgMDtzd2l0Y2gobil7Y2FzZVwiY2xlYXJcIjpyZXR1cm4gb249W10uY29uY2F0KGVuKG9uKSxlbih0KSxbe2lucHV0OlwiY2xlYXJcIixvdXRwdXQ6XCJcIn1dKSxbXTtjYXNlXCJoaXN0b3J5XCI6dmFyIGU9W10uY29uY2F0KGVuKG9uKSxlbih0KSksbz1lLm1hcChmdW5jdGlvbih0LG4pe3JldHVybiBsKFwiIFwiKShuKzEsZS5sZW5ndGgrMSkrXCIuIFwiK3QuaW5wdXR9KS5qb2luKFwiXFxuXCIpO3JldHVybiB0LnB1c2goe2lucHV0OnIsb3V0cHV0Om99KSx0O2RlZmF1bHQ6cmV0dXJuIHR9fTtmdW5jdGlvbiBzbih0LG4scixlLG8saSx1KXt0cnl7dmFyIHM9dFtpXSh1KSxjPXMudmFsdWV9Y2F0Y2godCl7cmV0dXJuIHZvaWQgcih0KX1zLmRvbmU/bihjKTpQcm9taXNlLnJlc29sdmUoYykudGhlbihlLG8pfWZ1bmN0aW9uIGNuKHQsbil7cmV0dXJuIGZ1bmN0aW9uKHQpe2lmKEFycmF5LmlzQXJyYXkodCkpcmV0dXJuIHR9KHQpfHxmdW5jdGlvbih0LG4pe3ZhciByPVtdLGU9ITAsbz0hMSxpPXZvaWQgMDt0cnl7Zm9yKHZhciB1LHM9dFtTeW1ib2wuaXRlcmF0b3JdKCk7IShlPSh1PXMubmV4dCgpKS5kb25lKSYmKHIucHVzaCh1LnZhbHVlKSwhbnx8ci5sZW5ndGghPT1uKTtlPSEwKTt9Y2F0Y2godCl7bz0hMCxpPXR9ZmluYWxseXt0cnl7ZXx8bnVsbD09cy5yZXR1cm58fHMucmV0dXJuKCl9ZmluYWxseXtpZihvKXRocm93IGl9fXJldHVybiByfSh0LG4pfHxmdW5jdGlvbigpe3Rocm93IG5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIGF0dGVtcHQgdG8gZGVzdHJ1Y3R1cmUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlXCIpfSgpfWZ1bmN0aW9uIGFuKHQpe2Zvcih2YXIgbj0xO248YXJndW1lbnRzLmxlbmd0aDtuKyspe3ZhciByPW51bGwhPWFyZ3VtZW50c1tuXT9hcmd1bWVudHNbbl06e30sZT1PYmplY3Qua2V5cyhyKTtcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzJiYoZT1lLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHIpLmZpbHRlcihmdW5jdGlvbih0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihyLHQpLmVudW1lcmFibGV9KSkpLGUuZm9yRWFjaChmdW5jdGlvbihuKXtmbih0LG4scltuXSl9KX1yZXR1cm4gdH1mdW5jdGlvbiBmbih0LG4scil7cmV0dXJuIG4gaW4gdD9PYmplY3QuZGVmaW5lUHJvcGVydHkodCxuLHt2YWx1ZTpyLGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwLHdyaXRhYmxlOiEwfSk6dFtuXT1yLHR9ZnVuY3Rpb24gbG4odCl7aWYoIXQpdGhyb3dcIndyYXBwZXIgZWxlbWVudCBub3QgZm91bmRcIjt2YXIgbj1ybih0KSxyPW4uJHRlcm1pbmFsLGU9bi5pbnB1dCxvPW5ldyBYLGk9dXQoZyksdT1PdChvLGkpLnBpcGUoSXQoZnVuY3Rpb24odCxuKXtyZXR1cm4gYW4oe30sbix0KX0se30pLG10KGZ1bmN0aW9uKHQpe3JldHVybiBhbih7fSx0LGcpfSkpLGM9ZS5lbnRlciQucGlwZShOdCh1KSxtdChmdW5jdGlvbih0KXt2YXIgbj1jbih0LDIpLGU9blswXSxvPW5bMV07cmV0dXJue3BhcnNlZFJlc3VsdDp4KG8pKGUpLGNtZFNldDpvLCR0ZXJtaW5hbDpyfX0pLG10KFR0LmluKSkuc3Vic2NyaWJlKGZ1bmN0aW9uKCl7ZS50YXJnZXQuYmx1cigpfSksYT1UdC5vdXQkLnBpcGUoRnQoZnVuY3Rpb24odCl7cmV0dXJuIHR9KSxJdChmdW5jdGlvbih0LG4pe3ZhciByPW4/bi5pbnB1dC50cmltKCkuc3BsaXQoL1xccysvKVswXTpcIlwiO2lmKG4mJmZ1bmN0aW9uKHQpe3ZhciBuPU9iamVjdC5rZXlzKGcpLmluY2x1ZGVzKHQpO2lmKCFuKXJldHVybiExO3ZhciByPWdbdF0uaGFuZGxlcnx8Z1t0XTt0cnl7cmV0dXJuIG49XCJcIj09PXIoKX1jYXRjaCh0KXtyZXR1cm4hMX19KHIpKXJldHVybiB1bih0JiZ0LnNsaWNlKCkscixuLmlucHV0KTt2YXIgZT10LnNsaWNlKCkucG9wKCk7cmV0dXJuIGUmJmUubG9hZGluZyYmdC5wb3AoKSx0LnB1c2gobiksdH0sW10pKS5zdWJzY3JpYmUoZnVuY3Rpb24odCl7dmFyIG49cyh0KTtubih0KSxoKHIpLGUuZGlzYWJsZWQ9biYmbi5sb2FkaW5nLGUudmFsdWU9XCJcIn0pO2UuaW5wdXQkLnN1YnNjcmliZShmdW5jdGlvbigpe2gocil9KTt2YXIgbD1mdW5jdGlvbigpe3ZhciB0LG49KHQ9cmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gdChuKXtyZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24odCl7Zm9yKDs7KXN3aXRjaCh0LnByZXY9dC5uZXh0KXtjYXNlIDA6cmV0dXJuIGgociksdC5uZXh0PTMsYihuLGZ1bmN0aW9uKHQpe3JldHVybiBlLnZhbHVlPXR9LDUwKTtjYXNlIDM6cmV0dXJuIHQuYWJydXB0KFwicmV0dXJuXCIsbmV3IFByb21pc2UoZnVuY3Rpb24odCxyKXtUdC5vdXQkLnBpcGUoRnQoZnVuY3Rpb24odCl7cmV0dXJuIHR9KSxGdChmdW5jdGlvbih0KXtyZXR1cm4hMCE9PXQubG9hZGluZ30pKS5zdWJzY3JpYmUoZnVuY3Rpb24ocil7ci5pbnB1dD09PW4mJnQoKX0pLGYoZS50YXJnZXQsRS5lbnRlcil9KSk7Y2FzZSA0OmNhc2VcImVuZFwiOnJldHVybiB0LnN0b3AoKX19LHQpfSksZnVuY3Rpb24oKXt2YXIgbj10aGlzLHI9YXJndW1lbnRzO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihlLG8pe3ZhciBpPXQuYXBwbHkobixyKTtmdW5jdGlvbiB1KHQpe3NuKGksZSxvLHUscyxcIm5leHRcIix0KX1mdW5jdGlvbiBzKHQpe3NuKGksZSxvLHUscyxcInRocm93XCIsdCl9dSh2b2lkIDApfSl9KTtyZXR1cm4gZnVuY3Rpb24odCl7cmV0dXJuIG4uYXBwbHkodGhpcyxhcmd1bWVudHMpfX0oKTtyZXR1cm57c2V0IGRpc2FibGVkKHQpe2UuZGlzYWJsZWQ9dH0sc2V0IGNvbW1hbmRzKHQpe28ubmV4dCh0KX0sc2V0IGN1cnJlbnRJbnB1dCh0KXtlLnZhbHVlPXR9LGRlc3Ryb3k6ZnVuY3Rpb24oKXthLnVuc3Vic2NyaWJlKCksYy51bnN1YnNjcmliZSgpLHIucmVtb3ZlKCksZS50YXJnZXQucmVtb3ZlKCl9LGFkZENvbW1hbmRzOmZ1bmN0aW9uKHQpe28ubmV4dCh0KX0saW5wdXQ6ZnVuY3Rpb24odCxuKXtpZihuKXJldHVybiBiKHQsZnVuY3Rpb24odCl7ZS52YWx1ZT10fSk7ZS52YWx1ZT10fSxodW1hbml6ZXJFeGVjOmwsaHVtYW5pemVyRXhlY0NtZEFycjpmdW5jdGlvbih0KXt2YXIgbj10Lm1hcChmdW5jdGlvbih0KXtyZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gbCh0KX19KTtyZXR1cm4gZChuKX0sZXhlYzpmdW5jdGlvbih0KXtlLnZhbHVlPXQsZihlLnRhcmdldCxFLmVudGVyKX19fXIuZChuLFwiZGVmYXVsdFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGxufSl9XSl9KTsiXSwic291cmNlUm9vdCI6IiJ9