(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"0jNN":function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty,o=Array.isArray,i=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),a=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},n=0;n<e.length;++n)void 0!==e[n]&&(r[n]=e[n]);return r};e.exports={arrayToObject:a,assign:function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],n=0;n<t.length;++n)for(var i=t[n],a=i.obj[i.prop],s=Object.keys(a),c=0;c<s.length;++c){var u=s[c],f=a[u];"object"==typeof f&&null!==f&&-1===r.indexOf(f)&&(t.push({obj:a,prop:u}),r.push(f))}return function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(o(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);t.obj[t.prop]=n}}}(t),e},decode:function(e,t,r){var n=e.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(e){return n}},encode:function(e,t,r){if(0===e.length)return e;var n=e;if("symbol"==typeof e?n=Symbol.prototype.toString.call(e):"string"!=typeof e&&(n=String(e)),"iso-8859-1"===r)return escape(n).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var o="",a=0;a<n.length;++a){var s=n.charCodeAt(a);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?o+=n.charAt(a):s<128?o+=i[s]:s<2048?o+=i[192|s>>6]+i[128|63&s]:s<55296||s>=57344?o+=i[224|s>>12]+i[128|s>>6&63]+i[128|63&s]:(a+=1,s=65536+((1023&s)<<10|1023&n.charCodeAt(a)),o+=i[240|s>>18]+i[128|s>>12&63]+i[128|s>>6&63]+i[128|63&s])}return o},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,r,i){if(!r)return t;if("object"!=typeof r){if(o(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(i&&(i.plainObjects||i.allowPrototypes)||!n.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var s=t;return o(t)&&!o(r)&&(s=a(t,i)),o(t)&&o(r)?(r.forEach((function(r,o){if(n.call(t,o)){var a=t[o];a&&"object"==typeof a&&r&&"object"==typeof r?t[o]=e(a,r,i):t.push(r)}else t[o]=r})),t):Object.keys(r).reduce((function(t,o){var a=r[o];return n.call(t,o)?t[o]=e(t[o],a,i):t[o]=a,t}),s)}}},"2SVd":function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},"5oMp":function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},"9rSQ":function(e,t,r){"use strict";var n=r("xTJ+");function o(){this.handlers=[]}o.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},o.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},o.prototype.forEach=function(e){n.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=o},BEtg:function(e,t){
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&null!=e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}},CgaS:function(e,t,r){"use strict";var n=r("JEQr"),o=r("xTJ+"),i=r("9rSQ"),a=r("UnBK");function s(e){this.defaults=e,this.interceptors={request:new i,response:new i}}s.prototype.request=function(e){"string"==typeof e&&(e=o.merge({url:arguments[0]},arguments[1])),(e=o.merge(n,{method:"get"},this.defaults,e)).method=e.method.toLowerCase();var t=[a,void 0],r=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)r=r.then(t.shift(),t.shift());return r},o.forEach(["delete","get","head","options"],(function(e){s.prototype[e]=function(t,r){return this.request(o.merge(r||{},{method:e,url:t}))}})),o.forEach(["post","put","patch"],(function(e){s.prototype[e]=function(t,r,n){return this.request(o.merge(n||{},{method:e,url:t,data:r}))}})),e.exports=s},DfZB:function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},HSsa:function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},JEQr:function(e,t,r){"use strict";(function(t){var n=r("xTJ+"),o=r("yK9s"),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,c={adapter:("undefined"!=typeof XMLHttpRequest?s=r("tQ2B"):void 0!==t&&(s=r("tQ2B")),s),transformRequest:[function(e,t){return o(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300}};c.headers={common:{Accept:"application/json, text/plain, */*"}},n.forEach(["delete","get","head"],(function(e){c.headers[e]={}})),n.forEach(["post","put","patch"],(function(e){c.headers[e]=n.merge(i)})),e.exports=c}).call(this,r("8oxB"))},LYNF:function(e,t,r){"use strict";var n=r("OH9c");e.exports=function(e,t,r,o,i){var a=new Error(e);return n(a,t,r,o,i)}},Lmem:function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},MLWZ:function(e,t,r){"use strict";var n=r("xTJ+");function o(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var i;if(r)i=r(t);else if(n.isURLSearchParams(t))i=t.toString();else{var a=[];n.forEach(t,(function(e,t){null!=e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,(function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(o(t)+"="+o(e))})))})),i=a.join("&")}return i&&(e+=(-1===e.indexOf("?")?"?":"&")+i),e}},OH9c:function(e,t,r){"use strict";e.exports=function(e,t,r,n,o){return e.config=t,r&&(e.code=r),e.request=n,e.response=o,e}},OTTw:function(e,t,r){"use strict";var n=r("xTJ+");e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=o(window.location.href),function(t){var r=n.isString(t)?o(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return!0}},QSc6:function(e,t,r){"use strict";var n=r("0jNN"),o=r("sxOR"),i=Object.prototype.hasOwnProperty,a={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},s=Array.isArray,c=Array.prototype.push,u=function(e,t){c.apply(e,s(t)?t:[t])},f=Date.prototype.toISOString,l=o.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,format:l,formatter:o.formatters[l],indices:!1,serializeDate:function(e){return f.call(e)},skipNulls:!1,strictNullHandling:!1},d=function e(t,r,o,i,a,c,f,l,d,h,y,m,v){var g,b=t;if("function"==typeof f?b=f(r,b):b instanceof Date?b=h(b):"comma"===o&&s(b)&&(b=b.join(",")),null===b){if(i)return c&&!m?c(r,p.encoder,v,"key"):r;b=""}if("string"==typeof(g=b)||"number"==typeof g||"boolean"==typeof g||"symbol"==typeof g||"bigint"==typeof g||n.isBuffer(b))return c?[y(m?r:c(r,p.encoder,v,"key"))+"="+y(c(b,p.encoder,v,"value"))]:[y(r)+"="+y(String(b))];var w,O=[];if(void 0===b)return O;if(s(f))w=f;else{var x=Object.keys(b);w=l?x.sort(l):x}for(var j=0;j<w.length;++j){var S=w[j];a&&null===b[S]||(s(b)?u(O,e(b[S],"function"==typeof o?o(r,S):r,o,i,a,c,f,l,d,h,y,m,v)):u(O,e(b[S],r+(d?"."+S:"["+S+"]"),o,i,a,c,f,l,d,h,y,m,v)))}return O};e.exports=function(e,t){var r,n=e,c=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=o.default;if(void 0!==e.format){if(!i.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=o.formatters[r],a=p.filter;return("function"==typeof e.filter||s(e.filter))&&(a=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:a,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"==typeof c.filter?n=(0,c.filter)("",n):s(c.filter)&&(r=c.filter);var f,l=[];if("object"!=typeof n||null===n)return"";f=t&&t.arrayFormat in a?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var h=a[f];r||(r=Object.keys(n)),c.sort&&r.sort(c.sort);for(var y=0;y<r.length;++y){var m=r[y];c.skipNulls&&null===n[m]||u(l,d(n[m],m,h,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.formatter,c.encodeValuesOnly,c.charset))}var v=l.join(c.delimiter),g=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?g+="utf8=%26%2310003%3B&":g+="utf8=%E2%9C%93&"),v.length>0?g+v:""}},Qyje:function(e,t,r){"use strict";var n=r("QSc6"),o=r("nmq7"),i=r("sxOR");e.exports={formats:i,parse:o,stringify:n}},"Rn+g":function(e,t,r){"use strict";var n=r("LYNF");e.exports=function(e,t,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},UnBK:function(e,t,r){"use strict";var n=r("xTJ+"),o=r("xAGQ"),i=r("Lmem"),a=r("JEQr"),s=r("2SVd"),c=r("5oMp");function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return u(e),e.baseURL&&!s(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=o(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||a.adapter)(e).then((function(t){return u(e),t.data=o(t.data,t.headers,e.transformResponse),t}),(function(t){return i(t)||(u(e),t&&t.response&&(t.response.data=o(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},"V/h/":function(e,t,r){"use strict";(function(e){var r,n,o,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c="undefined"!=typeof Symbol?Symbol("immer-nothing"):(o=!0,(n="immer-nothing")in(r={})?Object.defineProperty(r,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[n]=o,r),u="undefined"!=typeof Symbol?Symbol("immer-state"):"__$immer_state";function f(e){return!!e&&!!e[u]}function l(e){if(!e)return!1;if("object"!==(void 0===e?"undefined":i(e)))return!1;if(Array.isArray(e))return!0;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}var p=Object.assign||function(e,t){for(var r in t)y(t,r)&&(e[r]=t[r]);return e};function d(e){if(Array.isArray(e))return e.slice();var t=void 0===e.__proto__?Object.create(null):{};return p(t,e)}function h(e,t){if(Array.isArray(e))for(var r=0;r<e.length;r++)t(r,e[r],e);else for(var n in e)t(n,e[n],e)}function y(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function m(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function v(e,t,r,n){Array.isArray(e.base)?function(e,t,r,n){for(var o=e.base,i=e.copy,a=e.assigned,s=Math.min(o.length,i.length),c=0;c<s;c++)if(a[c]&&o[c]!==i[c]){var u=t.concat(c);r.push({op:"replace",path:u,value:i[c]}),n.push({op:"replace",path:u,value:o[c]})}if(s<i.length){for(var f=s;f<i.length;f++)r.push({op:"add",path:t.concat(f),value:i[f]});n.push({op:"replace",path:t.concat("length"),value:o.length})}else if(s<o.length){r.push({op:"replace",path:t.concat("length"),value:i.length});for(var l=s;l<o.length;l++)n.push({op:"add",path:t.concat(l),value:o[l]})}}(e,t,r,n):function(e,t,r,n){var o=e.base,i=e.copy;h(e.assigned,(function(e,a){var s=o[e],c=i[e],u=a?e in o?"replace":"add":"remove";if(s!==o||"replace"!==u){var f=t.concat(e);r.push("remove"===u?{op:u,path:f}:{op:u,path:f,value:c}),n.push("add"===u?{op:"remove",path:f}:"remove"===u?{op:"add",path:f,value:s}:{op:"replace",path:f,value:s})}}))}(e,t,r,n)}var g={},b=[],w=function(){return b[b.length-1]};function O(e,t){var r=void 0;if(f(e)){var n=e[u];n.finalizing=!0,r=d(n.draft),n.finalizing=!1}else r=d(e);h(e,(function(e){Object.defineProperty(r,""+e,function(e){return g[e]||(g[e]={configurable:!0,enumerable:!0,get:function(){return function(e,t){P(e);var r=j(e)[t];if(!e.finalizing&&r===e.base[t]&&l(r))return E(e),e.copy[t]=O(r,e);return r}(this[u],e)},set:function(t){!function(e,t,r){if(P(e),e.assigned[t]=!0,!e.modified){if(m(j(e)[t],r))return;S(e),E(e)}e.copy[t]=r}(this[u],e,t)}})}(""+e))}));var o={scope:t?t.scope:w(),modified:!1,finalizing:!1,finalized:!1,assigned:{},parent:t,base:e,draft:r,copy:null,revoke:x,revoked:!1};return function(e,t,r){Object.defineProperty(e,t,{value:r,enumerable:!1,writable:!0})}(r,u,o),o.scope.push(o),r}function x(){this.revoked=!0}function j(e){return e.copy||e.base}function S(e){e.modified||(e.modified=!0,e.parent&&S(e.parent))}function E(e){e.copy||(e.copy=d(e.base))}function P(e){if(!0===e.revoked)throw new Error("Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+JSON.stringify(e.copy||e.base))}function k(e){for(var t=e.base,r=e.draft,n=Object.keys(r),o=n.length-1;o>=0;o--)if(void 0===t[n[o]]&&!y(t,n[o]))return!0;return n.length!==Object.keys(t).length}function C(e){var t=e.draft;if(t.length!==e.base.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!r||r.get)}var A=Object.freeze({scopes:b,currentScope:w,willFinalize:function(e,t,r){var n=w();n.forEach((function(e){return e.finalizing=!0})),void 0!==e&&e!==t||(r&&function e(t){if(!t||"object"!==(void 0===t?"undefined":i(t)))return;var r=t[u];if(!r)return;var n=r.base,o=r.draft,a=r.assigned;if(Array.isArray(t)){if(C(r)){if(S(r),a.length=!0,o.length<n.length)for(var s=o.length;s<n.length;s++)a[s]=!1;else for(var c=n.length;c<o.length;c++)a[c]=!0;for(var f=0;f<o.length;f++)void 0===a[f]&&e(o[f])}}else Object.keys(o).forEach((function(t){void 0!==n[t]||y(n,t)?a[t]||e(o[t]):(a[t]=!0,S(r))})),Object.keys(n).forEach((function(e){void 0!==o[e]||y(o,e)||(a[e]=!1,S(r))}))}(t),function(e){for(var t=e.length-1;t>=0;t--){var r=e[t];!1===r.modified&&(Array.isArray(r.base)?C(r)&&S(r):k(r)&&S(r))}}(n))},createDraft:O}),T=[],N=function(){return T[T.length-1]};function R(e,t){var r={scope:t?t.scope:N(),modified:!1,finalized:!1,assigned:{},parent:t,base:e,draft:null,drafts:{},copy:null,revoke:null},n=Array.isArray(e)?Proxy.revocable([r],D):Proxy.revocable(r,L),o=n.revoke,i=n.proxy;return r.draft=i,r.revoke=o,r.scope.push(r),i}var L={get:function(e,t){if(t===u)return e;var r=e.drafts;if(!e.modified&&y(r,t))return r[t];var n=B(e)[t];if(e.finalized||!l(n))return n;if(e.modified){if(n!==e.base[t])return n;r=e.copy}return r[t]=R(n,e)},has:function(e,t){return t in B(e)},ownKeys:function(e){return Reflect.ownKeys(B(e))},set:function(e,t,r){if(!e.modified){if(r?m(e.base[t],r)||r===e.drafts[t]:m(e.base[t],r)&&t in e.base)return!0;I(e)}return e.assigned[t]=!0,e.copy[t]=r,!0},deleteProperty:function(e,t){(void 0!==e.base[t]||t in e.base)&&(e.assigned[t]=!1,I(e));e.copy&&delete e.copy[t];return!0},getOwnPropertyDescriptor:function(e,t){var r=e.modified?e.copy:y(e.drafts,t)?e.drafts:e.base,n=Reflect.getOwnPropertyDescriptor(r,t);!n||Array.isArray(r)&&"length"===t||(n.configurable=!0);return n},defineProperty:function(){throw new Error("Immer does not support defining properties on draft objects.")},setPrototypeOf:function(){throw new Error("Immer does not support `setPrototypeOf()`.")}},D={};function B(e){return e.copy||e.base}function I(e){e.modified||(e.modified=!0,e.copy=p(d(e.base),e.drafts),e.drafts=null,e.parent&&I(e.parent))}h(L,(function(e,t){D[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),D.deleteProperty=function(e,t){if(isNaN(parseInt(t)))throw new Error("Immer does not support deleting properties from arrays: "+t);return L.deleteProperty.call(this,e[0],t)},D.set=function(e,t,r){if("length"!==t&&isNaN(parseInt(t)))throw new Error("Immer does not support setting non-numeric properties on arrays: "+t);return L.set.call(this,e[0],t,r)};var z=Object.freeze({scopes:T,currentScope:N,willFinalize:function(){},createDraft:R});var U={useProxies:"undefined"!=typeof Proxy&&"undefined"!=typeof Reflect,autoFreeze:void 0===e&&"verifyMinified"===function(){}.name,onAssign:null,onDelete:null,onCopy:null},q=new(function(){function e(t){a(this,e),p(this,U,t),this.setUseProxies(this.useProxies),this.produce=this.produce.bind(this)}return s(e,[{key:"produce",value:function(e,t,r){var n=this;if("function"==typeof e&&"function"!=typeof t){var o=t;return t=e,function(){for(var e=arguments.length,r=Array(e>1?e-1:0),i=1;i<e;i++)r[i-1]=arguments[i];var a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;return n.produce(a,(function(e){var n;return(n=t).call.apply(n,[e,e].concat(r))}))}}if("function"!=typeof t)throw new Error("if first argument is not a function, the second argument to produce should be a function");if(void 0!==r&&"function"!=typeof r)throw new Error("the third argument of a producer should not be set or a function");var i=void 0;if(l(e))if(f(e)){if(void 0===(i=t.call(e,e)))return e}else{this.scopes.push([]);var a=this.createDraft(e);try{i=t.call(a,a),this.willFinalize(i,a,!!r);var s=r&&[],p=r&&[];if(void 0===i||i===a)i=this.finalize(a,[],s,p);else{if(a[u].modified)throw new Error("An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.");l(i)&&(i=this.finalize(i)),r&&(s.push({op:"replace",path:[],value:i}),p.push({op:"replace",path:[],value:e}))}}finally{this.currentScope().forEach((function(e){return e.revoke()})),this.scopes.pop()}r&&r(s,p)}else if(void 0===(i=t(e)))return e;return i===c?void 0:i}},{key:"setAutoFreeze",value:function(e){this.autoFreeze=e}},{key:"setUseProxies",value:function(e){this.useProxies=e,p(this,e?z:A)}},{key:"finalize",value:function(e,t,r,n){var o=e[u];if(!o)return Object.isFrozen(e)?e:this.finalizeTree(e);if(o.scope!==this.currentScope())return e;if(!o.modified)return o.base;if(!o.finalized){if(o.finalized=!0,this.finalizeTree(o.draft,t,r,n),this.onDelete){var i=o.assigned;for(var a in i)i[a]||this.onDelete(o,a)}this.onCopy&&this.onCopy(o),this.autoFreeze&&1===this.scopes.length&&Object.freeze(o.copy),r&&v(o,t,r,n)}return o.copy}},{key:"finalizeTree",value:function(e,t,r,n){var o=this,i=e[u];i&&(e=this.useProxies?i.copy:i.copy=d(i.draft));var a=this.onAssign;return h(e,(function s(c,u,p){var d=!!i&&p===e;if(f(u)){if(p[c]=u=r&&d&&!i.assigned[c]?o.finalize(u,t.concat(c),r,n):o.finalize(u),d&&u===i.base[c])return}else{if(d&&m(u,i.base[c]))return;l(u)&&!Object.isFrozen(u)&&h(u,s)}d&&a&&a(i,c,u)})),e}}]),e}()),F=q.produce;F((function(e,t){for(var r=0;r<t.length;r++){var n=t[r],o=n.path;if(0===o.length&&"replace"===n.op)e=n.value;else{for(var a=e,s=0;s<o.length-1;s++)if(!(a=a[o[s]])||"object"!==(void 0===a?"undefined":i(a)))throw new Error("Cannot apply patch, path doesn't resolve: "+o.join("/"));var c=o[o.length-1];switch(n.op){case"replace":case"add":a[c]=n.value;break;case"remove":if(Array.isArray(a)){if(c!==a.length-1)throw new Error("Only the last index of an array can be removed, index: "+c+", length: "+a.length);a.length-=1}else delete a[c];break;default:throw new Error("Unsupported patch operation: "+n.op)}}}return e}));t.a=F}).call(this,r("8oxB"))},XXAI:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"set",(function(){return D})),r.d(n,"get",(function(){return B})),r.d(n,"remove",(function(){return U})),r.d(n,"list",(function(){return q})),r.d(n,"destroy",(function(){return _})),r.d(n,"withLocalList",(function(){return F}));var o=r("8RZD"),i=r("q1tI"),a=r.n(i),s=r("i8i4"),c=r.n(s),u=r("V/h/");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function d(e,t,r){return t&&p(e.prototype,t),r&&p(e,r),e}function h(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?m(e):t}function y(e){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return function(r){function n(){var e,t;l(this,n);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return b(m(t=h(this,(e=y(n)).call.apply(e,[this].concat(o)))),"state",{component:null}),t}return v(n,r),d(n,[{key:"componentDidMount",value:function(){var t=this;e().then((function(e){t.setState({component:e.default})}))}},{key:"render",value:function(){var e=this.state.component;return e?a.a.createElement(e,this.props):t}}]),n}(i.Component)},O=function(e){var t=e.titles,r=e.activePostIdx,n=e.onTitleClick;return a.a.createElement("ul",null,t.map((function(e,t){var o=r===t;return a.a.createElement("li",{onClick:function(){n(t)},className:"".concat(o?"active":"")},e)})))},x=function(e){var t=e.api,r=e.postListUpdater,n=e.Persistor;return function(e,o){var i=e.error,a=e.success;e.warn;t.update(o.getOption("contentId"),o.doc.getValue()).then((function(e){n.remove(e.id),r((function(t){return t.map((function(t){return t.id===e.id?e:t}))})),a("博文已更新")})).catch((function(){i("博文更新失败")}))}},j=function(e){var t=e.Persistor,r=e.postListUpdater,n=e.api,o=e.active;return function(e,i){var a=e.error,s=e.success,c=(e.warn,i.getOption("contentId"));t.remove(c),r((function(e){return e.filter((function(e){return e.id!==c}))})),n.delete(c).then((function(){o(0),s("博文永久删除")})).catch((function(e){a("博文删除失败")}))}},S=function(e){var t=e.Persistor,r=e.api,n=e.postListUpdater;return function(e,o){var i=e.error,a=e.success,s=(e.warn,o.getOption("newPostTitle")),c=o.getOption("contentId"),u=t.get(c).title,f=o.doc.getValue();s||u?f?r.create(s||u,f).then((function(e){t.remove(c),n((function(t){t[0]=e})),a("博文创建成功")})).catch((function(e){i("博文创建失败")})):i("内容不能为空!"):i("标题不能为空!")}},E=r("1EKS"),P=r.n(E),k=function(e){var t=e.Persistor,r=e.postListUpdater,n=e.active;return function(e,o,i){var a=e.error,s=(e.success,e.warn,i.argString&&i.argString.trim());if(s){o.setOption("newPostTitle",s);var c=P()(Date.now()).slice(16),u={title:s,id:c,postType:"draft",content:""};t.set(c,u),r((function(e){e.unshift(u)}),(function(){n(0)}))}else a("标题不能为空: new &lt;title&gt;")}};function C(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var A=function(e,t){e.api,e.postListUpdater,e.active;var r=e.exit,n=(e.Persistor,[{name:"update",fn:x(e)},{name:"deleteThisPostForever",fn:j(e)},{name:"publish",fn:S(e)},{name:"exit",fn:function(){r()}},{name:"new",fn:k(e)}]);return function(e,t){return t.filter((function(t){var r=t.name;return e.includes(r)}))}([].concat(["new","deleteThisPostForever","exit"],C({draft:["publish"],published:["update"]}[t]||[])),n)};function T(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function N(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function R(e){return function(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var L=new RegExp("^pm-persistor-"),D=function(e,t){localStorage.setItem("pm-persistor-"+e,JSON.stringify(t))},B=function(e){if(e)return JSON.parse(localStorage.getItem("pm-persistor-"+e))},I=function(e){if(e)return JSON.parse(localStorage.getItem(e))},z=function(){return Object.keys(localStorage).filter((function(e){return L.test(e)}))},U=function(e){localStorage.removeItem("pm-persistor-"+e)},q=function(){return z().map(I)},F=function(e){var t=q(),r={};if(e.forEach((function(e){var t=e.id;r[t]=!0})),!e.length)return t;var n=t.filter((function(e){var t=e.id;return!r[t]}));return[].concat(R(n),R(e.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?T(r,!0).forEach((function(t){N(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):T(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({postType:"published"},e)}))))},_=function(){z().forEach((function(e){localStorage.removeItem(e)}))};function J(e){return(J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var K=w((function(){return Promise.all([r.e(5),r.e(10)]).then(r.bind(null,"0BQj"))}),a.a.createElement("div",{style:{width:"calc(50% - 15px)",height:"100%",border:"dotted 1px #000",background:"#f0f0f0"}})),Z=function(e){function t(){var e,r,o,i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var s=arguments.length,c=new Array(s),f=0;f<s;f++)c[f]=arguments[f];return o=this,i=(e=H(t)).call.apply(e,[this].concat(c)),r=!i||"object"!==J(i)&&"function"!=typeof i?$(o):i,M($(r),"state",{activePostIdx:0,postList:r.props.posts}),M($(r),"active",(function(e){r.setState({activePostIdx:e})})),M($(r),"updatePostList",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return null};Array.isArray(e)?r.setState({postList:e}):r.setState((function(t){return{postList:Object(u.a)(t.postList,e)}}),t)})),M($(r),"buildEdtCls",(function(){var e=r.state.postList[r.state.activePostIdx],t=B(e.id)?"changed-file":"normal-file";return e.hasOwnProperty("createdAt")||(t="new-file"),"editor-wrapper "+t})),M($(r),"titleFormatter",(function(e){return"".concat(e.title)})),M($(r),"getEditingPostTitle",(function(){return r.state.postList[r.state.activePostIdx].title})),M($(r),"handleEditorContentChange",(function(e,t){D(e,{title:r.getEditingPostTitle(),id:e,content:t})})),M($(r),"renderTitleList",(function(){return a.a.createElement("div",{className:"side-list-col"},a.a.createElement(O,{titles:r.state.postList.map(r.titleFormatter),onTitleClick:r.active,activePostIdx:r.state.activePostIdx}))})),M($(r),"renderEditor",(function(){var e=r.state.postList[r.state.activePostIdx],t=B(e.id);return a.a.createElement("div",{className:r.buildEdtCls()},a.a.createElement(K,{value:t&&t.content||e.content||"",contentId:e.id,backgroundColor:"#f2f2f2",onSave:r.handleEditorContentChange,exArr:A({api:r.props.api,postListUpdater:r.updatePostList,active:r.active,exit:r.props.exit,Persistor:n},e.postType)}))})),r}var r,o,i;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(t,e),r=t,(o=[{key:"render",value:function(){return a.a.createElement("div",{className:"pane"},this.renderTitleList(),this.renderEditor())}}])&&Q(r.prototype,o),i&&Q(r,i),t}(a.a.PureComponent),X=(r("Zse/"),function(e,t,r){var n=Object(o.a)("#gui");n.classList.add("fullscreen"),c.a.render(a.a.createElement(Z,{posts:e,api:t,exit:r}),n)}),G=r("vDqi"),Y=r.n(G),W=r("p46w"),ee=r("Qyje");var te=class{constructor(e,t,r){if(this.axios=Y.a.create({baseURL:e,paramsSerializer:ee.stringify,...r}),this.storeConfig={cookie:{key:"jwt",options:{path:"/"}},localStorage:{key:"jwt"},...t},this.isBrowser()){let e;this.storeConfig.cookie?e=W.get(this.storeConfig.cookie.key):this.storeConfig.localStorage&&(e=JSON.parse(window.localStorage.getItem(this.storeConfig.localStorage.key))),e&&this.setToken(e,!0)}}async request(e,t,r){try{return(await this.axios.request({method:e,url:t,...r})).data}catch(e){throw e.response?new Error(e.response.data.message):e}}async register(e,t,r){this.clearToken();const n=await this.request("post","/auth/local/register",{data:{email:t,password:r,username:e}});return this.setToken(n.jwt),n}async login(e,t){this.clearToken();const r=await this.request("post","/auth/local",{data:{identifier:e,password:t}});return this.setToken(r.jwt),r}async forgotPassword(e,t){this.clearToken(),await this.request("post","/auth/forgot-password",{data:{email:e,url:t}})}async resetPassword(e,t,r){this.clearToken(),await this.request("post","/auth/reset-password",{data:{code:e,password:t,passwordConfirmation:r}})}getProviderAuthenticationUrl(e){return`${this.axios.defaults.baseURL}/connect/${e}`}async authenticateProvider(e,t){this.clearToken(),this.isBrowser()&&(t=ee.parse(window.location.search,{ignoreQueryPrefix:!0}));const r=await this.request("get",`/auth/${e}/callback`,{params:t});return this.setToken(r.jwt),r}getEntries(e,t){return this.request("get",`/${e}`,{params:t})}getEntryCount(e,t){return this.request("get",`/${e}/count`,{params:t})}getEntry(e,t){return this.request("get",`/${e}/${t}`)}createEntry(e,t){return this.request("post",`/${e}`,{data:t})}updateEntry(e,t,r){return this.request("put",`/${e}/${t}`,{data:r})}deleteEntry(e,t){return this.request("delete",`/${e}/${t}`)}searchFiles(e){return this.request("get",`/upload/search/${decodeURIComponent(e)}`)}getFiles(e){return this.request("get","/upload/files",{params:e})}getFile(e){return this.request("get",`/upload/files/${e}`)}upload(e,t){return this.request("post","/upload",{data:e,...t})}setToken(e,t){this.axios.defaults.headers.common.Authorization="Bearer "+e,this.isBrowser()&&!t&&(this.storeConfig.localStorage&&window.localStorage.setItem(this.storeConfig.localStorage.key,JSON.stringify(e)),this.storeConfig.cookie&&W.set(this.storeConfig.cookie.key,e,this.storeConfig.cookie.options))}clearToken(){delete this.axios.defaults.headers.common.Authorization,this.isBrowser()&&(this.storeConfig.localStorage&&window.localStorage.removeItem(this.storeConfig.localStorage.key),this.storeConfig.cookie&&W.remove(this.storeConfig.cookie.key,this.storeConfig.cookie.options))}isBrowser(){return"undefined"!=typeof window}},re="https://api.zjh.im",ne="posts",oe=function(e){var t=new te(re,{},{headers:{Authorization:"Bearer ".concat(e)}});return{list:function(){return t.getEntries(ne,{_sort:"createdAt:desc",_limit:10})},create:function(e,r){return t.createEntry(ne,{title:e,content:r,date:(new Date).toISOString()})},update:function(e,r){return t.updateEntry(ne,e,{content:r})},delete:function(e){return t.deleteEntry(ne,e)}}};function ie(e,t,r,n,o,i,a){try{var s=e[i](a),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,o)}var ae,se,ce=Object(o.f)("pm","pm [access token]","posts manager for my blog.");t.default={doc:ce,shortopts:"e",handler:(ae=regeneratorRuntime.mark((function e(t,r,n,i){var a,s,u,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=i.restParams,!t.e){e.next=4;break}return c.a.unmountComponentAtNode(Object(o.a)("#gui")),e.abrupt("return","Goodbye");case 4:if(a&&localStorage.setItem("pm-access-token",a),s=localStorage.getItem("pm-access-token")){e.next=9;break}return e.abrupt("return","access token missing!");case 9:if(!s){e.next=15;break}return u=oe(s),e.next=13,u.list();case 13:return f=e.sent,e.abrupt("return",new Promise((function(e,t){try{X(F(f),u,(function(){e(),Object(o.a)("#gui").classList.remove("fullscreen"),setTimeout((function(){Terminal&&Terminal.exec("pm -e")}))}))}catch(e){return"Error: Invalid Access Token. \nAnonymous mode is unsupport right now."}})));case 15:case"end":return e.stop()}}),e)})),se=function(){var e=this,t=arguments;return new Promise((function(r,n){var o=ae.apply(e,t);function i(e){ie(o,r,n,i,a,"next",e)}function a(e){ie(o,r,n,i,a,"throw",e)}i(void 0)}))},function(e,t,r,n){return se.apply(this,arguments)})}},"Zse/":function(e,t,r){},endd:function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},eqyj:function(e,t,r){"use strict";var n=r("xTJ+");e.exports=n.isStandardBrowserEnv()?{write:function(e,t,r,o,i,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(o)&&s.push("path="+o),n.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},"jfS+":function(e,t,r){"use strict";var n=r("endd");function o(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var r=this;e((function(e){r.reason||(r.reason=new n(e),t(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.source=function(){var e;return{token:new o((function(t){e=t})),cancel:e}},e.exports=o},nmq7:function(e,t,r){"use strict";var n=r("0jNN"),o=Object.prototype.hasOwnProperty,i={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:n.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},a=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},s=function(e,t,r){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,i=/(\[[^[\]]*])/g,a=r.depth>0&&/(\[[^[\]]*])/.exec(n),s=a?n.slice(0,a.index):n,c=[];if(s){if(!r.plainObjects&&o.call(Object.prototype,s)&&!r.allowPrototypes)return;c.push(s)}for(var u=0;r.depth>0&&null!==(a=i.exec(n))&&u<r.depth;){if(u+=1,!r.plainObjects&&o.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+n.slice(a.index)+"]"),function(e,t,r){for(var n=t,o=e.length-1;o>=0;--o){var i,a=e[o];if("[]"===a&&r.parseArrays)i=[].concat(n);else{i=r.plainObjects?Object.create(null):{};var s="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,c=parseInt(s,10);r.parseArrays||""!==s?!isNaN(c)&&a!==s&&String(c)===s&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(i=[])[c]=n:i[s]=n:i={0:n}}n=i}return n}(c,t,r)}};e.exports=function(e,t){var r=function(e){if(!e)return i;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?i.charset:e.charset;return{allowDots:void 0===e.allowDots?i.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:i.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:i.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:i.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:i.comma,decoder:"function"==typeof e.decoder?e.decoder:i.decoder,delimiter:"string"==typeof e.delimiter||n.isRegExp(e.delimiter)?e.delimiter:i.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:i.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:i.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:i.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:i.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:i.strictNullHandling}}(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var c="string"==typeof e?function(e,t){var r,s={},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,u=t.parameterLimit===1/0?void 0:t.parameterLimit,f=c.split(t.delimiter,u),l=-1,p=t.charset;if(t.charsetSentinel)for(r=0;r<f.length;++r)0===f[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===f[r]?p="utf-8":"utf8=%26%2310003%3B"===f[r]&&(p="iso-8859-1"),l=r,r=f.length);for(r=0;r<f.length;++r)if(r!==l){var d,h,y=f[r],m=y.indexOf("]="),v=-1===m?y.indexOf("="):m+1;-1===v?(d=t.decoder(y,i.decoder,p,"key"),h=t.strictNullHandling?null:""):(d=t.decoder(y.slice(0,v),i.decoder,p,"key"),h=t.decoder(y.slice(v+1),i.decoder,p,"value")),h&&t.interpretNumericEntities&&"iso-8859-1"===p&&(h=a(h)),h&&t.comma&&h.indexOf(",")>-1&&(h=h.split(",")),o.call(s,d)?s[d]=n.combine(s[d],h):s[d]=h}return s}(e,r):e,u=r.plainObjects?Object.create(null):{},f=Object.keys(c),l=0;l<f.length;++l){var p=f[l],d=s(p,c[p],r);u=n.merge(u,d,r)}return n.compact(u)}},p46w:function(e,t,r){var n,o;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!function(i){if(void 0===(o="function"==typeof(n=i)?n.call(t,r,t,e):n)||(e.exports=o),!0,e.exports=i(),!!0){var a=window.Cookies,s=window.Cookies=i();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function r(n){function o(){}function i(t,r,i){if("undefined"!=typeof document){"number"==typeof(i=e({path:"/"},o.defaults,i)).expires&&(i.expires=new Date(1*new Date+864e5*i.expires)),i.expires=i.expires?i.expires.toUTCString():"";try{var a=JSON.stringify(r);/^[\{\[]/.test(a)&&(r=a)}catch(e){}r=n.write?n.write(r,t):encodeURIComponent(String(r)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var c in i)i[c]&&(s+="; "+c,!0!==i[c]&&(s+="="+i[c].split(";")[0]));return document.cookie=t+"="+r+s}}function a(e,r){if("undefined"!=typeof document){for(var o={},i=document.cookie?document.cookie.split("; "):[],a=0;a<i.length;a++){var s=i[a].split("="),c=s.slice(1).join("=");r||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var u=t(s[0]);if(c=(n.read||n)(c,u)||t(c),r)try{c=JSON.parse(c)}catch(e){}if(o[u]=c,e===u)break}catch(e){}}return e?o[e]:o}}return o.set=i,o.get=function(e){return a(e,!1)},o.getJSON=function(e){return a(e,!0)},o.remove=function(t,r){i(t,"",e(r,{expires:-1}))},o.defaults={},o.withConverter=r,o}((function(){}))}))},sxOR:function(e,t,r){"use strict";var n=String.prototype.replace,o=/%20/g,i=r("0jNN"),a={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports=i.assign({default:a.RFC3986,formatters:{RFC1738:function(e){return n.call(e,o,"+")},RFC3986:function(e){return String(e)}}},a)},tQ2B:function(e,t,r){"use strict";var n=r("xTJ+"),o=r("Rn+g"),i=r("MLWZ"),a=r("w0Vi"),s=r("OTTw"),c=r("LYNF");e.exports=function(e){return new Promise((function(t,u){var f=e.data,l=e.headers;n.isFormData(f)&&delete l["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var d=e.auth.username||"",h=e.auth.password||"";l.Authorization="Basic "+btoa(d+":"+h)}if(p.open(e.method.toUpperCase(),i(e.url,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?a(p.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};o(t,u,n),p=null}},p.onerror=function(){u(c("Network Error",e,null,p)),p=null},p.ontimeout=function(){u(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",p)),p=null},n.isStandardBrowserEnv()){var y=r("eqyj"),m=(e.withCredentials||s(e.url))&&e.xsrfCookieName?y.read(e.xsrfCookieName):void 0;m&&(l[e.xsrfHeaderName]=m)}if("setRequestHeader"in p&&n.forEach(l,(function(e,t){void 0===f&&"content-type"===t.toLowerCase()?delete l[t]:p.setRequestHeader(t,e)})),e.withCredentials&&(p.withCredentials=!0),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),u(e),p=null)})),void 0===f&&(f=null),p.send(f)}))}},vDqi:function(e,t,r){e.exports=r("zuR4")},w0Vi:function(e,t,r){"use strict";var n=r("xTJ+"),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,i,a={};return e?(n.forEach(e.split("\n"),(function(e){if(i=e.indexOf(":"),t=n.trim(e.substr(0,i)).toLowerCase(),r=n.trim(e.substr(i+1)),t){if(a[t]&&o.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}})),a):a}},xAGQ:function(e,t,r){"use strict";var n=r("xTJ+");e.exports=function(e,t,r){return n.forEach(r,(function(r){e=r(e,t)})),e}},"xTJ+":function(e,t,r){"use strict";var n=r("HSsa"),o=r("BEtg"),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function s(e){return null!==e&&"object"==typeof e}function c(e){return"[object Function]"===i.call(e)}function u(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(null,e[o],o,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:o,isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isUndefined:function(e){return void 0===e},isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:u,merge:function e(){var t={};function r(r,n){"object"==typeof t[n]&&"object"==typeof r?t[n]=e(t[n],r):t[n]=r}for(var n=0,o=arguments.length;n<o;n++)u(arguments[n],r);return t},extend:function(e,t,r){return u(t,(function(t,o){e[o]=r&&"function"==typeof t?n(t,r):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}}},yK9s:function(e,t,r){"use strict";var n=r("xTJ+");e.exports=function(e,t){n.forEach(e,(function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])}))}},zuR4:function(e,t,r){"use strict";var n=r("xTJ+"),o=r("HSsa"),i=r("CgaS"),a=r("JEQr");function s(e){var t=new i(e),r=o(i.prototype.request,t);return n.extend(r,i.prototype,t),n.extend(r,t),r}var c=s(a);c.Axios=i,c.create=function(e){return s(n.merge(a,e))},c.Cancel=r("endd"),c.CancelToken=r("jfS+"),c.isCancel=r("Lmem"),c.all=function(e){return Promise.all(e)},c.spread=r("DfZB"),e.exports=c,e.exports.default=c}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXMvbGliL3V0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9pc0Fic29sdXRlVVJMLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb21iaW5lVVJMcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvSW50ZXJjZXB0b3JNYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pcy1idWZmZXIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL0F4aW9zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9zcHJlYWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2JpbmQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9kZWZhdWx0cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvY3JlYXRlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvaXNDYW5jZWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2J1aWxkVVJMLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9lbmhhbmNlRXJyb3IuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXMvbGliL3N0cmluZ2lmeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcXMvbGliL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY29yZS9zZXR0bGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jb3JlL2Rpc3BhdGNoUmVxdWVzdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZXIvZGlzdC9pbW1lci5tb2R1bGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B6aG91amlhaGFvL3BtL2xpYi9tYW5hZ2UtcGFuZS9hc3luYy1pbXBvcnQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B6aG91amlhaGFvL3BtL2xpYi9tYW5hZ2UtcGFuZS9wb3N0LWxpc3QvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B6aG91amlhaGFvL3BtL2xpYi9tYW5hZ2UtcGFuZS9jdXN0b20tZWRpdG9yLWNvbW1hbmRzL2NvbW1hbmRzL3VwZGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHpob3VqaWFoYW8vcG0vbGliL21hbmFnZS1wYW5lL2N1c3RvbS1lZGl0b3ItY29tbWFuZHMvY29tbWFuZHMvZGVsZXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AemhvdWppYWhhby9wbS9saWIvbWFuYWdlLXBhbmUvY3VzdG9tLWVkaXRvci1jb21tYW5kcy9jb21tYW5kcy9jcmVhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B6aG91amlhaGFvL3BtL2xpYi9tYW5hZ2UtcGFuZS9jdXN0b20tZWRpdG9yLWNvbW1hbmRzL2NvbW1hbmRzL25ldy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHpob3VqaWFoYW8vcG0vbGliL21hbmFnZS1wYW5lL2N1c3RvbS1lZGl0b3ItY29tbWFuZHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B6aG91amlhaGFvL3BtL2xpYi9wZXJzaXN0b3IvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL0B6aG91amlhaGFvL3BtL2xpYi9tYW5hZ2UtcGFuZS9wYW5lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AemhvdWppYWhhby9wbS9saWIvbWFuYWdlLXBhbmUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0cmFwaS1zZGstamF2YXNjcmlwdC9idWlsZC9tb2R1bGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3N0cmFwaS1zZGstamF2YXNjcmlwdC9idWlsZC9tb2R1bGUvbGliL3Nkay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvQHpob3VqaWFoYW8vcG0vbGliL2Jsb2ctYXBpL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9AemhvdWppYWhhby9wbS9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9jYW5jZWwvQ2FuY2VsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9jb29raWVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvY2FuY2VsL0NhbmNlbFRva2VuLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xcy9saWIvcGFyc2UuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2pzLWNvb2tpZS9zcmMvanMuY29va2llLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xcy9saWIvZm9ybWF0cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2FkYXB0ZXJzL3hoci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2F4aW9zL2xpYi9oZWxwZXJzL3BhcnNlSGVhZGVycy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL2NvcmUvdHJhbnNmb3JtRGF0YS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXhpb3MvbGliL3V0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9heGlvcy9saWIvYXhpb3MuanMiXSwibmFtZXMiOlsiaGFzIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJpc0FycmF5IiwiQXJyYXkiLCJoZXhUYWJsZSIsImFycmF5IiwiaSIsInB1c2giLCJ0b1N0cmluZyIsInRvVXBwZXJDYXNlIiwiYXJyYXlUb09iamVjdCIsInNvdXJjZSIsIm9wdGlvbnMiLCJvYmoiLCJwbGFpbk9iamVjdHMiLCJjcmVhdGUiLCJsZW5ndGgiLCJtb2R1bGUiLCJleHBvcnRzIiwiYXNzaWduIiwidGFyZ2V0Iiwia2V5cyIsInJlZHVjZSIsImFjYyIsImtleSIsImNvbWJpbmUiLCJhIiwiYiIsImNvbmNhdCIsImNvbXBhY3QiLCJ2YWx1ZSIsInF1ZXVlIiwibyIsInByb3AiLCJyZWZzIiwiaXRlbSIsImoiLCJ2YWwiLCJpbmRleE9mIiwicG9wIiwiY29tcGFjdGVkIiwiY29tcGFjdFF1ZXVlIiwiZGVjb2RlIiwic3RyIiwiZGVjb2RlciIsImNoYXJzZXQiLCJzdHJXaXRob3V0UGx1cyIsInJlcGxhY2UiLCJ1bmVzY2FwZSIsImRlY29kZVVSSUNvbXBvbmVudCIsImUiLCJlbmNvZGUiLCJkZWZhdWx0RW5jb2RlciIsInN0cmluZyIsIlN5bWJvbCIsImNhbGwiLCJTdHJpbmciLCJlc2NhcGUiLCIkMCIsInBhcnNlSW50Iiwic2xpY2UiLCJvdXQiLCJjIiwiY2hhckNvZGVBdCIsImNoYXJBdCIsImlzQnVmZmVyIiwiY29uc3RydWN0b3IiLCJpc1JlZ0V4cCIsIm1lcmdlIiwiYWxsb3dQcm90b3R5cGVzIiwibWVyZ2VUYXJnZXQiLCJmb3JFYWNoIiwidGFyZ2V0SXRlbSIsInVybCIsInRlc3QiLCJiYXNlVVJMIiwicmVsYXRpdmVVUkwiLCJ1dGlscyIsIkludGVyY2VwdG9yTWFuYWdlciIsInRoaXMiLCJoYW5kbGVycyIsInVzZSIsImZ1bGZpbGxlZCIsInJlamVjdGVkIiwiZWplY3QiLCJpZCIsImZuIiwiaCIsImRlZmF1bHRzIiwiZGlzcGF0Y2hSZXF1ZXN0IiwiQXhpb3MiLCJpbnN0YW5jZUNvbmZpZyIsImludGVyY2VwdG9ycyIsInJlcXVlc3QiLCJyZXNwb25zZSIsImNvbmZpZyIsImFyZ3VtZW50cyIsIm1ldGhvZCIsInRvTG93ZXJDYXNlIiwiY2hhaW4iLCJ1bmRlZmluZWQiLCJwcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJpbnRlcmNlcHRvciIsInVuc2hpZnQiLCJ0aGVuIiwic2hpZnQiLCJkYXRhIiwiY2FsbGJhY2siLCJhcnIiLCJhcHBseSIsInRoaXNBcmciLCJhcmdzIiwibm9ybWFsaXplSGVhZGVyTmFtZSIsIkRFRkFVTFRfQ09OVEVOVF9UWVBFIiwic2V0Q29udGVudFR5cGVJZlVuc2V0IiwiaGVhZGVycyIsImlzVW5kZWZpbmVkIiwiYWRhcHRlciIsIlhNTEh0dHBSZXF1ZXN0IiwicHJvY2VzcyIsInRyYW5zZm9ybVJlcXVlc3QiLCJpc0Zvcm1EYXRhIiwiaXNBcnJheUJ1ZmZlciIsImlzU3RyZWFtIiwiaXNGaWxlIiwiaXNCbG9iIiwiaXNBcnJheUJ1ZmZlclZpZXciLCJidWZmZXIiLCJpc1VSTFNlYXJjaFBhcmFtcyIsImlzT2JqZWN0IiwiSlNPTiIsInN0cmluZ2lmeSIsInRyYW5zZm9ybVJlc3BvbnNlIiwicGFyc2UiLCJ0aW1lb3V0IiwieHNyZkNvb2tpZU5hbWUiLCJ4c3JmSGVhZGVyTmFtZSIsIm1heENvbnRlbnRMZW5ndGgiLCJ2YWxpZGF0ZVN0YXR1cyIsInN0YXR1cyIsImNvbW1vbiIsImVuaGFuY2VFcnJvciIsIm1lc3NhZ2UiLCJjb2RlIiwiZXJyb3IiLCJFcnJvciIsIl9fQ0FOQ0VMX18iLCJlbmNvZGVVUklDb21wb25lbnQiLCJwYXJhbXMiLCJwYXJhbXNTZXJpYWxpemVyIiwic2VyaWFsaXplZFBhcmFtcyIsInBhcnRzIiwidiIsImlzRGF0ZSIsInRvSVNPU3RyaW5nIiwiam9pbiIsImlzU3RhbmRhcmRCcm93c2VyRW52Iiwib3JpZ2luVVJMIiwibXNpZSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInVybFBhcnNpbmdOb2RlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwicmVzb2x2ZVVSTCIsImhyZWYiLCJzZXRBdHRyaWJ1dGUiLCJwcm90b2NvbCIsImhvc3QiLCJzZWFyY2giLCJoYXNoIiwiaG9zdG5hbWUiLCJwb3J0IiwicGF0aG5hbWUiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsInJlcXVlc3RVUkwiLCJwYXJzZWQiLCJpc1N0cmluZyIsImZvcm1hdHMiLCJhcnJheVByZWZpeEdlbmVyYXRvcnMiLCJicmFja2V0cyIsInByZWZpeCIsImNvbW1hIiwiaW5kaWNlcyIsInJlcGVhdCIsInB1c2hUb0FycmF5IiwidmFsdWVPckFycmF5IiwidG9JU08iLCJEYXRlIiwiZGVmYXVsdEZvcm1hdCIsImFkZFF1ZXJ5UHJlZml4IiwiYWxsb3dEb3RzIiwiY2hhcnNldFNlbnRpbmVsIiwiZGVsaW1pdGVyIiwiZW5jb2RlciIsImVuY29kZVZhbHVlc09ubHkiLCJmb3JtYXQiLCJmb3JtYXR0ZXIiLCJmb3JtYXR0ZXJzIiwic2VyaWFsaXplRGF0ZSIsImRhdGUiLCJza2lwTnVsbHMiLCJzdHJpY3ROdWxsSGFuZGxpbmciLCJvYmplY3QiLCJnZW5lcmF0ZUFycmF5UHJlZml4IiwiZmlsdGVyIiwic29ydCIsIm9iaktleXMiLCJ2YWx1ZXMiLCJvcHRzIiwiVHlwZUVycm9yIiwibm9ybWFsaXplU3RyaW5naWZ5T3B0aW9ucyIsImFycmF5Rm9ybWF0Iiwiam9pbmVkIiwiY3JlYXRlRXJyb3IiLCJyZWplY3QiLCJ0cmFuc2Zvcm1EYXRhIiwiaXNDYW5jZWwiLCJpc0Fic29sdXRlVVJMIiwiY29tYmluZVVSTHMiLCJ0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkIiwiY2FuY2VsVG9rZW4iLCJ0aHJvd0lmUmVxdWVzdGVkIiwicmVhc29uIiwiX3R5cGVvZiIsIml0ZXJhdG9yIiwiY2xhc3NDYWxsQ2hlY2siLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiY3JlYXRlQ2xhc3MiLCJkZWZpbmVQcm9wZXJ0aWVzIiwicHJvcHMiLCJkZXNjcmlwdG9yIiwiZW51bWVyYWJsZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiZGVmaW5lUHJvcGVydHkiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJOT1RISU5HIiwiRFJBRlRfU1RBVEUiLCJpc0RyYWZ0IiwiaXNEcmFmdGFibGUiLCJwcm90byIsImdldFByb3RvdHlwZU9mIiwic2hhbGxvd0NvcHkiLCJfX3Byb3RvX18iLCJlYWNoIiwiY2IiLCJ0aGluZyIsImlzIiwieCIsInkiLCJnZW5lcmF0ZVBhdGNoZXMiLCJzdGF0ZSIsImJhc2VQYXRoIiwicGF0Y2hlcyIsImludmVyc2VQYXRjaGVzIiwiYmFzZSIsImNvcHkiLCJhc3NpZ25lZCIsIm1pbkxlbmd0aCIsIk1hdGgiLCJtaW4iLCJwYXRoIiwib3AiLCJfaSIsIl9pMiIsImdlbmVyYXRlQXJyYXlQYXRjaGVzIiwiYXNzaWduZWRWYWx1ZSIsIm9yaWdWYWx1ZSIsImdlbmVyYXRlT2JqZWN0UGF0Y2hlcyIsImRlc2NyaXB0b3JzIiwic2NvcGVzIiwiY3VycmVudFNjb3BlIiwiY3JlYXRlRHJhZnQiLCJwYXJlbnQiLCJkcmFmdCIsIl9zdGF0ZSIsImZpbmFsaXppbmciLCJnZXQiLCJhc3NlcnRVbnJldm9rZWQiLCJwcmVwYXJlQ29weSIsIl9nZXQiLCJzZXQiLCJtb2RpZmllZCIsIm1hcmtDaGFuZ2VkIiwiX3NldCIsImNyZWF0ZVByb3BlcnR5UHJveHkiLCJzY29wZSIsImZpbmFsaXplZCIsInJldm9rZSIsInJldm9rZWQiLCJjcmVhdGVIaWRkZW5Qcm9wZXJ0eSIsImhhc09iamVjdENoYW5nZXMiLCJoYXNBcnJheUNoYW5nZXMiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJsZWdhY3lQcm94eSIsImZyZWV6ZSIsIndpbGxGaW5hbGl6ZSIsInJlc3VsdCIsImJhc2VEcmFmdCIsIm5lZWRQYXRjaGVzIiwibWFya0NoYW5nZXNSZWN1cnNpdmVseSIsIm1hcmtDaGFuZ2VzU3dlZXAiLCJzY29wZXMkMSIsImN1cnJlbnRTY29wZSQxIiwiY3JlYXRlRHJhZnQkMSIsImRyYWZ0cyIsIl9yZWYiLCJQcm94eSIsInJldm9jYWJsZSIsImFycmF5VHJhcHMiLCJvYmplY3RUcmFwcyIsInByb3h5Iiwic291cmNlJDEiLCJvd25LZXlzIiwiUmVmbGVjdCIsIm1hcmtDaGFuZ2VkJDEiLCJkZWxldGVQcm9wZXJ0eSIsIm93bmVyIiwic2V0UHJvdG90eXBlT2YiLCJpc05hTiIsIm1vZGVyblByb3h5IiwiY29uZmlnRGVmYXVsdHMiLCJ1c2VQcm94aWVzIiwiYXV0b0ZyZWV6ZSIsIm5hbWUiLCJvbkFzc2lnbiIsIm9uRGVsZXRlIiwib25Db3B5IiwiaW1tZXIiLCJJbW1lciIsInNldFVzZVByb3hpZXMiLCJwcm9kdWNlIiwiYmluZCIsInJlY2lwZSIsInBhdGNoTGlzdGVuZXIiLCJfdGhpcyIsImRlZmF1bHRCYXNlIiwiX2xlbiIsIl9rZXkiLCJfcmVjaXBlIiwiZmluYWxpemUiLCJpc0Zyb3plbiIsImZpbmFsaXplVHJlZSIsInJvb3QiLCJfdGhpczIiLCJmaW5hbGl6ZVByb3BlcnR5IiwiaW5EcmFmdCIsInBhdGNoIiwiX2kzIiwiYXN5bmNDb21wb25lbnQiLCJpbXBvcnRDb21wb25lbnQiLCJsb2FkZXIiLCJjb21wb25lbnQiLCJjbXAiLCJzZXRTdGF0ZSIsIkMiLCJDb21wb25lbnQiLCJ0aXRsZXMiLCJhY3RpdmVQb3N0SWR4Iiwib25UaXRsZUNsaWNrIiwibWFwIiwidGl0bGUiLCJpZHgiLCJpc0FjdGl2ZSIsIm9uQ2xpY2siLCJjbGFzc05hbWUiLCJhcGkiLCJwb3N0TGlzdFVwZGF0ZXIiLCJQZXJzaXN0b3IiLCJjbSIsInN1Y2Nlc3MiLCJ3YXJuIiwidXBkYXRlIiwiZ2V0T3B0aW9uIiwiZG9jIiwiZ2V0VmFsdWUiLCJuZXdQb3N0IiwicmVtb3ZlIiwib2xkUG9zdExpc3QiLCJwIiwiYWN0aXZlIiwicGlkIiwidG1wSWQiLCJ0bXBUaXRsZSIsImNvbnRlbnQiLCJhcmdTdHJpbmciLCJ0cmltIiwic2V0T3B0aW9uIiwibm93IiwicG9zdFR5cGUiLCJidWlsZEVkaXRvckNvbW1hbmRzIiwidG9vbHMiLCJleGl0IiwiY29tbWFuZHMiLCJidWlsZFVwZGF0ZUNtZCIsImJ1aWxkRGVsZXRlQ21kIiwiYnVpbGRDcmVhdGVDbWQiLCJidWlsZE5ld0NtZCIsImNtZE5hbWVBcnIiLCJpbmNsdWRlcyIsInBpY2tDbWQiLCJwdWJsaXNoZWQiLCJLRVlfUkVHX0VYUCIsIlJlZ0V4cCIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJnZXRJdGVtIiwiX2dldFBlcnNpc3Rvckt5ZXMiLCJrIiwicmVtb3ZlSXRlbSIsImxpc3QiLCJ3aXRoTG9jYWxMaXN0IiwibG9jYWxMaXN0IiwiaWRNYXAiLCJuZXdQb3N0cyIsImRlc3Ryb3kiLCJFZGl0b3IiLCJBc3luY0ltcG9ydCIsInN0eWxlIiwid2lkdGgiLCJoZWlnaHQiLCJib3JkZXIiLCJiYWNrZ3JvdW5kIiwiUGFuZSIsInBvc3RMaXN0IiwicG9zdHMiLCJ1cGRhdGVyRm4iLCJjYkZuIiwicHJldlN0YXRlIiwiZWRpdGluZ1Bvc3QiLCJ0eXBlIiwiZ2V0RWRpdGluZ1Bvc3RUaXRsZSIsInRpdGxlRm9ybWF0dGVyIiwibG9jYWxDaGFuZ2VzIiwiYnVpbGRFZHRDbHMiLCJjb250ZW50SWQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJvblNhdmUiLCJoYW5kbGVFZGl0b3JDb250ZW50Q2hhbmdlIiwiZXhBcnIiLCJidWlsZEVkaXRvckV4QXJyIiwidXBkYXRlUG9zdExpc3QiLCJyZW5kZXJUaXRsZUxpc3QiLCJyZW5kZXJFZGl0b3IiLCJSZWFjdCIsIlB1cmVDb21wb25lbnQiLCIkZ3VpIiwiJCIsImNsYXNzTGlzdCIsImFkZCIsIlJlYWN0RE9NIiwicmVuZGVyIiwic3RvcmVDb25maWciLCJyZXF1ZXN0Q29uZmlnIiwiYXhpb3MiLCJjb29raWUiLCJpc0Jyb3dzZXIiLCJleGlzdGluZ1Rva2VuIiwic2V0VG9rZW4iLCJ1c2VybmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJjbGVhclRva2VuIiwiYXV0aGVudGljYXRpb24iLCJqd3QiLCJpZGVudGlmaWVyIiwicGFzc3dvcmRDb25maXJtYXRpb24iLCJwcm92aWRlciIsImlnbm9yZVF1ZXJ5UHJlZml4IiwiY29udGVudFR5cGVQbHVyYWxpemVkIiwiY29udGVudFR5cGUiLCJxdWVyeSIsInRva2VuIiwiY29tZXNGcm9tU3RvcmFnZSIsIkF1dGhvcml6YXRpb24iLCJBUElfQ09ORklHIiwic3RyYXBpIiwiU3RyYXBpIiwiZ2V0RW50cmllcyIsIl9zb3J0IiwiX2xpbWl0IiwiY3JlYXRlRW50cnkiLCJ1cGRhdGVFbnRyeSIsImRlbGV0ZSIsImRlbGV0ZUVudHJ5IiwiZG9jVHBsIiwic2hvcnRvcHRzIiwiaGFuZGxlciIsInBhcmFtc09iaiIsImNtZFNldCIsIiR0ZXJtaW5hbCIsImFjY2Vzc1Rva2VuIiwicmVzdFBhcmFtcyIsInVubW91bnRDb21wb25lbnRBdE5vZGUiLCJwb3N0U0RLIiwicnVuTWFuYWdlUGFuZWwiLCJzZXRUaW1lb3V0IiwiVGVybWluYWwiLCJleGVjIiwiQ2FuY2VsIiwid3JpdGUiLCJleHBpcmVzIiwiZG9tYWluIiwic2VjdXJlIiwiaXNOdW1iZXIiLCJ0b0dNVFN0cmluZyIsInJlYWQiLCJtYXRjaCIsIkNhbmNlbFRva2VuIiwiZXhlY3V0b3IiLCJyZXNvbHZlUHJvbWlzZSIsImNhbmNlbCIsImFycmF5TGltaXQiLCJkZXB0aCIsImludGVycHJldE51bWVyaWNFbnRpdGllcyIsInBhcmFtZXRlckxpbWl0IiwicGFyc2VBcnJheXMiLCJudW1iZXJTdHIiLCJmcm9tQ2hhckNvZGUiLCJwYXJzZUtleXMiLCJnaXZlbktleSIsImNoaWxkIiwic2VnbWVudCIsImluZGV4IiwibGVhZiIsImNsZWFuUm9vdCIsIjAiLCJwYXJzZU9iamVjdCIsIm5vcm1hbGl6ZVBhcnNlT3B0aW9ucyIsInRlbXBPYmoiLCJjbGVhblN0ciIsImxpbWl0IiwiSW5maW5pdHkiLCJzcGxpdCIsInNraXBJbmRleCIsInBhcnQiLCJicmFja2V0RXF1YWxzUG9zIiwicG9zIiwicGFyc2VWYWx1ZXMiLCJuZXdPYmoiLCJmYWN0b3J5IiwiT2xkQ29va2llcyIsIkNvb2tpZXMiLCJub0NvbmZsaWN0IiwiZXh0ZW5kIiwiYXR0cmlidXRlcyIsInMiLCJpbml0IiwiY29udmVydGVyIiwidG9VVENTdHJpbmciLCJzdHJpbmdpZmllZEF0dHJpYnV0ZXMiLCJhdHRyaWJ1dGVOYW1lIiwianNvbiIsImphciIsImNvb2tpZXMiLCJnZXRKU09OIiwid2l0aENvbnZlcnRlciIsInBlcmNlbnRUd2VudGllcyIsInV0aWwiLCJGb3JtYXQiLCJSRkMxNzM4IiwiUkZDMzk4NiIsInNldHRsZSIsImJ1aWxkVVJMIiwicGFyc2VIZWFkZXJzIiwiaXNVUkxTYW1lT3JpZ2luIiwicmVxdWVzdERhdGEiLCJyZXF1ZXN0SGVhZGVycyIsImF1dGgiLCJidG9hIiwib3BlbiIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJyZXNwb25zZVVSTCIsInJlc3BvbnNlSGVhZGVycyIsImdldEFsbFJlc3BvbnNlSGVhZGVycyIsInJlc3BvbnNlVHlwZSIsInJlc3BvbnNlVGV4dCIsInN0YXR1c1RleHQiLCJvbmVycm9yIiwib250aW1lb3V0IiwieHNyZlZhbHVlIiwid2l0aENyZWRlbnRpYWxzIiwic2V0UmVxdWVzdEhlYWRlciIsIm9uRG93bmxvYWRQcm9ncmVzcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJvblVwbG9hZFByb2dyZXNzIiwidXBsb2FkIiwiYWJvcnQiLCJzZW5kIiwiaWdub3JlRHVwbGljYXRlT2YiLCJsaW5lIiwic3Vic3RyIiwiZm5zIiwiaXNGdW5jdGlvbiIsImwiLCJGb3JtRGF0YSIsIkFycmF5QnVmZmVyIiwiaXNWaWV3IiwicGlwZSIsIlVSTFNlYXJjaFBhcmFtcyIsInByb2R1Y3QiLCJhc3NpZ25WYWx1ZSIsIm5vcm1hbGl6ZWROYW1lIiwiY3JlYXRlSW5zdGFuY2UiLCJkZWZhdWx0Q29uZmlnIiwiY29udGV4dCIsImFsbCIsInByb21pc2VzIiwic3ByZWFkIiwiZGVmYXVsdCJdLCJtYXBwaW5ncyI6IjZGQUVBLElBQUlBLEVBQU1DLE9BQU9DLFVBQVVDLGVBQ3ZCQyxFQUFVQyxNQUFNRCxRQUVoQkUsRUFBWSxXQUVaLElBREEsSUFBSUMsRUFBUSxHQUNIQyxFQUFJLEVBQUdBLEVBQUksTUFBT0EsRUFDdkJELEVBQU1FLEtBQUssTUFBUUQsRUFBSSxHQUFLLElBQU0sSUFBTUEsRUFBRUUsU0FBUyxLQUFLQyxlQUc1RCxPQUFPSixFQU5JLEdBNEJYSyxFQUFnQixTQUF1QkMsRUFBUUMsR0FFL0MsSUFEQSxJQUFJQyxFQUFNRCxHQUFXQSxFQUFRRSxhQUFlZixPQUFPZ0IsT0FBTyxNQUFRLEdBQ3pEVCxFQUFJLEVBQUdBLEVBQUlLLEVBQU9LLFNBQVVWLE9BQ1IsSUFBZEssRUFBT0wsS0FDZE8sRUFBSVAsR0FBS0ssRUFBT0wsSUFJeEIsT0FBT08sR0F1TFhJLEVBQU9DLFFBQVUsQ0FDYlIsY0FBZUEsRUFDZlMsT0E5SFMsU0FBNEJDLEVBQVFULEdBQzdDLE9BQU9aLE9BQU9zQixLQUFLVixHQUFRVyxRQUFPLFNBQVVDLEVBQUtDLEdBRTdDLE9BREFELEVBQUlDLEdBQU9iLEVBQU9hLEdBQ1hELElBQ1JILElBMkhISyxRQVBVLFNBQWlCQyxFQUFHQyxHQUM5QixNQUFPLEdBQUdDLE9BQU9GLEVBQUdDLElBT3BCRSxRQTVDVSxTQUFpQkMsR0FJM0IsSUFIQSxJQUFJQyxFQUFRLENBQUMsQ0FBRWxCLElBQUssQ0FBRW1CLEVBQUdGLEdBQVNHLEtBQU0sTUFDcENDLEVBQU8sR0FFRjVCLEVBQUksRUFBR0EsRUFBSXlCLEVBQU1mLFNBQVVWLEVBS2hDLElBSkEsSUFBSTZCLEVBQU9KLEVB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QSxFQUFJSSxRQUFRLE9BQVEsSUFBSUEsUUFBUSxPQUFRLE8sa0NDbEtqRCxJQUFJOEIsRUFBUSxFQUFRLFFBRXBCNUQsRUFBT0MsUUFBVSxTQUE2Qm1HLEVBQVM0ZSxHQUNyRHBoQixFQUFNTixRQUFROEMsR0FBUyxTQUF1QnZGLEVBQU80UyxHQUMvQ0EsSUFBU3VSLEdBQWtCdlIsRUFBS2pVLGdCQUFrQndsQixFQUFleGxCLGdCQUNuRTRHLEVBQVE0ZSxHQUFrQm5rQixTQUNuQnVGLEVBQVFxTixTLGtDQ05yQixJQUFJN1AsRUFBUSxFQUFRLFFBQ2hCcVEsRUFBTyxFQUFRLFFBQ2Z4UCxFQUFRLEVBQVEsUUFDaEJGLEVBQVcsRUFBUSxRQVF2QixTQUFTMGdCLEVBQWVDLEdBQ3RCLElBQUlDLEVBQVUsSUFBSTFnQixFQUFNeWdCLEdBQ3BCN1gsRUFBVzRHLEVBQUt4UCxFQUFNMUYsVUFBVTZGLFFBQVN1Z0IsR0FRN0MsT0FMQXZoQixFQUFNeWQsT0FBT2hVLEVBQVU1SSxFQUFNMUYsVUFBV29tQixHQUd4Q3ZoQixFQUFNeWQsT0FBT2hVLEVBQVU4WCxHQUVoQjlYLEVBSVQsSUFBSXNPLEVBQVFzSixFQUFlMWdCLEdBRzNCb1gsRUFBTWxYLE1BQVFBLEVBR2RrWCxFQUFNN2IsT0FBUyxTQUFnQjRFLEdBQzdCLE9BQU91Z0IsRUFBZXJoQixFQUFNVCxNQUFNb0IsRUFBVUcsS0FJOUNpWCxFQUFNNkMsT0FBUyxFQUFRLFFBQ3ZCN0MsRUFBTXNELFlBQWMsRUFBUSxRQUM1QnRELEVBQU1oUCxTQUFXLEVBQVEsUUFHekJnUCxFQUFNeUosSUFBTSxTQUFhQyxHQUN2QixPQUFPaGdCLFFBQVErZixJQUFJQyxJQUVyQjFKLEVBQU0ySixPQUFTLEVBQVEsUUFFdkJ0bEIsRUFBT0MsUUFBVTBiLEVBR2pCM2IsRUFBT0MsUUFBUXNsQixRQUFVNUoiLCJmaWxlIjoiNC5iNGVkNjkuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xuXG52YXIgaGV4VGFibGUgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcnJheSA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgICAgICAgYXJyYXkucHVzaCgnJScgKyAoKGkgPCAxNiA/ICcwJyA6ICcnKSArIGkudG9TdHJpbmcoMTYpKS50b1VwcGVyQ2FzZSgpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gYXJyYXk7XG59KCkpO1xuXG52YXIgY29tcGFjdFF1ZXVlID0gZnVuY3Rpb24gY29tcGFjdFF1ZXVlKHF1ZXVlKSB7XG4gICAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdmFyIGl0ZW0gPSBxdWV1ZS5wb3AoKTtcbiAgICAgICAgdmFyIG9iaiA9IGl0ZW0ub2JqW2l0ZW0ucHJvcF07XG5cbiAgICAgICAgaWYgKGlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgdmFyIGNvbXBhY3RlZCA9IFtdO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG9iai5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqW2pdICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICAgICAgICBjb21wYWN0ZWQucHVzaChvYmpbal0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaXRlbS5vYmpbaXRlbS5wcm9wXSA9IGNvbXBhY3RlZDtcbiAgICAgICAgfVxuICAgIH1cbn07XG5cbnZhciBhcnJheVRvT2JqZWN0ID0gZnVuY3Rpb24gYXJyYXlUb09iamVjdChzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqID0gb3B0aW9ucyAmJiBvcHRpb25zLnBsYWluT2JqZWN0cyA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7ICsraSkge1xuICAgICAgICBpZiAodHlwZW9mIHNvdXJjZVtpXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIG9ialtpXSA9IHNvdXJjZVtpXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBvYmo7XG59O1xuXG52YXIgbWVyZ2UgPSBmdW5jdGlvbiBtZXJnZSh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucykge1xuICAgIGlmICghc291cmNlKSB7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChpc0FycmF5KHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRhcmdldC5wdXNoKHNvdXJjZSk7XG4gICAgICAgIH0gZWxzZSBpZiAodGFyZ2V0ICYmIHR5cGVvZiB0YXJnZXQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAoKG9wdGlvbnMgJiYgKG9wdGlvbnMucGxhaW5PYmplY3RzIHx8IG9wdGlvbnMuYWxsb3dQcm90b3R5cGVzKSkgfHwgIWhhcy5jYWxsKE9iamVjdC5wcm90b3R5cGUsIHNvdXJjZSkpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRbc291cmNlXSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gW3RhcmdldCwgc291cmNlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG4gICAgaWYgKCF0YXJnZXQgfHwgdHlwZW9mIHRhcmdldCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIFt0YXJnZXRdLmNvbmNhdChzb3VyY2UpO1xuICAgIH1cblxuICAgIHZhciBtZXJnZVRhcmdldCA9IHRhcmdldDtcbiAgICBpZiAoaXNBcnJheSh0YXJnZXQpICYmICFpc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgbWVyZ2VUYXJnZXQgPSBhcnJheVRvT2JqZWN0KHRhcmdldCwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgaWYgKGlzQXJyYXkodGFyZ2V0KSAmJiBpc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgc291cmNlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgICAgIGlmIChoYXMuY2FsbCh0YXJnZXQsIGkpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRhcmdldEl0ZW0gPSB0YXJnZXRbaV07XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldEl0ZW0gJiYgdHlwZW9mIHRhcmdldEl0ZW0gPT09ICdvYmplY3QnICYmIGl0ZW0gJiYgdHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtpXSA9IG1lcmdlKHRhcmdldEl0ZW0sIGl0ZW0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldC5wdXNoKGl0ZW0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W2ldID0gaXRlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHNvdXJjZSkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGtleSkge1xuICAgICAgICB2YXIgdmFsdWUgPSBzb3VyY2Vba2V5XTtcblxuICAgICAgICBpZiAoaGFzLmNhbGwoYWNjLCBrZXkpKSB7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IG1lcmdlKGFjY1trZXldLCB2YWx1ZSwgb3B0aW9ucyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhY2Nba2V5XSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgbWVyZ2VUYXJnZXQpO1xufTtcblxudmFyIGFzc2lnbiA9IGZ1bmN0aW9uIGFzc2lnblNpbmdsZVNvdXJjZSh0YXJnZXQsIHNvdXJjZSkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhzb3VyY2UpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgICAgYWNjW2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCB0YXJnZXQpO1xufTtcblxudmFyIGRlY29kZSA9IGZ1bmN0aW9uIChzdHIsIGRlY29kZXIsIGNoYXJzZXQpIHtcbiAgICB2YXIgc3RyV2l0aG91dFBsdXMgPSBzdHIucmVwbGFjZSgvXFwrL2csICcgJyk7XG4gICAgaWYgKGNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICAvLyB1bmVzY2FwZSBuZXZlciB0aHJvd3MsIG5vIHRyeS4uLmNhdGNoIG5lZWRlZDpcbiAgICAgICAgcmV0dXJuIHN0cldpdGhvdXRQbHVzLnJlcGxhY2UoLyVbMC05YS1mXXsyfS9naSwgdW5lc2NhcGUpO1xuICAgIH1cbiAgICAvLyB1dGYtOFxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoc3RyV2l0aG91dFBsdXMpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIHN0cldpdGhvdXRQbHVzO1xuICAgIH1cbn07XG5cbnZhciBlbmNvZGUgPSBmdW5jdGlvbiBlbmNvZGUoc3RyLCBkZWZhdWx0RW5jb2RlciwgY2hhcnNldCkge1xuICAgIC8vIFRoaXMgY29kZSB3YXMgb3JpZ2luYWxseSB3cml0dGVuIGJ5IEJyaWFuIFdoaXRlIChtc2NkZXgpIGZvciB0aGUgaW8uanMgY29yZSBxdWVyeXN0cmluZyBsaWJyYXJ5LlxuICAgIC8vIEl0IGhhcyBiZWVuIGFkYXB0ZWQgaGVyZSBmb3Igc3RyaWN0ZXIgYWRoZXJlbmNlIHRvIFJGQyAzOTg2XG4gICAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICB2YXIgc3RyaW5nID0gc3RyO1xuICAgIGlmICh0eXBlb2Ygc3RyID09PSAnc3ltYm9sJykge1xuICAgICAgICBzdHJpbmcgPSBTeW1ib2wucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoc3RyKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHN0cmluZyA9IFN0cmluZyhzdHIpO1xuICAgIH1cblxuICAgIGlmIChjaGFyc2V0ID09PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgcmV0dXJuIGVzY2FwZShzdHJpbmcpLnJlcGxhY2UoLyV1WzAtOWEtZl17NH0vZ2ksIGZ1bmN0aW9uICgkMCkge1xuICAgICAgICAgICAgcmV0dXJuICclMjYlMjMnICsgcGFyc2VJbnQoJDAuc2xpY2UoMiksIDE2KSArICclM0InO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgb3V0ID0gJyc7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHJpbmcubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGMgPSBzdHJpbmcuY2hhckNvZGVBdChpKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgICBjID09PSAweDJEIC8vIC1cbiAgICAgICAgICAgIHx8IGMgPT09IDB4MkUgLy8gLlxuICAgICAgICAgICAgfHwgYyA9PT0gMHg1RiAvLyBfXG4gICAgICAgICAgICB8fCBjID09PSAweDdFIC8vIH5cbiAgICAgICAgICAgIHx8IChjID49IDB4MzAgJiYgYyA8PSAweDM5KSAvLyAwLTlcbiAgICAgICAgICAgIHx8IChjID49IDB4NDEgJiYgYyA8PSAweDVBKSAvLyBhLXpcbiAgICAgICAgICAgIHx8IChjID49IDB4NjEgJiYgYyA8PSAweDdBKSAvLyBBLVpcbiAgICAgICAgKSB7XG4gICAgICAgICAgICBvdXQgKz0gc3RyaW5nLmNoYXJBdChpKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgPCAweDgwKSB7XG4gICAgICAgICAgICBvdXQgPSBvdXQgKyBoZXhUYWJsZVtjXTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGMgPCAweDgwMCkge1xuICAgICAgICAgICAgb3V0ID0gb3V0ICsgKGhleFRhYmxlWzB4QzAgfCAoYyA+PiA2KV0gKyBoZXhUYWJsZVsweDgwIHwgKGMgJiAweDNGKV0pO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYyA8IDB4RDgwMCB8fCBjID49IDB4RTAwMCkge1xuICAgICAgICAgICAgb3V0ID0gb3V0ICsgKGhleFRhYmxlWzB4RTAgfCAoYyA+PiAxMildICsgaGV4VGFibGVbMHg4MCB8ICgoYyA+PiA2KSAmIDB4M0YpXSArIGhleFRhYmxlWzB4ODAgfCAoYyAmIDB4M0YpXSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGkgKz0gMTtcbiAgICAgICAgYyA9IDB4MTAwMDAgKyAoKChjICYgMHgzRkYpIDw8IDEwKSB8IChzdHJpbmcuY2hhckNvZGVBdChpKSAmIDB4M0ZGKSk7XG4gICAgICAgIG91dCArPSBoZXhUYWJsZVsweEYwIHwgKGMgPj4gMTgpXVxuICAgICAgICAgICAgKyBoZXhUYWJsZVsweDgwIHwgKChjID4+IDEyKSAmIDB4M0YpXVxuICAgICAgICAgICAgKyBoZXhUYWJsZVsweDgwIHwgKChjID4+IDYpICYgMHgzRildXG4gICAgICAgICAgICArIGhleFRhYmxlWzB4ODAgfCAoYyAmIDB4M0YpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3V0O1xufTtcblxudmFyIGNvbXBhY3QgPSBmdW5jdGlvbiBjb21wYWN0KHZhbHVlKSB7XG4gICAgdmFyIHF1ZXVlID0gW3sgb2JqOiB7IG86IHZhbHVlIH0sIHByb3A6ICdvJyB9XTtcbiAgICB2YXIgcmVmcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgaXRlbSA9IHF1ZXVlW2ldO1xuICAgICAgICB2YXIgb2JqID0gaXRlbS5vYmpbaXRlbS5wcm9wXTtcblxuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwga2V5cy5sZW5ndGg7ICsraikge1xuICAgICAgICAgICAgdmFyIGtleSA9IGtleXNbal07XG4gICAgICAgICAgICB2YXIgdmFsID0gb2JqW2tleV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsICE9PSBudWxsICYmIHJlZnMuaW5kZXhPZih2YWwpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIHF1ZXVlLnB1c2goeyBvYmo6IG9iaiwgcHJvcDoga2V5IH0pO1xuICAgICAgICAgICAgICAgIHJlZnMucHVzaCh2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29tcGFjdFF1ZXVlKHF1ZXVlKTtcblxuICAgIHJldHVybiB2YWx1ZTtcbn07XG5cbnZhciBpc1JlZ0V4cCA9IGZ1bmN0aW9uIGlzUmVnRXhwKG9iaikge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgUmVnRXhwXSc7XG59O1xuXG52YXIgaXNCdWZmZXIgPSBmdW5jdGlvbiBpc0J1ZmZlcihvYmopIHtcbiAgICBpZiAoIW9iaiB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuICEhKG9iai5jb25zdHJ1Y3RvciAmJiBvYmouY29uc3RydWN0b3IuaXNCdWZmZXIgJiYgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyKG9iaikpO1xufTtcblxudmFyIGNvbWJpbmUgPSBmdW5jdGlvbiBjb21iaW5lKGEsIGIpIHtcbiAgICByZXR1cm4gW10uY29uY2F0KGEsIGIpO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgYXJyYXlUb09iamVjdDogYXJyYXlUb09iamVjdCxcbiAgICBhc3NpZ246IGFzc2lnbixcbiAgICBjb21iaW5lOiBjb21iaW5lLFxuICAgIGNvbXBhY3Q6IGNvbXBhY3QsXG4gICAgZGVjb2RlOiBkZWNvZGUsXG4gICAgZW5jb2RlOiBlbmNvZGUsXG4gICAgaXNCdWZmZXI6IGlzQnVmZmVyLFxuICAgIGlzUmVnRXhwOiBpc1JlZ0V4cCxcbiAgICBtZXJnZTogbWVyZ2Vcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCBUaGUgVVJMIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHRoZSBzcGVjaWZpZWQgVVJMIGlzIGFic29sdXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0Fic29sdXRlVVJMKHVybCkge1xuICAvLyBBIFVSTCBpcyBjb25zaWRlcmVkIGFic29sdXRlIGlmIGl0IGJlZ2lucyB3aXRoIFwiPHNjaGVtZT46Ly9cIiBvciBcIi8vXCIgKHByb3RvY29sLXJlbGF0aXZlIFVSTCkuXG4gIC8vIFJGQyAzOTg2IGRlZmluZXMgc2NoZW1lIG5hbWUgYXMgYSBzZXF1ZW5jZSBvZiBjaGFyYWN0ZXJzIGJlZ2lubmluZyB3aXRoIGEgbGV0dGVyIGFuZCBmb2xsb3dlZFxuICAvLyBieSBhbnkgY29tYmluYXRpb24gb2YgbGV0dGVycywgZGlnaXRzLCBwbHVzLCBwZXJpb2QsIG9yIGh5cGhlbi5cbiAgcmV0dXJuIC9eKFthLXpdW2EtelxcZFxcK1xcLVxcLl0qOik/XFwvXFwvL2kudGVzdCh1cmwpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IFVSTCBieSBjb21iaW5pbmcgdGhlIHNwZWNpZmllZCBVUkxzXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IGJhc2VVUkwgVGhlIGJhc2UgVVJMXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVsYXRpdmVVUkwgVGhlIHJlbGF0aXZlIFVSTFxuICogQHJldHVybnMge3N0cmluZ30gVGhlIGNvbWJpbmVkIFVSTFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGNvbWJpbmVVUkxzKGJhc2VVUkwsIHJlbGF0aXZlVVJMKSB7XG4gIHJldHVybiByZWxhdGl2ZVVSTFxuICAgID8gYmFzZVVSTC5yZXBsYWNlKC9cXC8rJC8sICcnKSArICcvJyArIHJlbGF0aXZlVVJMLnJlcGxhY2UoL15cXC8rLywgJycpXG4gICAgOiBiYXNlVVJMO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5mdW5jdGlvbiBJbnRlcmNlcHRvck1hbmFnZXIoKSB7XG4gIHRoaXMuaGFuZGxlcnMgPSBbXTtcbn1cblxuLyoqXG4gKiBBZGQgYSBuZXcgaW50ZXJjZXB0b3IgdG8gdGhlIHN0YWNrXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVsZmlsbGVkIFRoZSBmdW5jdGlvbiB0byBoYW5kbGUgYHRoZW5gIGZvciBhIGBQcm9taXNlYFxuICogQHBhcmFtIHtGdW5jdGlvbn0gcmVqZWN0ZWQgVGhlIGZ1bmN0aW9uIHRvIGhhbmRsZSBgcmVqZWN0YCBmb3IgYSBgUHJvbWlzZWBcbiAqXG4gKiBAcmV0dXJuIHtOdW1iZXJ9IEFuIElEIHVzZWQgdG8gcmVtb3ZlIGludGVyY2VwdG9yIGxhdGVyXG4gKi9cbkludGVyY2VwdG9yTWFuYWdlci5wcm90b3R5cGUudXNlID0gZnVuY3Rpb24gdXNlKGZ1bGZpbGxlZCwgcmVqZWN0ZWQpIHtcbiAgdGhpcy5oYW5kbGVycy5wdXNoKHtcbiAgICBmdWxmaWxsZWQ6IGZ1bGZpbGxlZCxcbiAgICByZWplY3RlZDogcmVqZWN0ZWRcbiAgfSk7XG4gIHJldHVybiB0aGlzLmhhbmRsZXJzLmxlbmd0aCAtIDE7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBhbiBpbnRlcmNlcHRvciBmcm9tIHRoZSBzdGFja1xuICpcbiAqIEBwYXJhbSB7TnVtYmVyfSBpZCBUaGUgSUQgdGhhdCB3YXMgcmV0dXJuZWQgYnkgYHVzZWBcbiAqL1xuSW50ZXJjZXB0b3JNYW5hZ2VyLnByb3RvdHlwZS5lamVjdCA9IGZ1bmN0aW9uIGVqZWN0KGlkKSB7XG4gIGlmICh0aGlzLmhhbmRsZXJzW2lkXSkge1xuICAgIHRoaXMuaGFuZGxlcnNbaWRdID0gbnVsbDtcbiAgfVxufTtcblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYWxsIHRoZSByZWdpc3RlcmVkIGludGVyY2VwdG9yc1xuICpcbiAqIFRoaXMgbWV0aG9kIGlzIHBhcnRpY3VsYXJseSB1c2VmdWwgZm9yIHNraXBwaW5nIG92ZXIgYW55XG4gKiBpbnRlcmNlcHRvcnMgdGhhdCBtYXkgaGF2ZSBiZWNvbWUgYG51bGxgIGNhbGxpbmcgYGVqZWN0YC5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmbiBUaGUgZnVuY3Rpb24gdG8gY2FsbCBmb3IgZWFjaCBpbnRlcmNlcHRvclxuICovXG5JbnRlcmNlcHRvck1hbmFnZXIucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiBmb3JFYWNoKGZuKSB7XG4gIHV0aWxzLmZvckVhY2godGhpcy5oYW5kbGVycywgZnVuY3Rpb24gZm9yRWFjaEhhbmRsZXIoaCkge1xuICAgIGlmIChoICE9PSBudWxsKSB7XG4gICAgICBmbihoKTtcbiAgICB9XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBJbnRlcmNlcHRvck1hbmFnZXI7XG4iLCIvKiFcbiAqIERldGVybWluZSBpZiBhbiBvYmplY3QgaXMgYSBCdWZmZXJcbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnPlxuICogQGxpY2Vuc2UgIE1JVFxuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaXNCdWZmZXIgKG9iaikge1xuICByZXR1cm4gb2JqICE9IG51bGwgJiYgb2JqLmNvbnN0cnVjdG9yICE9IG51bGwgJiZcbiAgICB0eXBlb2Ygb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyID09PSAnZnVuY3Rpb24nICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihvYmopXG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vLi4vZGVmYXVsdHMnKTtcbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciBJbnRlcmNlcHRvck1hbmFnZXIgPSByZXF1aXJlKCcuL0ludGVyY2VwdG9yTWFuYWdlcicpO1xudmFyIGRpc3BhdGNoUmVxdWVzdCA9IHJlcXVpcmUoJy4vZGlzcGF0Y2hSZXF1ZXN0Jyk7XG5cbi8qKlxuICogQ3JlYXRlIGEgbmV3IGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGluc3RhbmNlQ29uZmlnIFRoZSBkZWZhdWx0IGNvbmZpZyBmb3IgdGhlIGluc3RhbmNlXG4gKi9cbmZ1bmN0aW9uIEF4aW9zKGluc3RhbmNlQ29uZmlnKSB7XG4gIHRoaXMuZGVmYXVsdHMgPSBpbnN0YW5jZUNvbmZpZztcbiAgdGhpcy5pbnRlcmNlcHRvcnMgPSB7XG4gICAgcmVxdWVzdDogbmV3IEludGVyY2VwdG9yTWFuYWdlcigpLFxuICAgIHJlc3BvbnNlOiBuZXcgSW50ZXJjZXB0b3JNYW5hZ2VyKClcbiAgfTtcbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3RcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gY29uZmlnIFRoZSBjb25maWcgc3BlY2lmaWMgZm9yIHRoaXMgcmVxdWVzdCAobWVyZ2VkIHdpdGggdGhpcy5kZWZhdWx0cylcbiAqL1xuQXhpb3MucHJvdG90eXBlLnJlcXVlc3QgPSBmdW5jdGlvbiByZXF1ZXN0KGNvbmZpZykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgLy8gQWxsb3cgZm9yIGF4aW9zKCdleGFtcGxlL3VybCdbLCBjb25maWddKSBhIGxhIGZldGNoIEFQSVxuICBpZiAodHlwZW9mIGNvbmZpZyA9PT0gJ3N0cmluZycpIHtcbiAgICBjb25maWcgPSB1dGlscy5tZXJnZSh7XG4gICAgICB1cmw6IGFyZ3VtZW50c1swXVxuICAgIH0sIGFyZ3VtZW50c1sxXSk7XG4gIH1cblxuICBjb25maWcgPSB1dGlscy5tZXJnZShkZWZhdWx0cywge21ldGhvZDogJ2dldCd9LCB0aGlzLmRlZmF1bHRzLCBjb25maWcpO1xuICBjb25maWcubWV0aG9kID0gY29uZmlnLm1ldGhvZC50b0xvd2VyQ2FzZSgpO1xuXG4gIC8vIEhvb2sgdXAgaW50ZXJjZXB0b3JzIG1pZGRsZXdhcmVcbiAgdmFyIGNoYWluID0gW2Rpc3BhdGNoUmVxdWVzdCwgdW5kZWZpbmVkXTtcbiAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoY29uZmlnKTtcblxuICB0aGlzLmludGVyY2VwdG9ycy5yZXF1ZXN0LmZvckVhY2goZnVuY3Rpb24gdW5zaGlmdFJlcXVlc3RJbnRlcmNlcHRvcnMoaW50ZXJjZXB0b3IpIHtcbiAgICBjaGFpbi51bnNoaWZ0KGludGVyY2VwdG9yLmZ1bGZpbGxlZCwgaW50ZXJjZXB0b3IucmVqZWN0ZWQpO1xuICB9KTtcblxuICB0aGlzLmludGVyY2VwdG9ycy5yZXNwb25zZS5mb3JFYWNoKGZ1bmN0aW9uIHB1c2hSZXNwb25zZUludGVyY2VwdG9ycyhpbnRlcmNlcHRvcikge1xuICAgIGNoYWluLnB1c2goaW50ZXJjZXB0b3IuZnVsZmlsbGVkLCBpbnRlcmNlcHRvci5yZWplY3RlZCk7XG4gIH0pO1xuXG4gIHdoaWxlIChjaGFpbi5sZW5ndGgpIHtcbiAgICBwcm9taXNlID0gcHJvbWlzZS50aGVuKGNoYWluLnNoaWZ0KCksIGNoYWluLnNoaWZ0KCkpO1xuICB9XG5cbiAgcmV0dXJuIHByb21pc2U7XG59O1xuXG4vLyBQcm92aWRlIGFsaWFzZXMgZm9yIHN1cHBvcnRlZCByZXF1ZXN0IG1ldGhvZHNcbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAnb3B0aW9ucyddLCBmdW5jdGlvbiBmb3JFYWNoTWV0aG9kTm9EYXRhKG1ldGhvZCkge1xuICAvKmVzbGludCBmdW5jLW5hbWVzOjAqL1xuICBBeGlvcy5wcm90b3R5cGVbbWV0aG9kXSA9IGZ1bmN0aW9uKHVybCwgY29uZmlnKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdCh1dGlscy5tZXJnZShjb25maWcgfHwge30sIHtcbiAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgdXJsOiB1cmxcbiAgICB9KSk7XG4gIH07XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgLyplc2xpbnQgZnVuYy1uYW1lczowKi9cbiAgQXhpb3MucHJvdG90eXBlW21ldGhvZF0gPSBmdW5jdGlvbih1cmwsIGRhdGEsIGNvbmZpZykge1xuICAgIHJldHVybiB0aGlzLnJlcXVlc3QodXRpbHMubWVyZ2UoY29uZmlnIHx8IHt9LCB7XG4gICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIHVybDogdXJsLFxuICAgICAgZGF0YTogZGF0YVxuICAgIH0pKTtcbiAgfTtcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEF4aW9zO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN5bnRhY3RpYyBzdWdhciBmb3IgaW52b2tpbmcgYSBmdW5jdGlvbiBhbmQgZXhwYW5kaW5nIGFuIGFycmF5IGZvciBhcmd1bWVudHMuXG4gKlxuICogQ29tbW9uIHVzZSBjYXNlIHdvdWxkIGJlIHRvIHVzZSBgRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5YC5cbiAqXG4gKiAgYGBganNcbiAqICBmdW5jdGlvbiBmKHgsIHksIHopIHt9XG4gKiAgdmFyIGFyZ3MgPSBbMSwgMiwgM107XG4gKiAgZi5hcHBseShudWxsLCBhcmdzKTtcbiAqICBgYGBcbiAqXG4gKiBXaXRoIGBzcHJlYWRgIHRoaXMgZXhhbXBsZSBjYW4gYmUgcmUtd3JpdHRlbi5cbiAqXG4gKiAgYGBganNcbiAqICBzcHJlYWQoZnVuY3Rpb24oeCwgeSwgeikge30pKFsxLCAyLCAzXSk7XG4gKiAgYGBgXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2tcbiAqIEByZXR1cm5zIHtGdW5jdGlvbn1cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBzcHJlYWQoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoYXJyKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KG51bGwsIGFycik7XG4gIH07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJpbmQoZm4sIHRoaXNBcmcpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIHdyYXAoKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gZm4uYXBwbHkodGhpc0FyZywgYXJncyk7XG4gIH07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG52YXIgbm9ybWFsaXplSGVhZGVyTmFtZSA9IHJlcXVpcmUoJy4vaGVscGVycy9ub3JtYWxpemVIZWFkZXJOYW1lJyk7XG5cbnZhciBERUZBVUxUX0NPTlRFTlRfVFlQRSA9IHtcbiAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnXG59O1xuXG5mdW5jdGlvbiBzZXRDb250ZW50VHlwZUlmVW5zZXQoaGVhZGVycywgdmFsdWUpIHtcbiAgaWYgKCF1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzKSAmJiB1dGlscy5pc1VuZGVmaW5lZChoZWFkZXJzWydDb250ZW50LVR5cGUnXSkpIHtcbiAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9IHZhbHVlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGdldERlZmF1bHRBZGFwdGVyKCkge1xuICB2YXIgYWRhcHRlcjtcbiAgaWYgKHR5cGVvZiBYTUxIdHRwUmVxdWVzdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAvLyBGb3IgYnJvd3NlcnMgdXNlIFhIUiBhZGFwdGVyXG4gICAgYWRhcHRlciA9IHJlcXVpcmUoJy4vYWRhcHRlcnMveGhyJyk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgLy8gRm9yIG5vZGUgdXNlIEhUVFAgYWRhcHRlclxuICAgIGFkYXB0ZXIgPSByZXF1aXJlKCcuL2FkYXB0ZXJzL2h0dHAnKTtcbiAgfVxuICByZXR1cm4gYWRhcHRlcjtcbn1cblxudmFyIGRlZmF1bHRzID0ge1xuICBhZGFwdGVyOiBnZXREZWZhdWx0QWRhcHRlcigpLFxuXG4gIHRyYW5zZm9ybVJlcXVlc3Q6IFtmdW5jdGlvbiB0cmFuc2Zvcm1SZXF1ZXN0KGRhdGEsIGhlYWRlcnMpIHtcbiAgICBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsICdDb250ZW50LVR5cGUnKTtcbiAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNBcnJheUJ1ZmZlcihkYXRhKSB8fFxuICAgICAgdXRpbHMuaXNCdWZmZXIoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzU3RyZWFtKGRhdGEpIHx8XG4gICAgICB1dGlscy5pc0ZpbGUoZGF0YSkgfHxcbiAgICAgIHV0aWxzLmlzQmxvYihkYXRhKVxuICAgICkge1xuICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc0FycmF5QnVmZmVyVmlldyhkYXRhKSkge1xuICAgICAgcmV0dXJuIGRhdGEuYnVmZmVyO1xuICAgIH1cbiAgICBpZiAodXRpbHMuaXNVUkxTZWFyY2hQYXJhbXMoZGF0YSkpIHtcbiAgICAgIHNldENvbnRlbnRUeXBlSWZVbnNldChoZWFkZXJzLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBkYXRhLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIGlmICh1dGlscy5pc09iamVjdChkYXRhKSkge1xuICAgICAgc2V0Q29udGVudFR5cGVJZlVuc2V0KGhlYWRlcnMsICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTgnKTtcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShkYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH1dLFxuXG4gIHRyYW5zZm9ybVJlc3BvbnNlOiBbZnVuY3Rpb24gdHJhbnNmb3JtUmVzcG9uc2UoZGF0YSkge1xuICAgIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKGRhdGEpO1xuICAgICAgfSBjYXRjaCAoZSkgeyAvKiBJZ25vcmUgKi8gfVxuICAgIH1cbiAgICByZXR1cm4gZGF0YTtcbiAgfV0sXG5cbiAgLyoqXG4gICAqIEEgdGltZW91dCBpbiBtaWxsaXNlY29uZHMgdG8gYWJvcnQgYSByZXF1ZXN0LiBJZiBzZXQgdG8gMCAoZGVmYXVsdCkgYVxuICAgKiB0aW1lb3V0IGlzIG5vdCBjcmVhdGVkLlxuICAgKi9cbiAgdGltZW91dDogMCxcblxuICB4c3JmQ29va2llTmFtZTogJ1hTUkYtVE9LRU4nLFxuICB4c3JmSGVhZGVyTmFtZTogJ1gtWFNSRi1UT0tFTicsXG5cbiAgbWF4Q29udGVudExlbmd0aDogLTEsXG5cbiAgdmFsaWRhdGVTdGF0dXM6IGZ1bmN0aW9uIHZhbGlkYXRlU3RhdHVzKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPj0gMjAwICYmIHN0YXR1cyA8IDMwMDtcbiAgfVxufTtcblxuZGVmYXVsdHMuaGVhZGVycyA9IHtcbiAgY29tbW9uOiB7XG4gICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uLCB0ZXh0L3BsYWluLCAqLyonXG4gIH1cbn07XG5cbnV0aWxzLmZvckVhY2goWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnXSwgZnVuY3Rpb24gZm9yRWFjaE1ldGhvZE5vRGF0YShtZXRob2QpIHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0ge307XG59KTtcblxudXRpbHMuZm9yRWFjaChbJ3Bvc3QnLCAncHV0JywgJ3BhdGNoJ10sIGZ1bmN0aW9uIGZvckVhY2hNZXRob2RXaXRoRGF0YShtZXRob2QpIHtcbiAgZGVmYXVsdHMuaGVhZGVyc1ttZXRob2RdID0gdXRpbHMubWVyZ2UoREVGQVVMVF9DT05URU5UX1RZUEUpO1xufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZGVmYXVsdHM7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBlbmhhbmNlRXJyb3IgPSByZXF1aXJlKCcuL2VuaGFuY2VFcnJvcicpO1xuXG4vKipcbiAqIENyZWF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgbWVzc2FnZSwgY29uZmlnLCBlcnJvciBjb2RlLCByZXF1ZXN0IGFuZCByZXNwb25zZS5cbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWVzc2FnZSBUaGUgZXJyb3IgbWVzc2FnZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgY3JlYXRlZCBlcnJvci5cbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBjcmVhdGVFcnJvcihtZXNzYWdlLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIHZhciBlcnJvciA9IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgcmV0dXJuIGVuaGFuY2VFcnJvcihlcnJvciwgY29uZmlnLCBjb2RlLCByZXF1ZXN0LCByZXNwb25zZSk7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzQ2FuY2VsKHZhbHVlKSB7XG4gIHJldHVybiAhISh2YWx1ZSAmJiB2YWx1ZS5fX0NBTkNFTF9fKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuZnVuY3Rpb24gZW5jb2RlKHZhbCkge1xuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KHZhbCkuXG4gICAgcmVwbGFjZSgvJTQwL2dpLCAnQCcpLlxuICAgIHJlcGxhY2UoLyUzQS9naSwgJzonKS5cbiAgICByZXBsYWNlKC8lMjQvZywgJyQnKS5cbiAgICByZXBsYWNlKC8lMkMvZ2ksICcsJykuXG4gICAgcmVwbGFjZSgvJTIwL2csICcrJykuXG4gICAgcmVwbGFjZSgvJTVCL2dpLCAnWycpLlxuICAgIHJlcGxhY2UoLyU1RC9naSwgJ10nKTtcbn1cblxuLyoqXG4gKiBCdWlsZCBhIFVSTCBieSBhcHBlbmRpbmcgcGFyYW1zIHRvIHRoZSBlbmRcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIFRoZSBiYXNlIG9mIHRoZSB1cmwgKGUuZy4sIGh0dHA6Ly93d3cuZ29vZ2xlLmNvbSlcbiAqIEBwYXJhbSB7b2JqZWN0fSBbcGFyYW1zXSBUaGUgcGFyYW1zIHRvIGJlIGFwcGVuZGVkXG4gKiBAcmV0dXJucyB7c3RyaW5nfSBUaGUgZm9ybWF0dGVkIHVybFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGJ1aWxkVVJMKHVybCwgcGFyYW1zLCBwYXJhbXNTZXJpYWxpemVyKSB7XG4gIC8qZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAqL1xuICBpZiAoIXBhcmFtcykge1xuICAgIHJldHVybiB1cmw7XG4gIH1cblxuICB2YXIgc2VyaWFsaXplZFBhcmFtcztcbiAgaWYgKHBhcmFtc1NlcmlhbGl6ZXIpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zU2VyaWFsaXplcihwYXJhbXMpO1xuICB9IGVsc2UgaWYgKHV0aWxzLmlzVVJMU2VhcmNoUGFyYW1zKHBhcmFtcykpIHtcbiAgICBzZXJpYWxpemVkUGFyYW1zID0gcGFyYW1zLnRvU3RyaW5nKCk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIHBhcnRzID0gW107XG5cbiAgICB1dGlscy5mb3JFYWNoKHBhcmFtcywgZnVuY3Rpb24gc2VyaWFsaXplKHZhbCwga2V5KSB7XG4gICAgICBpZiAodmFsID09PSBudWxsIHx8IHR5cGVvZiB2YWwgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgaWYgKHV0aWxzLmlzQXJyYXkodmFsKSkge1xuICAgICAgICBrZXkgPSBrZXkgKyAnW10nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsID0gW3ZhbF07XG4gICAgICB9XG5cbiAgICAgIHV0aWxzLmZvckVhY2godmFsLCBmdW5jdGlvbiBwYXJzZVZhbHVlKHYpIHtcbiAgICAgICAgaWYgKHV0aWxzLmlzRGF0ZSh2KSkge1xuICAgICAgICAgIHYgPSB2LnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIH0gZWxzZSBpZiAodXRpbHMuaXNPYmplY3QodikpIHtcbiAgICAgICAgICB2ID0gSlNPTi5zdHJpbmdpZnkodik7XG4gICAgICAgIH1cbiAgICAgICAgcGFydHMucHVzaChlbmNvZGUoa2V5KSArICc9JyArIGVuY29kZSh2KSk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIHNlcmlhbGl6ZWRQYXJhbXMgPSBwYXJ0cy5qb2luKCcmJyk7XG4gIH1cblxuICBpZiAoc2VyaWFsaXplZFBhcmFtcykge1xuICAgIHVybCArPSAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgc2VyaWFsaXplZFBhcmFtcztcbiAgfVxuXG4gIHJldHVybiB1cmw7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFVwZGF0ZSBhbiBFcnJvciB3aXRoIHRoZSBzcGVjaWZpZWQgY29uZmlnLCBlcnJvciBjb2RlLCBhbmQgcmVzcG9uc2UuXG4gKlxuICogQHBhcmFtIHtFcnJvcn0gZXJyb3IgVGhlIGVycm9yIHRvIHVwZGF0ZS5cbiAqIEBwYXJhbSB7T2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZy5cbiAqIEBwYXJhbSB7c3RyaW5nfSBbY29kZV0gVGhlIGVycm9yIGNvZGUgKGZvciBleGFtcGxlLCAnRUNPTk5BQk9SVEVEJykuXG4gKiBAcGFyYW0ge09iamVjdH0gW3JlcXVlc3RdIFRoZSByZXF1ZXN0LlxuICogQHBhcmFtIHtPYmplY3R9IFtyZXNwb25zZV0gVGhlIHJlc3BvbnNlLlxuICogQHJldHVybnMge0Vycm9yfSBUaGUgZXJyb3IuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZW5oYW5jZUVycm9yKGVycm9yLCBjb25maWcsIGNvZGUsIHJlcXVlc3QsIHJlc3BvbnNlKSB7XG4gIGVycm9yLmNvbmZpZyA9IGNvbmZpZztcbiAgaWYgKGNvZGUpIHtcbiAgICBlcnJvci5jb2RlID0gY29kZTtcbiAgfVxuICBlcnJvci5yZXF1ZXN0ID0gcmVxdWVzdDtcbiAgZXJyb3IucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgcmV0dXJuIGVycm9yO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIGhhdmUgZnVsbCBzdXBwb3J0IG9mIHRoZSBBUElzIG5lZWRlZCB0byB0ZXN0XG4gIC8vIHdoZXRoZXIgdGhlIHJlcXVlc3QgVVJMIGlzIG9mIHRoZSBzYW1lIG9yaWdpbiBhcyBjdXJyZW50IGxvY2F0aW9uLlxuICAoZnVuY3Rpb24gc3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHZhciBtc2llID0gLyhtc2llfHRyaWRlbnQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICB2YXIgdXJsUGFyc2luZ05vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgdmFyIG9yaWdpblVSTDtcblxuICAgIC8qKlxuICAgICogUGFyc2UgYSBVUkwgdG8gZGlzY292ZXIgaXQncyBjb21wb25lbnRzXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHVybCBUaGUgVVJMIHRvIGJlIHBhcnNlZFxuICAgICogQHJldHVybnMge09iamVjdH1cbiAgICAqL1xuICAgIGZ1bmN0aW9uIHJlc29sdmVVUkwodXJsKSB7XG4gICAgICB2YXIgaHJlZiA9IHVybDtcblxuICAgICAgaWYgKG1zaWUpIHtcbiAgICAgICAgLy8gSUUgbmVlZHMgYXR0cmlidXRlIHNldCB0d2ljZSB0byBub3JtYWxpemUgcHJvcGVydGllc1xuICAgICAgICB1cmxQYXJzaW5nTm9kZS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBocmVmKTtcbiAgICAgICAgaHJlZiA9IHVybFBhcnNpbmdOb2RlLmhyZWY7XG4gICAgICB9XG5cbiAgICAgIHVybFBhcnNpbmdOb2RlLnNldEF0dHJpYnV0ZSgnaHJlZicsIGhyZWYpO1xuXG4gICAgICAvLyB1cmxQYXJzaW5nTm9kZSBwcm92aWRlcyB0aGUgVXJsVXRpbHMgaW50ZXJmYWNlIC0gaHR0cDovL3VybC5zcGVjLndoYXR3Zy5vcmcvI3VybHV0aWxzXG4gICAgICByZXR1cm4ge1xuICAgICAgICBocmVmOiB1cmxQYXJzaW5nTm9kZS5ocmVmLFxuICAgICAgICBwcm90b2NvbDogdXJsUGFyc2luZ05vZGUucHJvdG9jb2wgPyB1cmxQYXJzaW5nTm9kZS5wcm90b2NvbC5yZXBsYWNlKC86JC8sICcnKSA6ICcnLFxuICAgICAgICBob3N0OiB1cmxQYXJzaW5nTm9kZS5ob3N0LFxuICAgICAgICBzZWFyY2g6IHVybFBhcnNpbmdOb2RlLnNlYXJjaCA/IHVybFBhcnNpbmdOb2RlLnNlYXJjaC5yZXBsYWNlKC9eXFw/LywgJycpIDogJycsXG4gICAgICAgIGhhc2g6IHVybFBhcnNpbmdOb2RlLmhhc2ggPyB1cmxQYXJzaW5nTm9kZS5oYXNoLnJlcGxhY2UoL14jLywgJycpIDogJycsXG4gICAgICAgIGhvc3RuYW1lOiB1cmxQYXJzaW5nTm9kZS5ob3N0bmFtZSxcbiAgICAgICAgcG9ydDogdXJsUGFyc2luZ05vZGUucG9ydCxcbiAgICAgICAgcGF0aG5hbWU6ICh1cmxQYXJzaW5nTm9kZS5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJykgP1xuICAgICAgICAgICAgICAgICAgdXJsUGFyc2luZ05vZGUucGF0aG5hbWUgOlxuICAgICAgICAgICAgICAgICAgJy8nICsgdXJsUGFyc2luZ05vZGUucGF0aG5hbWVcbiAgICAgIH07XG4gICAgfVxuXG4gICAgb3JpZ2luVVJMID0gcmVzb2x2ZVVSTCh3aW5kb3cubG9jYXRpb24uaHJlZik7XG5cbiAgICAvKipcbiAgICAqIERldGVybWluZSBpZiBhIFVSTCBzaGFyZXMgdGhlIHNhbWUgb3JpZ2luIGFzIHRoZSBjdXJyZW50IGxvY2F0aW9uXG4gICAgKlxuICAgICogQHBhcmFtIHtTdHJpbmd9IHJlcXVlc3RVUkwgVGhlIFVSTCB0byB0ZXN0XG4gICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBVUkwgc2hhcmVzIHRoZSBzYW1lIG9yaWdpbiwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgKi9cbiAgICByZXR1cm4gZnVuY3Rpb24gaXNVUkxTYW1lT3JpZ2luKHJlcXVlc3RVUkwpIHtcbiAgICAgIHZhciBwYXJzZWQgPSAodXRpbHMuaXNTdHJpbmcocmVxdWVzdFVSTCkpID8gcmVzb2x2ZVVSTChyZXF1ZXN0VVJMKSA6IHJlcXVlc3RVUkw7XG4gICAgICByZXR1cm4gKHBhcnNlZC5wcm90b2NvbCA9PT0gb3JpZ2luVVJMLnByb3RvY29sICYmXG4gICAgICAgICAgICBwYXJzZWQuaG9zdCA9PT0gb3JpZ2luVVJMLmhvc3QpO1xuICAgIH07XG4gIH0pKCkgOlxuXG4gIC8vIE5vbiBzdGFuZGFyZCBicm93c2VyIGVudnMgKHdlYiB3b3JrZXJzLCByZWFjdC1uYXRpdmUpIGxhY2sgbmVlZGVkIHN1cHBvcnQuXG4gIChmdW5jdGlvbiBub25TdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIGlzVVJMU2FtZU9yaWdpbigpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gIH0pKClcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcbnZhciBmb3JtYXRzID0gcmVxdWlyZSgnLi9mb3JtYXRzJyk7XG52YXIgaGFzID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIGFycmF5UHJlZml4R2VuZXJhdG9ycyA9IHtcbiAgICBicmFja2V0czogZnVuY3Rpb24gYnJhY2tldHMocHJlZml4KSB7XG4gICAgICAgIHJldHVybiBwcmVmaXggKyAnW10nO1xuICAgIH0sXG4gICAgY29tbWE6ICdjb21tYScsXG4gICAgaW5kaWNlczogZnVuY3Rpb24gaW5kaWNlcyhwcmVmaXgsIGtleSkge1xuICAgICAgICByZXR1cm4gcHJlZml4ICsgJ1snICsga2V5ICsgJ10nO1xuICAgIH0sXG4gICAgcmVwZWF0OiBmdW5jdGlvbiByZXBlYXQocHJlZml4KSB7XG4gICAgICAgIHJldHVybiBwcmVmaXg7XG4gICAgfVxufTtcblxudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xudmFyIHB1c2ggPSBBcnJheS5wcm90b3R5cGUucHVzaDtcbnZhciBwdXNoVG9BcnJheSA9IGZ1bmN0aW9uIChhcnIsIHZhbHVlT3JBcnJheSkge1xuICAgIHB1c2guYXBwbHkoYXJyLCBpc0FycmF5KHZhbHVlT3JBcnJheSkgPyB2YWx1ZU9yQXJyYXkgOiBbdmFsdWVPckFycmF5XSk7XG59O1xuXG52YXIgdG9JU08gPSBEYXRlLnByb3RvdHlwZS50b0lTT1N0cmluZztcblxudmFyIGRlZmF1bHRGb3JtYXQgPSBmb3JtYXRzWydkZWZhdWx0J107XG52YXIgZGVmYXVsdHMgPSB7XG4gICAgYWRkUXVlcnlQcmVmaXg6IGZhbHNlLFxuICAgIGFsbG93RG90czogZmFsc2UsXG4gICAgY2hhcnNldDogJ3V0Zi04JyxcbiAgICBjaGFyc2V0U2VudGluZWw6IGZhbHNlLFxuICAgIGRlbGltaXRlcjogJyYnLFxuICAgIGVuY29kZTogdHJ1ZSxcbiAgICBlbmNvZGVyOiB1dGlscy5lbmNvZGUsXG4gICAgZW5jb2RlVmFsdWVzT25seTogZmFsc2UsXG4gICAgZm9ybWF0OiBkZWZhdWx0Rm9ybWF0LFxuICAgIGZvcm1hdHRlcjogZm9ybWF0cy5mb3JtYXR0ZXJzW2RlZmF1bHRGb3JtYXRdLFxuICAgIC8vIGRlcHJlY2F0ZWRcbiAgICBpbmRpY2VzOiBmYWxzZSxcbiAgICBzZXJpYWxpemVEYXRlOiBmdW5jdGlvbiBzZXJpYWxpemVEYXRlKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuIHRvSVNPLmNhbGwoZGF0ZSk7XG4gICAgfSxcbiAgICBza2lwTnVsbHM6IGZhbHNlLFxuICAgIHN0cmljdE51bGxIYW5kbGluZzogZmFsc2Vcbn07XG5cbnZhciBpc05vbk51bGxpc2hQcmltaXRpdmUgPSBmdW5jdGlvbiBpc05vbk51bGxpc2hQcmltaXRpdmUodikge1xuICAgIHJldHVybiB0eXBlb2YgdiA9PT0gJ3N0cmluZydcbiAgICAgICAgfHwgdHlwZW9mIHYgPT09ICdudW1iZXInXG4gICAgICAgIHx8IHR5cGVvZiB2ID09PSAnYm9vbGVhbidcbiAgICAgICAgfHwgdHlwZW9mIHYgPT09ICdzeW1ib2wnXG4gICAgICAgIHx8IHR5cGVvZiB2ID09PSAnYmlnaW50Jztcbn07XG5cbnZhciBzdHJpbmdpZnkgPSBmdW5jdGlvbiBzdHJpbmdpZnkoXG4gICAgb2JqZWN0LFxuICAgIHByZWZpeCxcbiAgICBnZW5lcmF0ZUFycmF5UHJlZml4LFxuICAgIHN0cmljdE51bGxIYW5kbGluZyxcbiAgICBza2lwTnVsbHMsXG4gICAgZW5jb2RlcixcbiAgICBmaWx0ZXIsXG4gICAgc29ydCxcbiAgICBhbGxvd0RvdHMsXG4gICAgc2VyaWFsaXplRGF0ZSxcbiAgICBmb3JtYXR0ZXIsXG4gICAgZW5jb2RlVmFsdWVzT25seSxcbiAgICBjaGFyc2V0XG4pIHtcbiAgICB2YXIgb2JqID0gb2JqZWN0O1xuICAgIGlmICh0eXBlb2YgZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIG9iaiA9IGZpbHRlcihwcmVmaXgsIG9iaik7XG4gICAgfSBlbHNlIGlmIChvYmogaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIG9iaiA9IHNlcmlhbGl6ZURhdGUob2JqKTtcbiAgICB9IGVsc2UgaWYgKGdlbmVyYXRlQXJyYXlQcmVmaXggPT09ICdjb21tYScgJiYgaXNBcnJheShvYmopKSB7XG4gICAgICAgIG9iaiA9IG9iai5qb2luKCcsJyk7XG4gICAgfVxuXG4gICAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgICAgICBpZiAoc3RyaWN0TnVsbEhhbmRsaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZW5jb2RlciAmJiAhZW5jb2RlVmFsdWVzT25seSA/IGVuY29kZXIocHJlZml4LCBkZWZhdWx0cy5lbmNvZGVyLCBjaGFyc2V0LCAna2V5JykgOiBwcmVmaXg7XG4gICAgICAgIH1cblxuICAgICAgICBvYmogPSAnJztcbiAgICB9XG5cbiAgICBpZiAoaXNOb25OdWxsaXNoUHJpbWl0aXZlKG9iaikgfHwgdXRpbHMuaXNCdWZmZXIob2JqKSkge1xuICAgICAgICBpZiAoZW5jb2Rlcikge1xuICAgICAgICAgICAgdmFyIGtleVZhbHVlID0gZW5jb2RlVmFsdWVzT25seSA/IHByZWZpeCA6IGVuY29kZXIocHJlZml4LCBkZWZhdWx0cy5lbmNvZGVyLCBjaGFyc2V0LCAna2V5Jyk7XG4gICAgICAgICAgICByZXR1cm4gW2Zvcm1hdHRlcihrZXlWYWx1ZSkgKyAnPScgKyBmb3JtYXR0ZXIoZW5jb2RlcihvYmosIGRlZmF1bHRzLmVuY29kZXIsIGNoYXJzZXQsICd2YWx1ZScpKV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtmb3JtYXR0ZXIocHJlZml4KSArICc9JyArIGZvcm1hdHRlcihTdHJpbmcob2JqKSldO1xuICAgIH1cblxuICAgIHZhciB2YWx1ZXMgPSBbXTtcblxuICAgIGlmICh0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gdmFsdWVzO1xuICAgIH1cblxuICAgIHZhciBvYmpLZXlzO1xuICAgIGlmIChpc0FycmF5KGZpbHRlcikpIHtcbiAgICAgICAgb2JqS2V5cyA9IGZpbHRlcjtcbiAgICB9IGVsc2Uge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgIG9iaktleXMgPSBzb3J0ID8ga2V5cy5zb3J0KHNvcnQpIDoga2V5cztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iaktleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGtleSA9IG9iaktleXNbaV07XG5cbiAgICAgICAgaWYgKHNraXBOdWxscyAmJiBvYmpba2V5XSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgICAgICAgICBwdXNoVG9BcnJheSh2YWx1ZXMsIHN0cmluZ2lmeShcbiAgICAgICAgICAgICAgICBvYmpba2V5XSxcbiAgICAgICAgICAgICAgICB0eXBlb2YgZ2VuZXJhdGVBcnJheVByZWZpeCA9PT0gJ2Z1bmN0aW9uJyA/IGdlbmVyYXRlQXJyYXlQcmVmaXgocHJlZml4LCBrZXkpIDogcHJlZml4LFxuICAgICAgICAgICAgICAgIGdlbmVyYXRlQXJyYXlQcmVmaXgsXG4gICAgICAgICAgICAgICAgc3RyaWN0TnVsbEhhbmRsaW5nLFxuICAgICAgICAgICAgICAgIHNraXBOdWxscyxcbiAgICAgICAgICAgICAgICBlbmNvZGVyLFxuICAgICAgICAgICAgICAgIGZpbHRlcixcbiAgICAgICAgICAgICAgICBzb3J0LFxuICAgICAgICAgICAgICAgIGFsbG93RG90cyxcbiAgICAgICAgICAgICAgICBzZXJpYWxpemVEYXRlLFxuICAgICAgICAgICAgICAgIGZvcm1hdHRlcixcbiAgICAgICAgICAgICAgICBlbmNvZGVWYWx1ZXNPbmx5LFxuICAgICAgICAgICAgICAgIGNoYXJzZXRcbiAgICAgICAgICAgICkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHVzaFRvQXJyYXkodmFsdWVzLCBzdHJpbmdpZnkoXG4gICAgICAgICAgICAgICAgb2JqW2tleV0sXG4gICAgICAgICAgICAgICAgcHJlZml4ICsgKGFsbG93RG90cyA/ICcuJyArIGtleSA6ICdbJyArIGtleSArICddJyksXG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeCxcbiAgICAgICAgICAgICAgICBzdHJpY3ROdWxsSGFuZGxpbmcsXG4gICAgICAgICAgICAgICAgc2tpcE51bGxzLFxuICAgICAgICAgICAgICAgIGVuY29kZXIsXG4gICAgICAgICAgICAgICAgZmlsdGVyLFxuICAgICAgICAgICAgICAgIHNvcnQsXG4gICAgICAgICAgICAgICAgYWxsb3dEb3RzLFxuICAgICAgICAgICAgICAgIHNlcmlhbGl6ZURhdGUsXG4gICAgICAgICAgICAgICAgZm9ybWF0dGVyLFxuICAgICAgICAgICAgICAgIGVuY29kZVZhbHVlc09ubHksXG4gICAgICAgICAgICAgICAgY2hhcnNldFxuICAgICAgICAgICAgKSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4gdmFsdWVzO1xufTtcblxudmFyIG5vcm1hbGl6ZVN0cmluZ2lmeU9wdGlvbnMgPSBmdW5jdGlvbiBub3JtYWxpemVTdHJpbmdpZnlPcHRpb25zKG9wdHMpIHtcbiAgICBpZiAoIW9wdHMpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRzO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmVuY29kZXIgIT09IG51bGwgJiYgb3B0cy5lbmNvZGVyICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9wdHMuZW5jb2RlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFbmNvZGVyIGhhcyB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIHZhciBjaGFyc2V0ID0gb3B0cy5jaGFyc2V0IHx8IGRlZmF1bHRzLmNoYXJzZXQ7XG4gICAgaWYgKHR5cGVvZiBvcHRzLmNoYXJzZXQgIT09ICd1bmRlZmluZWQnICYmIG9wdHMuY2hhcnNldCAhPT0gJ3V0Zi04JyAmJiBvcHRzLmNoYXJzZXQgIT09ICdpc28tODg1OS0xJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgY2hhcnNldCBvcHRpb24gbXVzdCBiZSBlaXRoZXIgdXRmLTgsIGlzby04ODU5LTEsIG9yIHVuZGVmaW5lZCcpO1xuICAgIH1cblxuICAgIHZhciBmb3JtYXQgPSBmb3JtYXRzWydkZWZhdWx0J107XG4gICAgaWYgKHR5cGVvZiBvcHRzLmZvcm1hdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKCFoYXMuY2FsbChmb3JtYXRzLmZvcm1hdHRlcnMsIG9wdHMuZm9ybWF0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVW5rbm93biBmb3JtYXQgb3B0aW9uIHByb3ZpZGVkLicpO1xuICAgICAgICB9XG4gICAgICAgIGZvcm1hdCA9IG9wdHMuZm9ybWF0O1xuICAgIH1cbiAgICB2YXIgZm9ybWF0dGVyID0gZm9ybWF0cy5mb3JtYXR0ZXJzW2Zvcm1hdF07XG5cbiAgICB2YXIgZmlsdGVyID0gZGVmYXVsdHMuZmlsdGVyO1xuICAgIGlmICh0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdmdW5jdGlvbicgfHwgaXNBcnJheShvcHRzLmZpbHRlcikpIHtcbiAgICAgICAgZmlsdGVyID0gb3B0cy5maWx0ZXI7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkUXVlcnlQcmVmaXg6IHR5cGVvZiBvcHRzLmFkZFF1ZXJ5UHJlZml4ID09PSAnYm9vbGVhbicgPyBvcHRzLmFkZFF1ZXJ5UHJlZml4IDogZGVmYXVsdHMuYWRkUXVlcnlQcmVmaXgsXG4gICAgICAgIGFsbG93RG90czogdHlwZW9mIG9wdHMuYWxsb3dEb3RzID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHRzLmFsbG93RG90cyA6ICEhb3B0cy5hbGxvd0RvdHMsXG4gICAgICAgIGNoYXJzZXQ6IGNoYXJzZXQsXG4gICAgICAgIGNoYXJzZXRTZW50aW5lbDogdHlwZW9mIG9wdHMuY2hhcnNldFNlbnRpbmVsID09PSAnYm9vbGVhbicgPyBvcHRzLmNoYXJzZXRTZW50aW5lbCA6IGRlZmF1bHRzLmNoYXJzZXRTZW50aW5lbCxcbiAgICAgICAgZGVsaW1pdGVyOiB0eXBlb2Ygb3B0cy5kZWxpbWl0ZXIgPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHMuZGVsaW1pdGVyIDogb3B0cy5kZWxpbWl0ZXIsXG4gICAgICAgIGVuY29kZTogdHlwZW9mIG9wdHMuZW5jb2RlID09PSAnYm9vbGVhbicgPyBvcHRzLmVuY29kZSA6IGRlZmF1bHRzLmVuY29kZSxcbiAgICAgICAgZW5jb2RlcjogdHlwZW9mIG9wdHMuZW5jb2RlciA9PT0gJ2Z1bmN0aW9uJyA/IG9wdHMuZW5jb2RlciA6IGRlZmF1bHRzLmVuY29kZXIsXG4gICAgICAgIGVuY29kZVZhbHVlc09ubHk6IHR5cGVvZiBvcHRzLmVuY29kZVZhbHVlc09ubHkgPT09ICdib29sZWFuJyA/IG9wdHMuZW5jb2RlVmFsdWVzT25seSA6IGRlZmF1bHRzLmVuY29kZVZhbHVlc09ubHksXG4gICAgICAgIGZpbHRlcjogZmlsdGVyLFxuICAgICAgICBmb3JtYXR0ZXI6IGZvcm1hdHRlcixcbiAgICAgICAgc2VyaWFsaXplRGF0ZTogdHlwZW9mIG9wdHMuc2VyaWFsaXplRGF0ZSA9PT0gJ2Z1bmN0aW9uJyA/IG9wdHMuc2VyaWFsaXplRGF0ZSA6IGRlZmF1bHRzLnNlcmlhbGl6ZURhdGUsXG4gICAgICAgIHNraXBOdWxsczogdHlwZW9mIG9wdHMuc2tpcE51bGxzID09PSAnYm9vbGVhbicgPyBvcHRzLnNraXBOdWxscyA6IGRlZmF1bHRzLnNraXBOdWxscyxcbiAgICAgICAgc29ydDogdHlwZW9mIG9wdHMuc29ydCA9PT0gJ2Z1bmN0aW9uJyA/IG9wdHMuc29ydCA6IG51bGwsXG4gICAgICAgIHN0cmljdE51bGxIYW5kbGluZzogdHlwZW9mIG9wdHMuc3RyaWN0TnVsbEhhbmRsaW5nID09PSAnYm9vbGVhbicgPyBvcHRzLnN0cmljdE51bGxIYW5kbGluZyA6IGRlZmF1bHRzLnN0cmljdE51bGxIYW5kbGluZ1xuICAgIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChvYmplY3QsIG9wdHMpIHtcbiAgICB2YXIgb2JqID0gb2JqZWN0O1xuICAgIHZhciBvcHRpb25zID0gbm9ybWFsaXplU3RyaW5naWZ5T3B0aW9ucyhvcHRzKTtcblxuICAgIHZhciBvYmpLZXlzO1xuICAgIHZhciBmaWx0ZXI7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMuZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGZpbHRlciA9IG9wdGlvbnMuZmlsdGVyO1xuICAgICAgICBvYmogPSBmaWx0ZXIoJycsIG9iaik7XG4gICAgfSBlbHNlIGlmIChpc0FycmF5KG9wdGlvbnMuZmlsdGVyKSkge1xuICAgICAgICBmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcbiAgICAgICAgb2JqS2V5cyA9IGZpbHRlcjtcbiAgICB9XG5cbiAgICB2YXIga2V5cyA9IFtdO1xuXG4gICAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IG9iaiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgdmFyIGFycmF5Rm9ybWF0O1xuICAgIGlmIChvcHRzICYmIG9wdHMuYXJyYXlGb3JtYXQgaW4gYXJyYXlQcmVmaXhHZW5lcmF0b3JzKSB7XG4gICAgICAgIGFycmF5Rm9ybWF0ID0gb3B0cy5hcnJheUZvcm1hdDtcbiAgICB9IGVsc2UgaWYgKG9wdHMgJiYgJ2luZGljZXMnIGluIG9wdHMpIHtcbiAgICAgICAgYXJyYXlGb3JtYXQgPSBvcHRzLmluZGljZXMgPyAnaW5kaWNlcycgOiAncmVwZWF0JztcbiAgICB9IGVsc2Uge1xuICAgICAgICBhcnJheUZvcm1hdCA9ICdpbmRpY2VzJztcbiAgICB9XG5cbiAgICB2YXIgZ2VuZXJhdGVBcnJheVByZWZpeCA9IGFycmF5UHJlZml4R2VuZXJhdG9yc1thcnJheUZvcm1hdF07XG5cbiAgICBpZiAoIW9iaktleXMpIHtcbiAgICAgICAgb2JqS2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMuc29ydCkge1xuICAgICAgICBvYmpLZXlzLnNvcnQob3B0aW9ucy5zb3J0KTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iaktleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGtleSA9IG9iaktleXNbaV07XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2tpcE51bGxzICYmIG9ialtrZXldID09PSBudWxsKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBwdXNoVG9BcnJheShrZXlzLCBzdHJpbmdpZnkoXG4gICAgICAgICAgICBvYmpba2V5XSxcbiAgICAgICAgICAgIGtleSxcbiAgICAgICAgICAgIGdlbmVyYXRlQXJyYXlQcmVmaXgsXG4gICAgICAgICAgICBvcHRpb25zLnN0cmljdE51bGxIYW5kbGluZyxcbiAgICAgICAgICAgIG9wdGlvbnMuc2tpcE51bGxzLFxuICAgICAgICAgICAgb3B0aW9ucy5lbmNvZGUgPyBvcHRpb25zLmVuY29kZXIgOiBudWxsLFxuICAgICAgICAgICAgb3B0aW9ucy5maWx0ZXIsXG4gICAgICAgICAgICBvcHRpb25zLnNvcnQsXG4gICAgICAgICAgICBvcHRpb25zLmFsbG93RG90cyxcbiAgICAgICAgICAgIG9wdGlvbnMuc2VyaWFsaXplRGF0ZSxcbiAgICAgICAgICAgIG9wdGlvbnMuZm9ybWF0dGVyLFxuICAgICAgICAgICAgb3B0aW9ucy5lbmNvZGVWYWx1ZXNPbmx5LFxuICAgICAgICAgICAgb3B0aW9ucy5jaGFyc2V0XG4gICAgICAgICkpO1xuICAgIH1cblxuICAgIHZhciBqb2luZWQgPSBrZXlzLmpvaW4ob3B0aW9ucy5kZWxpbWl0ZXIpO1xuICAgIHZhciBwcmVmaXggPSBvcHRpb25zLmFkZFF1ZXJ5UHJlZml4ID09PSB0cnVlID8gJz8nIDogJyc7XG5cbiAgICBpZiAob3B0aW9ucy5jaGFyc2V0U2VudGluZWwpIHtcbiAgICAgICAgaWYgKG9wdGlvbnMuY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgICAgICAvLyBlbmNvZGVVUklDb21wb25lbnQoJyYjMTAwMDM7JyksIHRoZSBcIm51bWVyaWMgZW50aXR5XCIgcmVwcmVzZW50YXRpb24gb2YgYSBjaGVja21hcmtcbiAgICAgICAgICAgIHByZWZpeCArPSAndXRmOD0lMjYlMjMxMDAwMyUzQiYnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZW5jb2RlVVJJQ29tcG9uZW50KCfinJMnKVxuICAgICAgICAgICAgcHJlZml4ICs9ICd1dGY4PSVFMiU5QyU5MyYnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGpvaW5lZC5sZW5ndGggPiAwID8gcHJlZml4ICsgam9pbmVkIDogJyc7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgc3RyaW5naWZ5ID0gcmVxdWlyZSgnLi9zdHJpbmdpZnknKTtcbnZhciBwYXJzZSA9IHJlcXVpcmUoJy4vcGFyc2UnKTtcbnZhciBmb3JtYXRzID0gcmVxdWlyZSgnLi9mb3JtYXRzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGZvcm1hdHM6IGZvcm1hdHMsXG4gICAgcGFyc2U6IHBhcnNlLFxuICAgIHN0cmluZ2lmeTogc3RyaW5naWZ5XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY3JlYXRlRXJyb3IgPSByZXF1aXJlKCcuL2NyZWF0ZUVycm9yJyk7XG5cbi8qKlxuICogUmVzb2x2ZSBvciByZWplY3QgYSBQcm9taXNlIGJhc2VkIG9uIHJlc3BvbnNlIHN0YXR1cy5cbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSByZXNvbHZlIEEgZnVuY3Rpb24gdGhhdCByZXNvbHZlcyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IHJlamVjdCBBIGZ1bmN0aW9uIHRoYXQgcmVqZWN0cyB0aGUgcHJvbWlzZS5cbiAqIEBwYXJhbSB7b2JqZWN0fSByZXNwb25zZSBUaGUgcmVzcG9uc2UuXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgcmVzcG9uc2UpIHtcbiAgdmFyIHZhbGlkYXRlU3RhdHVzID0gcmVzcG9uc2UuY29uZmlnLnZhbGlkYXRlU3RhdHVzO1xuICAvLyBOb3RlOiBzdGF0dXMgaXMgbm90IGV4cG9zZWQgYnkgWERvbWFpblJlcXVlc3RcbiAgaWYgKCFyZXNwb25zZS5zdGF0dXMgfHwgIXZhbGlkYXRlU3RhdHVzIHx8IHZhbGlkYXRlU3RhdHVzKHJlc3BvbnNlLnN0YXR1cykpIHtcbiAgICByZXNvbHZlKHJlc3BvbnNlKTtcbiAgfSBlbHNlIHtcbiAgICByZWplY3QoY3JlYXRlRXJyb3IoXG4gICAgICAnUmVxdWVzdCBmYWlsZWQgd2l0aCBzdGF0dXMgY29kZSAnICsgcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgcmVzcG9uc2UuY29uZmlnLFxuICAgICAgbnVsbCxcbiAgICAgIHJlc3BvbnNlLnJlcXVlc3QsXG4gICAgICByZXNwb25zZVxuICAgICkpO1xuICB9XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG52YXIgdHJhbnNmb3JtRGF0YSA9IHJlcXVpcmUoJy4vdHJhbnNmb3JtRGF0YScpO1xudmFyIGlzQ2FuY2VsID0gcmVxdWlyZSgnLi4vY2FuY2VsL2lzQ2FuY2VsJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuLi9kZWZhdWx0cycpO1xudmFyIGlzQWJzb2x1dGVVUkwgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvaXNBYnNvbHV0ZVVSTCcpO1xudmFyIGNvbWJpbmVVUkxzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2NvbWJpbmVVUkxzJyk7XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuZnVuY3Rpb24gdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpIHtcbiAgaWYgKGNvbmZpZy5jYW5jZWxUb2tlbikge1xuICAgIGNvbmZpZy5jYW5jZWxUb2tlbi50aHJvd0lmUmVxdWVzdGVkKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNwYXRjaCBhIHJlcXVlc3QgdG8gdGhlIHNlcnZlciB1c2luZyB0aGUgY29uZmlndXJlZCBhZGFwdGVyLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBjb25maWcgVGhlIGNvbmZpZyB0aGF0IGlzIHRvIGJlIHVzZWQgZm9yIHRoZSByZXF1ZXN0XG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gVGhlIFByb21pc2UgdG8gYmUgZnVsZmlsbGVkXG4gKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZGlzcGF0Y2hSZXF1ZXN0KGNvbmZpZykge1xuICB0aHJvd0lmQ2FuY2VsbGF0aW9uUmVxdWVzdGVkKGNvbmZpZyk7XG5cbiAgLy8gU3VwcG9ydCBiYXNlVVJMIGNvbmZpZ1xuICBpZiAoY29uZmlnLmJhc2VVUkwgJiYgIWlzQWJzb2x1dGVVUkwoY29uZmlnLnVybCkpIHtcbiAgICBjb25maWcudXJsID0gY29tYmluZVVSTHMoY29uZmlnLmJhc2VVUkwsIGNvbmZpZy51cmwpO1xuICB9XG5cbiAgLy8gRW5zdXJlIGhlYWRlcnMgZXhpc3RcbiAgY29uZmlnLmhlYWRlcnMgPSBjb25maWcuaGVhZGVycyB8fCB7fTtcblxuICAvLyBUcmFuc2Zvcm0gcmVxdWVzdCBkYXRhXG4gIGNvbmZpZy5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICBjb25maWcuZGF0YSxcbiAgICBjb25maWcuaGVhZGVycyxcbiAgICBjb25maWcudHJhbnNmb3JtUmVxdWVzdFxuICApO1xuXG4gIC8vIEZsYXR0ZW4gaGVhZGVyc1xuICBjb25maWcuaGVhZGVycyA9IHV0aWxzLm1lcmdlKFxuICAgIGNvbmZpZy5oZWFkZXJzLmNvbW1vbiB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVyc1tjb25maWcubWV0aG9kXSB8fCB7fSxcbiAgICBjb25maWcuaGVhZGVycyB8fCB7fVxuICApO1xuXG4gIHV0aWxzLmZvckVhY2goXG4gICAgWydkZWxldGUnLCAnZ2V0JywgJ2hlYWQnLCAncG9zdCcsICdwdXQnLCAncGF0Y2gnLCAnY29tbW9uJ10sXG4gICAgZnVuY3Rpb24gY2xlYW5IZWFkZXJDb25maWcobWV0aG9kKSB7XG4gICAgICBkZWxldGUgY29uZmlnLmhlYWRlcnNbbWV0aG9kXTtcbiAgICB9XG4gICk7XG5cbiAgdmFyIGFkYXB0ZXIgPSBjb25maWcuYWRhcHRlciB8fCBkZWZhdWx0cy5hZGFwdGVyO1xuXG4gIHJldHVybiBhZGFwdGVyKGNvbmZpZykudGhlbihmdW5jdGlvbiBvbkFkYXB0ZXJSZXNvbHV0aW9uKHJlc3BvbnNlKSB7XG4gICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgLy8gVHJhbnNmb3JtIHJlc3BvbnNlIGRhdGFcbiAgICByZXNwb25zZS5kYXRhID0gdHJhbnNmb3JtRGF0YShcbiAgICAgIHJlc3BvbnNlLmRhdGEsXG4gICAgICByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgY29uZmlnLnRyYW5zZm9ybVJlc3BvbnNlXG4gICAgKTtcblxuICAgIHJldHVybiByZXNwb25zZTtcbiAgfSwgZnVuY3Rpb24gb25BZGFwdGVyUmVqZWN0aW9uKHJlYXNvbikge1xuICAgIGlmICghaXNDYW5jZWwocmVhc29uKSkge1xuICAgICAgdGhyb3dJZkNhbmNlbGxhdGlvblJlcXVlc3RlZChjb25maWcpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gcmVzcG9uc2UgZGF0YVxuICAgICAgaWYgKHJlYXNvbiAmJiByZWFzb24ucmVzcG9uc2UpIHtcbiAgICAgICAgcmVhc29uLnJlc3BvbnNlLmRhdGEgPSB0cmFuc2Zvcm1EYXRhKFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5kYXRhLFxuICAgICAgICAgIHJlYXNvbi5yZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgIGNvbmZpZy50cmFuc2Zvcm1SZXNwb25zZVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBQcm9taXNlLnJlamVjdChyZWFzb24pO1xuICB9KTtcbn07XG4iLCJ2YXIgX3R5cGVvZiA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2YgU3ltYm9sLml0ZXJhdG9yID09PSBcInN5bWJvbFwiID8gZnVuY3Rpb24gKG9iaikge1xuICByZXR1cm4gdHlwZW9mIG9iajtcbn0gOiBmdW5jdGlvbiAob2JqKSB7XG4gIHJldHVybiBvYmogJiYgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9iai5jb25zdHJ1Y3RvciA9PT0gU3ltYm9sICYmIG9iaiAhPT0gU3ltYm9sLnByb3RvdHlwZSA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqO1xufTtcblxuXG5cblxuXG5cblxuXG5cblxuXG52YXIgY2xhc3NDYWxsQ2hlY2sgPSBmdW5jdGlvbiAoaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7XG4gIGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTtcbiAgfVxufTtcblxudmFyIGNyZWF0ZUNsYXNzID0gZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykge1xuICAgIGlmIChwcm90b1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7XG4gICAgaWYgKHN0YXRpY1Byb3BzKSBkZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9O1xufSgpO1xuXG5cblxuXG5cbnZhciBkZWZpbmVQcm9wZXJ0eSA9IGZ1bmN0aW9uIChvYmosIGtleSwgdmFsdWUpIHtcbiAgaWYgKGtleSBpbiBvYmopIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIG9ialtrZXldID0gdmFsdWU7XG4gIH1cblxuICByZXR1cm4gb2JqO1xufTtcblxudmFyIE5PVEhJTkcgPSB0eXBlb2YgU3ltYm9sICE9PSBcInVuZGVmaW5lZFwiID8gU3ltYm9sKFwiaW1tZXItbm90aGluZ1wiKSA6IGRlZmluZVByb3BlcnR5KHt9LCBcImltbWVyLW5vdGhpbmdcIiwgdHJ1ZSk7XG5cbnZhciBEUkFGVF9TVEFURSA9IHR5cGVvZiBTeW1ib2wgIT09IFwidW5kZWZpbmVkXCIgPyBTeW1ib2woXCJpbW1lci1zdGF0ZVwiKSA6IFwiX18kaW1tZXJfc3RhdGVcIjtcblxuZnVuY3Rpb24gaXNEcmFmdCh2YWx1ZSkge1xuICAgIHJldHVybiAhIXZhbHVlICYmICEhdmFsdWVbRFJBRlRfU1RBVEVdO1xufVxuXG5mdW5jdGlvbiBpc0RyYWZ0YWJsZSh2YWx1ZSkge1xuICAgIGlmICghdmFsdWUpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoKHR5cGVvZiB2YWx1ZSA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKHZhbHVlKSkgIT09IFwib2JqZWN0XCIpIHJldHVybiBmYWxzZTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHJldHVybiB0cnVlO1xuICAgIHZhciBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZSk7XG4gICAgcmV0dXJuIHByb3RvID09PSBudWxsIHx8IHByb3RvID09PSBPYmplY3QucHJvdG90eXBlO1xufVxuXG5mdW5jdGlvbiBvcmlnaW5hbCh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSAmJiB2YWx1ZVtEUkFGVF9TVEFURV0pIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlW0RSQUZUX1NUQVRFXS5iYXNlO1xuICAgIH1cbiAgICAvLyBvdGhlcndpc2UgcmV0dXJuIHVuZGVmaW5lZFxufVxuXG52YXIgYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBhc3NpZ24odGFyZ2V0LCB2YWx1ZSkge1xuICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICBpZiAoaGFzKHZhbHVlLCBrZXkpKSB7XG4gICAgICAgICAgICB0YXJnZXRba2V5XSA9IHZhbHVlW2tleV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRhcmdldDtcbn07XG5cbmZ1bmN0aW9uIHNoYWxsb3dDb3B5KHZhbHVlKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKSByZXR1cm4gdmFsdWUuc2xpY2UoKTtcbiAgICB2YXIgdGFyZ2V0ID0gdmFsdWUuX19wcm90b19fID09PSB1bmRlZmluZWQgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge307XG4gICAgcmV0dXJuIGFzc2lnbih0YXJnZXQsIHZhbHVlKTtcbn1cblxuZnVuY3Rpb24gZWFjaCh2YWx1ZSwgY2IpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2YWx1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY2IoaSwgdmFsdWVbaV0sIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgY2Ioa2V5LCB2YWx1ZVtrZXldLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGhhcyh0aGluZywgcHJvcCkge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGhpbmcsIHByb3ApO1xufVxuXG5mdW5jdGlvbiBpcyh4LCB5KSB7XG4gICAgLy8gRnJvbTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL2ZianMvYmxvYi9jNjk5MDRhNTExYjkwMDI2NjkzNTE2ODIyMzA2M2RkODc3MmRmYzQwL3BhY2thZ2VzL2ZianMvc3JjL2NvcmUvc2hhbGxvd0VxdWFsLmpzXG4gICAgaWYgKHggPT09IHkpIHtcbiAgICAgICAgcmV0dXJuIHggIT09IDAgfHwgMSAvIHggPT09IDEgLyB5O1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB4ICE9PSB4ICYmIHkgIT09IHk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZVBhdGNoZXMoc3RhdGUsIGJhc2VQYXRoLCBwYXRjaGVzLCBpbnZlcnNlUGF0Y2hlcykge1xuICAgIEFycmF5LmlzQXJyYXkoc3RhdGUuYmFzZSkgPyBnZW5lcmF0ZUFycmF5UGF0Y2hlcyhzdGF0ZSwgYmFzZVBhdGgsIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKSA6IGdlbmVyYXRlT2JqZWN0UGF0Y2hlcyhzdGF0ZSwgYmFzZVBhdGgsIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVBcnJheVBhdGNoZXMoc3RhdGUsIGJhc2VQYXRoLCBwYXRjaGVzLCBpbnZlcnNlUGF0Y2hlcykge1xuICAgIHZhciBiYXNlID0gc3RhdGUuYmFzZSxcbiAgICAgICAgY29weSA9IHN0YXRlLmNvcHksXG4gICAgICAgIGFzc2lnbmVkID0gc3RhdGUuYXNzaWduZWQ7XG5cbiAgICB2YXIgbWluTGVuZ3RoID0gTWF0aC5taW4oYmFzZS5sZW5ndGgsIGNvcHkubGVuZ3RoKTtcblxuICAgIC8vIExvb2sgZm9yIHJlcGxhY2VkIGluZGljZXMuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtaW5MZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoYXNzaWduZWRbaV0gJiYgYmFzZVtpXSAhPT0gY29weVtpXSkge1xuICAgICAgICAgICAgdmFyIHBhdGggPSBiYXNlUGF0aC5jb25jYXQoaSk7XG4gICAgICAgICAgICBwYXRjaGVzLnB1c2goeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IHBhdGgsIHZhbHVlOiBjb3B5W2ldIH0pO1xuICAgICAgICAgICAgaW52ZXJzZVBhdGNoZXMucHVzaCh7IG9wOiBcInJlcGxhY2VcIiwgcGF0aDogcGF0aCwgdmFsdWU6IGJhc2VbaV0gfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBEaWQgdGhlIGFycmF5IGV4cGFuZD9cbiAgICBpZiAobWluTGVuZ3RoIDwgY29weS5sZW5ndGgpIHtcbiAgICAgICAgZm9yICh2YXIgX2kgPSBtaW5MZW5ndGg7IF9pIDwgY29weS5sZW5ndGg7IF9pKyspIHtcbiAgICAgICAgICAgIHBhdGNoZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgb3A6IFwiYWRkXCIsXG4gICAgICAgICAgICAgICAgcGF0aDogYmFzZVBhdGguY29uY2F0KF9pKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogY29weVtfaV1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGludmVyc2VQYXRjaGVzLnB1c2goe1xuICAgICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgICAgcGF0aDogYmFzZVBhdGguY29uY2F0KFwibGVuZ3RoXCIpLFxuICAgICAgICAgICAgdmFsdWU6IGJhc2UubGVuZ3RoXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIC4uLm9yIGRpZCBpdCBzaHJpbms/XG4gICAgZWxzZSBpZiAobWluTGVuZ3RoIDwgYmFzZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHBhdGNoZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgICAgICAgIHBhdGg6IGJhc2VQYXRoLmNvbmNhdChcImxlbmd0aFwiKSxcbiAgICAgICAgICAgICAgICB2YWx1ZTogY29weS5sZW5ndGhcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZm9yICh2YXIgX2kyID0gbWluTGVuZ3RoOyBfaTIgPCBiYXNlLmxlbmd0aDsgX2kyKyspIHtcbiAgICAgICAgICAgICAgICBpbnZlcnNlUGF0Y2hlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgb3A6IFwiYWRkXCIsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGJhc2VQYXRoLmNvbmNhdChfaTIpLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYmFzZVtfaTJdXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVPYmplY3RQYXRjaGVzKHN0YXRlLCBiYXNlUGF0aCwgcGF0Y2hlcywgaW52ZXJzZVBhdGNoZXMpIHtcbiAgICB2YXIgYmFzZSA9IHN0YXRlLmJhc2UsXG4gICAgICAgIGNvcHkgPSBzdGF0ZS5jb3B5O1xuXG4gICAgZWFjaChzdGF0ZS5hc3NpZ25lZCwgZnVuY3Rpb24gKGtleSwgYXNzaWduZWRWYWx1ZSkge1xuICAgICAgICB2YXIgb3JpZ1ZhbHVlID0gYmFzZVtrZXldO1xuICAgICAgICB2YXIgdmFsdWUgPSBjb3B5W2tleV07XG4gICAgICAgIHZhciBvcCA9ICFhc3NpZ25lZFZhbHVlID8gXCJyZW1vdmVcIiA6IGtleSBpbiBiYXNlID8gXCJyZXBsYWNlXCIgOiBcImFkZFwiO1xuICAgICAgICBpZiAob3JpZ1ZhbHVlID09PSBiYXNlICYmIG9wID09PSBcInJlcGxhY2VcIikgcmV0dXJuO1xuICAgICAgICB2YXIgcGF0aCA9IGJhc2VQYXRoLmNvbmNhdChrZXkpO1xuICAgICAgICBwYXRjaGVzLnB1c2gob3AgPT09IFwicmVtb3ZlXCIgPyB7IG9wOiBvcCwgcGF0aDogcGF0aCB9IDogeyBvcDogb3AsIHBhdGg6IHBhdGgsIHZhbHVlOiB2YWx1ZSB9KTtcbiAgICAgICAgaW52ZXJzZVBhdGNoZXMucHVzaChvcCA9PT0gXCJhZGRcIiA/IHsgb3A6IFwicmVtb3ZlXCIsIHBhdGg6IHBhdGggfSA6IG9wID09PSBcInJlbW92ZVwiID8geyBvcDogXCJhZGRcIiwgcGF0aDogcGF0aCwgdmFsdWU6IG9yaWdWYWx1ZSB9IDogeyBvcDogXCJyZXBsYWNlXCIsIHBhdGg6IHBhdGgsIHZhbHVlOiBvcmlnVmFsdWUgfSk7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIGFwcGx5UGF0Y2hlcyhkcmFmdCwgcGF0Y2hlcykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0Y2hlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcGF0Y2ggPSBwYXRjaGVzW2ldO1xuICAgICAgICB2YXIgcGF0aCA9IHBhdGNoLnBhdGg7XG5cbiAgICAgICAgaWYgKHBhdGgubGVuZ3RoID09PSAwICYmIHBhdGNoLm9wID09PSBcInJlcGxhY2VcIikge1xuICAgICAgICAgICAgZHJhZnQgPSBwYXRjaC52YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhciBiYXNlID0gZHJhZnQ7XG4gICAgICAgICAgICBmb3IgKHZhciBfaTMgPSAwOyBfaTMgPCBwYXRoLmxlbmd0aCAtIDE7IF9pMysrKSB7XG4gICAgICAgICAgICAgICAgYmFzZSA9IGJhc2VbcGF0aFtfaTNdXTtcbiAgICAgICAgICAgICAgICBpZiAoIWJhc2UgfHwgKHR5cGVvZiBiYXNlID09PSBcInVuZGVmaW5lZFwiID8gXCJ1bmRlZmluZWRcIiA6IF90eXBlb2YoYmFzZSkpICE9PSBcIm9iamVjdFwiKSB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgYXBwbHkgcGF0Y2gsIHBhdGggZG9lc24ndCByZXNvbHZlOiBcIiArIHBhdGguam9pbihcIi9cIikpOyAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBrZXkgPSBwYXRoW3BhdGgubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBzd2l0Y2ggKHBhdGNoLm9wKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInJlcGxhY2VcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiYWRkXCI6XG4gICAgICAgICAgICAgICAgICAgIC8vIFRPRE86IGFkZCBzdXBwb3J0IGlzIG5vdCBleHRlbnNpdmUsIGl0IGRvZXMgbm90IHN1cHBvcnQgaW5zZXJ0aW9uIG9yIGAtYCBhdG0hXG4gICAgICAgICAgICAgICAgICAgIGJhc2Vba2V5XSA9IHBhdGNoLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwicmVtb3ZlXCI6XG4gICAgICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGJhc2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ICE9PSBiYXNlLmxlbmd0aCAtIDEpIHRocm93IG5ldyBFcnJvcihcIk9ubHkgdGhlIGxhc3QgaW5kZXggb2YgYW4gYXJyYXkgY2FuIGJlIHJlbW92ZWQsIGluZGV4OiBcIiArIGtleSArIFwiLCBsZW5ndGg6IFwiICsgYmFzZS5sZW5ndGgpOyAvLyBwcmV0dGllci1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgICAgIGJhc2UubGVuZ3RoIC09IDE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYmFzZVtrZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuc3VwcG9ydGVkIHBhdGNoIG9wZXJhdGlvbjogXCIgKyBwYXRjaC5vcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGRyYWZ0O1xufVxuXG4vLyBAdHMtY2hlY2tcblxudmFyIGRlc2NyaXB0b3JzID0ge307XG5cbi8vIEZvciBuZXN0ZWQgcHJvZHVjZSBjYWxsczpcbnZhciBzY29wZXMgPSBbXTtcbnZhciBjdXJyZW50U2NvcGUgPSBmdW5jdGlvbiBjdXJyZW50U2NvcGUoKSB7XG4gICAgcmV0dXJuIHNjb3Blc1tzY29wZXMubGVuZ3RoIC0gMV07XG59O1xuXG5mdW5jdGlvbiB3aWxsRmluYWxpemUocmVzdWx0LCBiYXNlRHJhZnQsIG5lZWRQYXRjaGVzKSB7XG4gICAgdmFyIHNjb3BlID0gY3VycmVudFNjb3BlKCk7XG4gICAgc2NvcGUuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLmZpbmFsaXppbmcgPSB0cnVlO1xuICAgIH0pO1xuICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCB8fCByZXN1bHQgPT09IGJhc2VEcmFmdCkge1xuICAgICAgICBpZiAobmVlZFBhdGNoZXMpIG1hcmtDaGFuZ2VzUmVjdXJzaXZlbHkoYmFzZURyYWZ0KTtcbiAgICAgICAgLy8gVGhpcyBpcyBmYXN0ZXIgd2hlbiB3ZSBkb24ndCBjYXJlIGFib3V0IHdoaWNoIGF0dHJpYnV0ZXMgY2hhbmdlZC5cbiAgICAgICAgbWFya0NoYW5nZXNTd2VlcChzY29wZSk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBjcmVhdGVEcmFmdChiYXNlLCBwYXJlbnQpIHtcbiAgICB2YXIgZHJhZnQgPSB2b2lkIDA7XG4gICAgaWYgKGlzRHJhZnQoYmFzZSkpIHtcbiAgICAgICAgdmFyIF9zdGF0ZSA9IGJhc2VbRFJBRlRfU1RBVEVdO1xuICAgICAgICAvLyBBdm9pZCBjcmVhdGluZyBuZXcgZHJhZnRzIHdoZW4gY29weWluZy5cbiAgICAgICAgX3N0YXRlLmZpbmFsaXppbmcgPSB0cnVlO1xuICAgICAgICBkcmFmdCA9IHNoYWxsb3dDb3B5KF9zdGF0ZS5kcmFmdCk7XG4gICAgICAgIF9zdGF0ZS5maW5hbGl6aW5nID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZHJhZnQgPSBzaGFsbG93Q29weShiYXNlKTtcbiAgICB9XG4gICAgZWFjaChiYXNlLCBmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZHJhZnQsIFwiXCIgKyBwcm9wLCBjcmVhdGVQcm9wZXJ0eVByb3h5KFwiXCIgKyBwcm9wKSk7XG4gICAgfSk7XG5cbiAgICAvLyBTZWUgXCJwcm94eS5qc1wiIGZvciBwcm9wZXJ0eSBkb2N1bWVudGF0aW9uLlxuICAgIHZhciBzdGF0ZSA9IHtcbiAgICAgICAgc2NvcGU6IHBhcmVudCA/IHBhcmVudC5zY29wZSA6IGN1cnJlbnRTY29wZSgpLFxuICAgICAgICBtb2RpZmllZDogZmFsc2UsXG4gICAgICAgIGZpbmFsaXppbmc6IGZhbHNlLCAvLyBlczUgb25seVxuICAgICAgICBmaW5hbGl6ZWQ6IGZhbHNlLFxuICAgICAgICBhc3NpZ25lZDoge30sXG4gICAgICAgIHBhcmVudDogcGFyZW50LFxuICAgICAgICBiYXNlOiBiYXNlLFxuICAgICAgICBkcmFmdDogZHJhZnQsXG4gICAgICAgIGNvcHk6IG51bGwsXG4gICAgICAgIHJldm9rZTogcmV2b2tlLFxuICAgICAgICByZXZva2VkOiBmYWxzZSAvLyBlczUgb25seVxuICAgIH07XG5cbiAgICBjcmVhdGVIaWRkZW5Qcm9wZXJ0eShkcmFmdCwgRFJBRlRfU1RBVEUsIHN0YXRlKTtcbiAgICBzdGF0ZS5zY29wZS5wdXNoKHN0YXRlKTtcbiAgICByZXR1cm4gZHJhZnQ7XG59XG5cbmZ1bmN0aW9uIHJldm9rZSgpIHtcbiAgICB0aGlzLnJldm9rZWQgPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBzb3VyY2Uoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUuY29weSB8fCBzdGF0ZS5iYXNlO1xufVxuXG5mdW5jdGlvbiBfZ2V0KHN0YXRlLCBwcm9wKSB7XG4gICAgYXNzZXJ0VW5yZXZva2VkKHN0YXRlKTtcbiAgICB2YXIgdmFsdWUgPSBzb3VyY2Uoc3RhdGUpW3Byb3BdO1xuICAgIC8vIERyYWZ0cyBhcmUgb25seSBjcmVhdGVkIGZvciBwcm94eWFibGUgdmFsdWVzIHRoYXQgZXhpc3QgaW4gdGhlIGJhc2Ugc3RhdGUuXG4gICAgaWYgKCFzdGF0ZS5maW5hbGl6aW5nICYmIHZhbHVlID09PSBzdGF0ZS5iYXNlW3Byb3BdICYmIGlzRHJhZnRhYmxlKHZhbHVlKSkge1xuICAgICAgICBwcmVwYXJlQ29weShzdGF0ZSk7XG4gICAgICAgIHJldHVybiBzdGF0ZS5jb3B5W3Byb3BdID0gY3JlYXRlRHJhZnQodmFsdWUsIHN0YXRlKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiBfc2V0KHN0YXRlLCBwcm9wLCB2YWx1ZSkge1xuICAgIGFzc2VydFVucmV2b2tlZChzdGF0ZSk7XG4gICAgc3RhdGUuYXNzaWduZWRbcHJvcF0gPSB0cnVlO1xuICAgIGlmICghc3RhdGUubW9kaWZpZWQpIHtcbiAgICAgICAgaWYgKGlzKHNvdXJjZShzdGF0ZSlbcHJvcF0sIHZhbHVlKSkgcmV0dXJuO1xuICAgICAgICBtYXJrQ2hhbmdlZChzdGF0ZSk7XG4gICAgICAgIHByZXBhcmVDb3B5KHN0YXRlKTtcbiAgICB9XG4gICAgc3RhdGUuY29weVtwcm9wXSA9IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBtYXJrQ2hhbmdlZChzdGF0ZSkge1xuICAgIGlmICghc3RhdGUubW9kaWZpZWQpIHtcbiAgICAgICAgc3RhdGUubW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICBpZiAoc3RhdGUucGFyZW50KSBtYXJrQ2hhbmdlZChzdGF0ZS5wYXJlbnQpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gcHJlcGFyZUNvcHkoc3RhdGUpIHtcbiAgICBpZiAoIXN0YXRlLmNvcHkpIHN0YXRlLmNvcHkgPSBzaGFsbG93Q29weShzdGF0ZS5iYXNlKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUHJvcGVydHlQcm94eShwcm9wKSB7XG4gICAgcmV0dXJuIGRlc2NyaXB0b3JzW3Byb3BdIHx8IChkZXNjcmlwdG9yc1twcm9wXSA9IHtcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgICAgICBlbnVtZXJhYmxlOiB0cnVlLFxuICAgICAgICBnZXQ6IGZ1bmN0aW9uIGdldCQkMSgpIHtcbiAgICAgICAgICAgIHJldHVybiBfZ2V0KHRoaXNbRFJBRlRfU1RBVEVdLCBwcm9wKTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0OiBmdW5jdGlvbiBzZXQkJDEodmFsdWUpIHtcbiAgICAgICAgICAgIF9zZXQodGhpc1tEUkFGVF9TVEFURV0sIHByb3AsIHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH0pO1xufVxuXG5mdW5jdGlvbiBhc3NlcnRVbnJldm9rZWQoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUucmV2b2tlZCA9PT0gdHJ1ZSkgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHVzZSBhIHByb3h5IHRoYXQgaGFzIGJlZW4gcmV2b2tlZC4gRGlkIHlvdSBwYXNzIGFuIG9iamVjdCBmcm9tIGluc2lkZSBhbiBpbW1lciBmdW5jdGlvbiB0byBhbiBhc3luYyBwcm9jZXNzPyBcIiArIEpTT04uc3RyaW5naWZ5KHN0YXRlLmNvcHkgfHwgc3RhdGUuYmFzZSkpO1xufVxuXG4vLyBUaGlzIGxvb2tzIGV4cGVuc2l2ZSwgYnV0IG9ubHkgcHJveGllcyBhcmUgdmlzaXRlZCwgYW5kIG9ubHkgb2JqZWN0cyB3aXRob3V0IGtub3duIGNoYW5nZXMgYXJlIHNjYW5uZWQuXG5mdW5jdGlvbiBtYXJrQ2hhbmdlc1N3ZWVwKHNjb3BlKSB7XG4gICAgLy8gVGhlIG5hdHVyYWwgb3JkZXIgb2YgZHJhZnRzIGluIHRoZSBgc2NvcGVgIGFycmF5IGlzIGJhc2VkIG9uIHdoZW4gdGhleVxuICAgIC8vIHdlcmUgYWNjZXNzZWQuIEJ5IHByb2Nlc3NpbmcgZHJhZnRzIGluIHJldmVyc2UgbmF0dXJhbCBvcmRlciwgd2UgaGF2ZSBhXG4gICAgLy8gYmV0dGVyIGNoYW5jZSBvZiBwcm9jZXNzaW5nIGxlYWYgbm9kZXMgZmlyc3QuIFdoZW4gYSBsZWFmIG5vZGUgaXMga25vd24gdG9cbiAgICAvLyBoYXZlIGNoYW5nZWQsIHdlIGNhbiBhdm9pZCBhbnkgdHJhdmVyc2FsIG9mIGl0cyBhbmNlc3RvciBub2Rlcy5cbiAgICBmb3IgKHZhciBpID0gc2NvcGUubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgdmFyIHN0YXRlID0gc2NvcGVbaV07XG4gICAgICAgIGlmIChzdGF0ZS5tb2RpZmllZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHN0YXRlLmJhc2UpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGhhc0FycmF5Q2hhbmdlcyhzdGF0ZSkpIG1hcmtDaGFuZ2VkKHN0YXRlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoaGFzT2JqZWN0Q2hhbmdlcyhzdGF0ZSkpIG1hcmtDaGFuZ2VkKHN0YXRlKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gbWFya0NoYW5nZXNSZWN1cnNpdmVseShvYmplY3QpIHtcbiAgICBpZiAoIW9iamVjdCB8fCAodHlwZW9mIG9iamVjdCA9PT0gXCJ1bmRlZmluZWRcIiA/IFwidW5kZWZpbmVkXCIgOiBfdHlwZW9mKG9iamVjdCkpICE9PSBcIm9iamVjdFwiKSByZXR1cm47XG4gICAgdmFyIHN0YXRlID0gb2JqZWN0W0RSQUZUX1NUQVRFXTtcbiAgICBpZiAoIXN0YXRlKSByZXR1cm47XG4gICAgdmFyIGJhc2UgPSBzdGF0ZS5iYXNlLFxuICAgICAgICBkcmFmdCA9IHN0YXRlLmRyYWZ0LFxuICAgICAgICBhc3NpZ25lZCA9IHN0YXRlLmFzc2lnbmVkO1xuXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG9iamVjdCkpIHtcbiAgICAgICAgLy8gTG9vayBmb3IgYWRkZWQga2V5cy5cbiAgICAgICAgT2JqZWN0LmtleXMoZHJhZnQpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgLy8gVGhlIGB1bmRlZmluZWRgIGNoZWNrIGlzIGEgZmFzdCBwYXRoIGZvciBwcmUtZXhpc3Rpbmcga2V5cy5cbiAgICAgICAgICAgIGlmIChiYXNlW2tleV0gPT09IHVuZGVmaW5lZCAmJiAhaGFzKGJhc2UsIGtleSkpIHtcbiAgICAgICAgICAgICAgICBhc3NpZ25lZFtrZXldID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBtYXJrQ2hhbmdlZChzdGF0ZSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFhc3NpZ25lZFtrZXldKSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSB1bnRvdWNoZWQgcHJvcGVydGllcyB0cmlnZ2VyIHJlY3Vyc2lvbi5cbiAgICAgICAgICAgICAgICBtYXJrQ2hhbmdlc1JlY3Vyc2l2ZWx5KGRyYWZ0W2tleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gTG9vayBmb3IgcmVtb3ZlZCBrZXlzLlxuICAgICAgICBPYmplY3Qua2V5cyhiYXNlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgIC8vIFRoZSBgdW5kZWZpbmVkYCBjaGVjayBpcyBhIGZhc3QgcGF0aCBmb3IgcHJlLWV4aXN0aW5nIGtleXMuXG4gICAgICAgICAgICBpZiAoZHJhZnRba2V5XSA9PT0gdW5kZWZpbmVkICYmICFoYXMoZHJhZnQsIGtleSkpIHtcbiAgICAgICAgICAgICAgICBhc3NpZ25lZFtrZXldID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgbWFya0NoYW5nZWQoc3RhdGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGhhc0FycmF5Q2hhbmdlcyhzdGF0ZSkpIHtcbiAgICAgICAgbWFya0NoYW5nZWQoc3RhdGUpO1xuICAgICAgICBhc3NpZ25lZC5sZW5ndGggPSB0cnVlO1xuICAgICAgICBpZiAoZHJhZnQubGVuZ3RoIDwgYmFzZS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBkcmFmdC5sZW5ndGg7IGkgPCBiYXNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYXNzaWduZWRbaV0gPSBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZvciAodmFyIF9pID0gYmFzZS5sZW5ndGg7IF9pIDwgZHJhZnQubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgYXNzaWduZWRbX2ldID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBkcmFmdC5sZW5ndGg7IF9pMisrKSB7XG4gICAgICAgICAgICAvLyBPbmx5IHVudG91Y2hlZCBpbmRpY2VzIHRyaWdnZXIgcmVjdXJzaW9uLlxuICAgICAgICAgICAgaWYgKGFzc2lnbmVkW19pMl0gPT09IHVuZGVmaW5lZCkgbWFya0NoYW5nZXNSZWN1cnNpdmVseShkcmFmdFtfaTJdKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZnVuY3Rpb24gaGFzT2JqZWN0Q2hhbmdlcyhzdGF0ZSkge1xuICAgIHZhciBiYXNlID0gc3RhdGUuYmFzZSxcbiAgICAgICAgZHJhZnQgPSBzdGF0ZS5kcmFmdDtcblxuICAgIC8vIFNlYXJjaCBmb3IgYWRkZWQga2V5cy4gU3RhcnQgYXQgdGhlIGJhY2ssIGJlY2F1c2Ugbm9uLW51bWVyaWMga2V5c1xuICAgIC8vIGFyZSBvcmRlcmVkIGJ5IHRpbWUgb2YgZGVmaW5pdGlvbiBvbiB0aGUgb2JqZWN0LlxuXG4gICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhkcmFmdCk7XG4gICAgZm9yICh2YXIgaSA9IGtleXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgLy8gVGhlIGB1bmRlZmluZWRgIGNoZWNrIGlzIGEgZmFzdCBwYXRoIGZvciBwcmUtZXhpc3Rpbmcga2V5cy5cbiAgICAgICAgaWYgKGJhc2Vba2V5c1tpXV0gPT09IHVuZGVmaW5lZCAmJiAhaGFzKGJhc2UsIGtleXNbaV0pKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNpbmNlIG5vIGtleXMgaGF2ZSBiZWVuIGFkZGVkLCB3ZSBjYW4gY29tcGFyZSBsZW5ndGhzIHRvIGtub3cgaWYgYW5cbiAgICAvLyBvYmplY3QgaGFzIGJlZW4gZGVsZXRlZC5cbiAgICByZXR1cm4ga2V5cy5sZW5ndGggIT09IE9iamVjdC5rZXlzKGJhc2UpLmxlbmd0aDtcbn1cblxuZnVuY3Rpb24gaGFzQXJyYXlDaGFuZ2VzKHN0YXRlKSB7XG4gICAgdmFyIGRyYWZ0ID0gc3RhdGUuZHJhZnQ7XG5cbiAgICBpZiAoZHJhZnQubGVuZ3RoICE9PSBzdGF0ZS5iYXNlLmxlbmd0aCkgcmV0dXJuIHRydWU7XG4gICAgLy8gU2VlICMxMTZcbiAgICAvLyBJZiB3ZSBmaXJzdCBzaG9ydGVuIHRoZSBsZW5ndGgsIG91ciBhcnJheSBpbnRlcmNlcHRvcnMgd2lsbCBiZSByZW1vdmVkLlxuICAgIC8vIElmIGFmdGVyIHRoYXQgbmV3IGl0ZW1zIGFyZSBhZGRlZCwgcmVzdWx0IGluIHRoZSBzYW1lIG9yaWdpbmFsIGxlbmd0aCxcbiAgICAvLyB0aG9zZSBsYXN0IGl0ZW1zIHdpbGwgaGF2ZSBubyBpbnRlcmNlcHRpbmcgcHJvcGVydHkuXG4gICAgLy8gU28gaWYgdGhlcmUgaXMgbm8gb3duIGRlc2NyaXB0b3Igb24gdGhlIGxhc3QgcG9zaXRpb24sIHdlIGtub3cgdGhhdCBpdGVtcyB3ZXJlIHJlbW92ZWQgYW5kIGFkZGVkXG4gICAgLy8gTi5CLjogc3BsaWNlLCB1bnNoaWZ0LCBldGMgb25seSBzaGlmdCB2YWx1ZXMgYXJvdW5kLCBidXQgbm90IHByb3AgZGVzY3JpcHRvcnMsIHNvIHdlIG9ubHkgaGF2ZSB0byBjaGVja1xuICAgIC8vIHRoZSBsYXN0IG9uZVxuICAgIHZhciBkZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihkcmFmdCwgZHJhZnQubGVuZ3RoIC0gMSk7XG4gICAgLy8gZGVzY3JpcHRvciBjYW4gYmUgbnVsbCwgYnV0IG9ubHkgZm9yIG5ld2x5IGNyZWF0ZWQgc3BhcnNlIGFycmF5cywgZWcuIG5ldyBBcnJheSgxMClcbiAgICBpZiAoZGVzY3JpcHRvciAmJiAhZGVzY3JpcHRvci5nZXQpIHJldHVybiB0cnVlO1xuICAgIC8vIEZvciBhbGwgb3RoZXIgY2FzZXMsIHdlIGRvbid0IGhhdmUgdG8gY29tcGFyZSwgYXMgdGhleSB3b3VsZCBoYXZlIGJlZW4gcGlja2VkIHVwIGJ5IHRoZSBpbmRleCBzZXR0ZXJzXG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVIaWRkZW5Qcm9wZXJ0eSh0YXJnZXQsIHByb3AsIHZhbHVlKSB7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgcHJvcCwge1xuICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZVxuICAgIH0pO1xufVxuXG5cblxudmFyIGxlZ2FjeVByb3h5ID0gT2JqZWN0LmZyZWV6ZSh7XG5cdHNjb3Blczogc2NvcGVzLFxuXHRjdXJyZW50U2NvcGU6IGN1cnJlbnRTY29wZSxcblx0d2lsbEZpbmFsaXplOiB3aWxsRmluYWxpemUsXG5cdGNyZWF0ZURyYWZ0OiBjcmVhdGVEcmFmdFxufSk7XG5cbi8vIEB0cy1jaGVja1xuXG4vLyBGb3IgbmVzdGVkIHByb2R1Y2UgY2FsbHM6XG52YXIgc2NvcGVzJDEgPSBbXTtcbnZhciBjdXJyZW50U2NvcGUkMSA9IGZ1bmN0aW9uIGN1cnJlbnRTY29wZSgpIHtcbiAgICByZXR1cm4gc2NvcGVzJDFbc2NvcGVzJDEubGVuZ3RoIC0gMV07XG59O1xuXG4vLyBEbyBub3RoaW5nIGJlZm9yZSBiZWluZyBmaW5hbGl6ZWQuXG5mdW5jdGlvbiB3aWxsRmluYWxpemUkMSgpIHt9XG5cbmZ1bmN0aW9uIGNyZWF0ZURyYWZ0JDEoYmFzZSwgcGFyZW50KSB7XG4gICAgdmFyIHN0YXRlID0ge1xuICAgICAgICAvLyBUcmFjayB3aGljaCBwcm9kdWNlIGNhbGwgdGhpcyBpcyBhc3NvY2lhdGVkIHdpdGguXG4gICAgICAgIHNjb3BlOiBwYXJlbnQgPyBwYXJlbnQuc2NvcGUgOiBjdXJyZW50U2NvcGUkMSgpLFxuICAgICAgICAvLyBUcnVlIGZvciBib3RoIHNoYWxsb3cgYW5kIGRlZXAgY2hhbmdlcy5cbiAgICAgICAgbW9kaWZpZWQ6IGZhbHNlLFxuICAgICAgICAvLyBVc2VkIGR1cmluZyBmaW5hbGl6YXRpb24uXG4gICAgICAgIGZpbmFsaXplZDogZmFsc2UsXG4gICAgICAgIC8vIFRyYWNrIHdoaWNoIHByb3BlcnRpZXMgaGF2ZSBiZWVuIGFzc2lnbmVkICh0cnVlKSBvciBkZWxldGVkIChmYWxzZSkuXG4gICAgICAgIGFzc2lnbmVkOiB7fSxcbiAgICAgICAgLy8gVGhlIHBhcmVudCBkcmFmdCBzdGF0ZS5cbiAgICAgICAgcGFyZW50OiBwYXJlbnQsXG4gICAgICAgIC8vIFRoZSBiYXNlIHN0YXRlLlxuICAgICAgICBiYXNlOiBiYXNlLFxuICAgICAgICAvLyBUaGUgYmFzZSBwcm94eS5cbiAgICAgICAgZHJhZnQ6IG51bGwsXG4gICAgICAgIC8vIEFueSBwcm9wZXJ0eSBwcm94aWVzLlxuICAgICAgICBkcmFmdHM6IHt9LFxuICAgICAgICAvLyBUaGUgYmFzZSBjb3B5IHdpdGggYW55IHVwZGF0ZWQgdmFsdWVzLlxuICAgICAgICBjb3B5OiBudWxsLFxuICAgICAgICAvLyBDYWxsZWQgYnkgdGhlIGBwcm9kdWNlYCBmdW5jdGlvbi5cbiAgICAgICAgcmV2b2tlOiBudWxsXG4gICAgfTtcblxuICAgIHZhciBfcmVmID0gQXJyYXkuaXNBcnJheShiYXNlKSA/IFByb3h5LnJldm9jYWJsZShbc3RhdGVdLCBhcnJheVRyYXBzKSA6IFByb3h5LnJldm9jYWJsZShzdGF0ZSwgb2JqZWN0VHJhcHMpLFxuICAgICAgICByZXZva2UgPSBfcmVmLnJldm9rZSxcbiAgICAgICAgcHJveHkgPSBfcmVmLnByb3h5O1xuXG4gICAgc3RhdGUuZHJhZnQgPSBwcm94eTtcbiAgICBzdGF0ZS5yZXZva2UgPSByZXZva2U7XG5cbiAgICBzdGF0ZS5zY29wZS5wdXNoKHN0YXRlKTtcbiAgICByZXR1cm4gcHJveHk7XG59XG5cbnZhciBvYmplY3RUcmFwcyA9IHtcbiAgICBnZXQ6IGdldCQxLFxuICAgIGhhczogZnVuY3Rpb24gaGFzJCQxKHRhcmdldCwgcHJvcCkge1xuICAgICAgICByZXR1cm4gcHJvcCBpbiBzb3VyY2UkMSh0YXJnZXQpO1xuICAgIH0sXG4gICAgb3duS2V5czogZnVuY3Rpb24gb3duS2V5cyh0YXJnZXQpIHtcbiAgICAgICAgcmV0dXJuIFJlZmxlY3Qub3duS2V5cyhzb3VyY2UkMSh0YXJnZXQpKTtcbiAgICB9LFxuXG4gICAgc2V0OiBzZXQkMSxcbiAgICBkZWxldGVQcm9wZXJ0eTogZGVsZXRlUHJvcGVydHksXG4gICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yOiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IsXG4gICAgZGVmaW5lUHJvcGVydHk6IGRlZmluZVByb3BlcnR5JDEsXG4gICAgc2V0UHJvdG90eXBlT2Y6IGZ1bmN0aW9uIHNldFByb3RvdHlwZU9mKCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbW1lciBkb2VzIG5vdCBzdXBwb3J0IGBzZXRQcm90b3R5cGVPZigpYC5cIik7XG4gICAgfVxufTtcblxudmFyIGFycmF5VHJhcHMgPSB7fTtcbmVhY2gob2JqZWN0VHJhcHMsIGZ1bmN0aW9uIChrZXksIGZuKSB7XG4gICAgYXJyYXlUcmFwc1trZXldID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBhcmd1bWVudHNbMF0gPSBhcmd1bWVudHNbMF1bMF07XG4gICAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG59KTtcbmFycmF5VHJhcHMuZGVsZXRlUHJvcGVydHkgPSBmdW5jdGlvbiAoc3RhdGUsIHByb3ApIHtcbiAgICBpZiAoaXNOYU4ocGFyc2VJbnQocHJvcCkpKSB0aHJvdyBuZXcgRXJyb3IoXCJJbW1lciBkb2VzIG5vdCBzdXBwb3J0IGRlbGV0aW5nIHByb3BlcnRpZXMgZnJvbSBhcnJheXM6IFwiICsgcHJvcCk7XG4gICAgcmV0dXJuIG9iamVjdFRyYXBzLmRlbGV0ZVByb3BlcnR5LmNhbGwodGhpcywgc3RhdGVbMF0sIHByb3ApO1xufTtcbmFycmF5VHJhcHMuc2V0ID0gZnVuY3Rpb24gKHN0YXRlLCBwcm9wLCB2YWx1ZSkge1xuICAgIGlmIChwcm9wICE9PSBcImxlbmd0aFwiICYmIGlzTmFOKHBhcnNlSW50KHByb3ApKSkgdGhyb3cgbmV3IEVycm9yKFwiSW1tZXIgZG9lcyBub3Qgc3VwcG9ydCBzZXR0aW5nIG5vbi1udW1lcmljIHByb3BlcnRpZXMgb24gYXJyYXlzOiBcIiArIHByb3ApO1xuICAgIHJldHVybiBvYmplY3RUcmFwcy5zZXQuY2FsbCh0aGlzLCBzdGF0ZVswXSwgcHJvcCwgdmFsdWUpO1xufTtcblxuZnVuY3Rpb24gc291cmNlJDEoc3RhdGUpIHtcbiAgICByZXR1cm4gc3RhdGUuY29weSB8fCBzdGF0ZS5iYXNlO1xufVxuXG5mdW5jdGlvbiBnZXQkMShzdGF0ZSwgcHJvcCkge1xuICAgIGlmIChwcm9wID09PSBEUkFGVF9TVEFURSkgcmV0dXJuIHN0YXRlO1xuICAgIHZhciBkcmFmdHMgPSBzdGF0ZS5kcmFmdHM7XG5cbiAgICAvLyBDaGVjayBmb3IgZXhpc3RpbmcgZHJhZnQgaW4gdW5tb2RpZmllZCBzdGF0ZS5cblxuICAgIGlmICghc3RhdGUubW9kaWZpZWQgJiYgaGFzKGRyYWZ0cywgcHJvcCkpIHtcbiAgICAgICAgcmV0dXJuIGRyYWZ0c1twcm9wXTtcbiAgICB9XG5cbiAgICB2YXIgdmFsdWUgPSBzb3VyY2UkMShzdGF0ZSlbcHJvcF07XG4gICAgaWYgKHN0YXRlLmZpbmFsaXplZCB8fCAhaXNEcmFmdGFibGUodmFsdWUpKSByZXR1cm4gdmFsdWU7XG5cbiAgICAvLyBDaGVjayBmb3IgZXhpc3RpbmcgZHJhZnQgaW4gbW9kaWZpZWQgc3RhdGUuXG4gICAgaWYgKHN0YXRlLm1vZGlmaWVkKSB7XG4gICAgICAgIC8vIEFzc2lnbmVkIHZhbHVlcyBhcmUgbmV2ZXIgZHJhZnRlZC4gVGhpcyBjYXRjaGVzIGFueSBkcmFmdHMgd2UgY3JlYXRlZCwgdG9vLlxuICAgICAgICBpZiAodmFsdWUgIT09IHN0YXRlLmJhc2VbcHJvcF0pIHJldHVybiB2YWx1ZTtcbiAgICAgICAgLy8gU3RvcmUgZHJhZnRzIG9uIHRoZSBjb3B5ICh3aGVuIG9uZSBleGlzdHMpLlxuICAgICAgICBkcmFmdHMgPSBzdGF0ZS5jb3B5O1xuICAgIH1cblxuICAgIHJldHVybiBkcmFmdHNbcHJvcF0gPSBjcmVhdGVEcmFmdCQxKHZhbHVlLCBzdGF0ZSk7XG59XG5cbmZ1bmN0aW9uIHNldCQxKHN0YXRlLCBwcm9wLCB2YWx1ZSkge1xuICAgIGlmICghc3RhdGUubW9kaWZpZWQpIHtcbiAgICAgICAgLy8gT3B0aW1pemUgYmFzZWQgb24gdmFsdWUncyB0cnV0aGluZXNzLiBUcnV0aHkgdmFsdWVzIGFyZSBndWFyYW50ZWVkIHRvXG4gICAgICAgIC8vIG5ldmVyIGJlIHVuZGVmaW5lZCwgc28gd2UgY2FuIGF2b2lkIHRoZSBgaW5gIG9wZXJhdG9yLiBMYXN0bHksIHRydXRoeVxuICAgICAgICAvLyB2YWx1ZXMgbWF5IGJlIGRyYWZ0cywgYnV0IGZhbHN5IHZhbHVlcyBhcmUgbmV2ZXIgZHJhZnRzLlxuICAgICAgICB2YXIgaXNVbmNoYW5nZWQgPSB2YWx1ZSA/IGlzKHN0YXRlLmJhc2VbcHJvcF0sIHZhbHVlKSB8fCB2YWx1ZSA9PT0gc3RhdGUuZHJhZnRzW3Byb3BdIDogaXMoc3RhdGUuYmFzZVtwcm9wXSwgdmFsdWUpICYmIHByb3AgaW4gc3RhdGUuYmFzZTtcbiAgICAgICAgaWYgKGlzVW5jaGFuZ2VkKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgbWFya0NoYW5nZWQkMShzdGF0ZSk7XG4gICAgfVxuICAgIHN0YXRlLmFzc2lnbmVkW3Byb3BdID0gdHJ1ZTtcbiAgICBzdGF0ZS5jb3B5W3Byb3BdID0gdmFsdWU7XG4gICAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGRlbGV0ZVByb3BlcnR5KHN0YXRlLCBwcm9wKSB7XG4gICAgLy8gVGhlIGB1bmRlZmluZWRgIGNoZWNrIGlzIGEgZmFzdCBwYXRoIGZvciBwcmUtZXhpc3Rpbmcga2V5cy5cbiAgICBpZiAoc3RhdGUuYmFzZVtwcm9wXSAhPT0gdW5kZWZpbmVkIHx8IHByb3AgaW4gc3RhdGUuYmFzZSkge1xuICAgICAgICBzdGF0ZS5hc3NpZ25lZFtwcm9wXSA9IGZhbHNlO1xuICAgICAgICBtYXJrQ2hhbmdlZCQxKHN0YXRlKTtcbiAgICB9XG4gICAgaWYgKHN0YXRlLmNvcHkpIGRlbGV0ZSBzdGF0ZS5jb3B5W3Byb3BdO1xuICAgIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc3RhdGUsIHByb3ApIHtcbiAgICB2YXIgb3duZXIgPSBzdGF0ZS5tb2RpZmllZCA/IHN0YXRlLmNvcHkgOiBoYXMoc3RhdGUuZHJhZnRzLCBwcm9wKSA/IHN0YXRlLmRyYWZ0cyA6IHN0YXRlLmJhc2U7XG4gICAgdmFyIGRlc2NyaXB0b3IgPSBSZWZsZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvd25lciwgcHJvcCk7XG4gICAgaWYgKGRlc2NyaXB0b3IgJiYgIShBcnJheS5pc0FycmF5KG93bmVyKSAmJiBwcm9wID09PSBcImxlbmd0aFwiKSkgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgIHJldHVybiBkZXNjcmlwdG9yO1xufVxuXG5mdW5jdGlvbiBkZWZpbmVQcm9wZXJ0eSQxKCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkltbWVyIGRvZXMgbm90IHN1cHBvcnQgZGVmaW5pbmcgcHJvcGVydGllcyBvbiBkcmFmdCBvYmplY3RzLlwiKTtcbn1cblxuZnVuY3Rpb24gbWFya0NoYW5nZWQkMShzdGF0ZSkge1xuICAgIGlmICghc3RhdGUubW9kaWZpZWQpIHtcbiAgICAgICAgc3RhdGUubW9kaWZpZWQgPSB0cnVlO1xuICAgICAgICBzdGF0ZS5jb3B5ID0gYXNzaWduKHNoYWxsb3dDb3B5KHN0YXRlLmJhc2UpLCBzdGF0ZS5kcmFmdHMpO1xuICAgICAgICBzdGF0ZS5kcmFmdHMgPSBudWxsO1xuICAgICAgICBpZiAoc3RhdGUucGFyZW50KSBtYXJrQ2hhbmdlZCQxKHN0YXRlLnBhcmVudCk7XG4gICAgfVxufVxuXG52YXIgbW9kZXJuUHJveHkgPSBPYmplY3QuZnJlZXplKHtcblx0c2NvcGVzOiBzY29wZXMkMSxcblx0Y3VycmVudFNjb3BlOiBjdXJyZW50U2NvcGUkMSxcblx0d2lsbEZpbmFsaXplOiB3aWxsRmluYWxpemUkMSxcblx0Y3JlYXRlRHJhZnQ6IGNyZWF0ZURyYWZ0JDFcbn0pO1xuXG5mdW5jdGlvbiB2ZXJpZnlNaW5pZmllZCgpIHt9XG5cbnZhciBjb25maWdEZWZhdWx0cyA9IHtcbiAgICB1c2VQcm94aWVzOiB0eXBlb2YgUHJveHkgIT09IFwidW5kZWZpbmVkXCIgJiYgdHlwZW9mIFJlZmxlY3QgIT09IFwidW5kZWZpbmVkXCIsXG4gICAgYXV0b0ZyZWV6ZTogdHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgPyBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIgOiB2ZXJpZnlNaW5pZmllZC5uYW1lID09PSBcInZlcmlmeU1pbmlmaWVkXCIsXG4gICAgb25Bc3NpZ246IG51bGwsXG4gICAgb25EZWxldGU6IG51bGwsXG4gICAgb25Db3B5OiBudWxsXG59O1xuXG52YXIgSW1tZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgZnVuY3Rpb24gSW1tZXIoY29uZmlnKSB7XG4gICAgICAgIGNsYXNzQ2FsbENoZWNrKHRoaXMsIEltbWVyKTtcblxuICAgICAgICBhc3NpZ24odGhpcywgY29uZmlnRGVmYXVsdHMsIGNvbmZpZyk7XG4gICAgICAgIHRoaXMuc2V0VXNlUHJveGllcyh0aGlzLnVzZVByb3hpZXMpO1xuICAgICAgICB0aGlzLnByb2R1Y2UgPSB0aGlzLnByb2R1Y2UuYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICBjcmVhdGVDbGFzcyhJbW1lciwgW3tcbiAgICAgICAga2V5OiBcInByb2R1Y2VcIixcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHByb2R1Y2UoYmFzZSwgcmVjaXBlLCBwYXRjaExpc3RlbmVyKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICAgICAgICAvLyBjdXJyaWVkIGludm9jYXRpb25cbiAgICAgICAgICAgIGlmICh0eXBlb2YgYmFzZSA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiByZWNpcGUgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHZhciBkZWZhdWx0QmFzZSA9IHJlY2lwZTtcbiAgICAgICAgICAgICAgICByZWNpcGUgPSBiYXNlO1xuXG4gICAgICAgICAgICAgICAgLy8gcHJldHRpZXItaWdub3JlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcmdzW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIHZhciBiYXNlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBkZWZhdWx0QmFzZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLnByb2R1Y2UoYmFzZSwgZnVuY3Rpb24gKGRyYWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgX3JlY2lwZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChfcmVjaXBlID0gcmVjaXBlKS5jYWxsLmFwcGx5KF9yZWNpcGUsIFtkcmFmdCwgZHJhZnRdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcmVjaXBlICE9PSBcImZ1bmN0aW9uXCIpIHRocm93IG5ldyBFcnJvcihcImlmIGZpcnN0IGFyZ3VtZW50IGlzIG5vdCBhIGZ1bmN0aW9uLCB0aGUgc2Vjb25kIGFyZ3VtZW50IHRvIHByb2R1Y2Ugc2hvdWxkIGJlIGEgZnVuY3Rpb25cIik7XG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoTGlzdGVuZXIgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgcGF0Y2hMaXN0ZW5lciAhPT0gXCJmdW5jdGlvblwiKSB0aHJvdyBuZXcgRXJyb3IoXCJ0aGUgdGhpcmQgYXJndW1lbnQgb2YgYSBwcm9kdWNlciBzaG91bGQgbm90IGJlIHNldCBvciBhIGZ1bmN0aW9uXCIpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcmVzdWx0ID0gdm9pZCAwO1xuICAgICAgICAgICAgLy8gT25seSBjcmVhdGUgcHJveGllcyBmb3IgcGxhaW4gb2JqZWN0cy9hcnJheXMuXG4gICAgICAgICAgICBpZiAoIWlzRHJhZnRhYmxlKGJhc2UpKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVjaXBlKGJhc2UpO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGJhc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZWUgIzEwMCwgZG9uJ3QgbmVzdCBwcm9kdWNlcnNcbiAgICAgICAgICAgIGVsc2UgaWYgKGlzRHJhZnQoYmFzZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gcmVjaXBlLmNhbGwoYmFzZSwgYmFzZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZCkgcmV0dXJuIGJhc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFRoZSBnaXZlbiB2YWx1ZSBtdXN0IGJlIHByb3hpZWQuXG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNjb3Blcy5wdXNoKFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiYXNlRHJhZnQgPSB0aGlzLmNyZWF0ZURyYWZ0KGJhc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSByZWNpcGUuY2FsbChiYXNlRHJhZnQsIGJhc2VEcmFmdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy53aWxsRmluYWxpemUocmVzdWx0LCBiYXNlRHJhZnQsICEhcGF0Y2hMaXN0ZW5lcik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBOZXZlciBnZW5lcmF0ZSBwYXRjaGVzIHdoZW4gbm8gbGlzdGVuZXIgZXhpc3RzLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXRjaGVzID0gcGF0Y2hMaXN0ZW5lciAmJiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW52ZXJzZVBhdGNoZXMgPSBwYXRjaExpc3RlbmVyICYmIFtdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gRmluYWxpemUgdGhlIG1vZGlmaWVkIGRyYWZ0Li4uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkIHx8IHJlc3VsdCA9PT0gYmFzZURyYWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuZmluYWxpemUoYmFzZURyYWZ0LCBbXSwgcGF0Y2hlcywgaW52ZXJzZVBhdGNoZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAuLi5vciB1c2UgYSByZXBsYWNlbWVudCB2YWx1ZS5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVzZXJzIG11c3QgbmV2ZXIgbW9kaWZ5IHRoZSBkcmFmdCBfYW5kXyByZXR1cm4gc29tZXRoaW5nIGVsc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmFzZURyYWZ0W0RSQUZUX1NUQVRFXS5tb2RpZmllZCkgdGhyb3cgbmV3IEVycm9yKFwiQW4gaW1tZXIgcHJvZHVjZXIgcmV0dXJuZWQgYSBuZXcgdmFsdWUgKmFuZCogbW9kaWZpZWQgaXRzIGRyYWZ0LiBFaXRoZXIgcmV0dXJuIGEgbmV3IHZhbHVlICpvciogbW9kaWZ5IHRoZSBkcmFmdC5cIik7IC8vIHByZXR0aWVyLWlnbm9yZVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBGaW5hbGl6ZSB0aGUgcmVwbGFjZW1lbnQgaW4gY2FzZSBpdCBjb250YWlucyAob3IgaXMpIGEgc3Vic2V0IG9mIHRoZSBkcmFmdC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpc0RyYWZ0YWJsZShyZXN1bHQpKSByZXN1bHQgPSB0aGlzLmZpbmFsaXplKHJlc3VsdCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwYXRjaExpc3RlbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3A6IFwicmVwbGFjZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludmVyc2VQYXRjaGVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcDogXCJyZXBsYWNlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogYmFzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudFNjb3BlKCkuZm9yRWFjaChmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXRlLnJldm9rZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2NvcGVzLnBvcCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0Y2hMaXN0ZW5lciAmJiBwYXRjaExpc3RlbmVyKHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm9ybWFsaXplIHRoZSByZXN1bHQuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0ID09PSBOT1RISU5HID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6IFwic2V0QXV0b0ZyZWV6ZVwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2V0QXV0b0ZyZWV6ZSh2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5hdXRvRnJlZXplID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJzZXRVc2VQcm94aWVzXCIsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRVc2VQcm94aWVzKHZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVzZVByb3hpZXMgPSB2YWx1ZTtcbiAgICAgICAgICAgIGFzc2lnbih0aGlzLCB2YWx1ZSA/IG1vZGVyblByb3h5IDogbGVnYWN5UHJveHkpO1xuICAgICAgICB9XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAaW50ZXJuYWxcbiAgICAgICAgICogRmluYWxpemUgYSBkcmFmdCwgcmV0dXJuaW5nIGVpdGhlciB0aGUgdW5tb2RpZmllZCBiYXNlIHN0YXRlIG9yIGEgbW9kaWZpZWRcbiAgICAgICAgICogY29weSBvZiB0aGUgYmFzZSBzdGF0ZS5cbiAgICAgICAgICovXG5cbiAgICB9LCB7XG4gICAgICAgIGtleTogXCJmaW5hbGl6ZVwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZmluYWxpemUoZHJhZnQsIHBhdGgsIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKSB7XG4gICAgICAgICAgICB2YXIgc3RhdGUgPSBkcmFmdFtEUkFGVF9TVEFURV07XG4gICAgICAgICAgICBpZiAoIXN0YXRlKSB7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5pc0Zyb3plbihkcmFmdCkpIHJldHVybiBkcmFmdDtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5maW5hbGl6ZVRyZWUoZHJhZnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTmV2ZXIgZmluYWxpemUgZHJhZnRzIG93bmVkIGJ5IGFuIG91dGVyIHNjb3BlLlxuICAgICAgICAgICAgaWYgKHN0YXRlLnNjb3BlICE9PSB0aGlzLmN1cnJlbnRTY29wZSgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRyYWZ0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFzdGF0ZS5tb2RpZmllZCkgcmV0dXJuIHN0YXRlLmJhc2U7XG4gICAgICAgICAgICBpZiAoIXN0YXRlLmZpbmFsaXplZCkge1xuICAgICAgICAgICAgICAgIHN0YXRlLmZpbmFsaXplZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5maW5hbGl6ZVRyZWUoc3RhdGUuZHJhZnQsIHBhdGgsIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vbkRlbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXNzaWduZWQgPSBzdGF0ZS5hc3NpZ25lZDtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIGFzc2lnbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhc3NpZ25lZFtwcm9wXSB8fCB0aGlzLm9uRGVsZXRlKHN0YXRlLCBwcm9wKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vbkNvcHkpIHRoaXMub25Db3B5KHN0YXRlKTtcblxuICAgICAgICAgICAgICAgIC8vIE5lc3RlZCBwcm9kdWNlcnMgbXVzdCBuZXZlciBhdXRvLWZyZWV6ZSB0aGVpciByZXN1bHQsXG4gICAgICAgICAgICAgICAgLy8gYmVjYXVzZSBpdCBtYXkgY29udGFpbiBkcmFmdHMgZnJvbSBwYXJlbnQgcHJvZHVjZXJzLlxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmF1dG9GcmVlemUgJiYgdGhpcy5zY29wZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIE9iamVjdC5mcmVlemUoc3RhdGUuY29weSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHBhdGNoZXMpIGdlbmVyYXRlUGF0Y2hlcyhzdGF0ZSwgcGF0aCwgcGF0Y2hlcywgaW52ZXJzZVBhdGNoZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLmNvcHk7XG4gICAgICAgIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBpbnRlcm5hbFxuICAgICAgICAgKiBGaW5hbGl6ZSBhbGwgZHJhZnRzIGluIHRoZSBnaXZlbiBzdGF0ZSB0cmVlLlxuICAgICAgICAgKi9cblxuICAgIH0sIHtcbiAgICAgICAga2V5OiBcImZpbmFsaXplVHJlZVwiLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZmluYWxpemVUcmVlKHJvb3QsIHBhdGgsIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKSB7XG4gICAgICAgICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIHN0YXRlID0gcm9vdFtEUkFGVF9TVEFURV07XG4gICAgICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgICAgICByb290ID0gdGhpcy51c2VQcm94aWVzID8gc3RhdGUuY29weSA6IHN0YXRlLmNvcHkgPSBzaGFsbG93Q29weShzdGF0ZS5kcmFmdCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBvbkFzc2lnbiA9IHRoaXMub25Bc3NpZ247XG5cbiAgICAgICAgICAgIHZhciBmaW5hbGl6ZVByb3BlcnR5ID0gZnVuY3Rpb24gZmluYWxpemVQcm9wZXJ0eShwcm9wLCB2YWx1ZSwgcGFyZW50KSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSBgcm9vdGAgY2FuIGJlIGEgZHJhZnQgaW4gaGVyZS5cbiAgICAgICAgICAgICAgICB2YXIgaW5EcmFmdCA9ICEhc3RhdGUgJiYgcGFyZW50ID09PSByb290O1xuXG4gICAgICAgICAgICAgICAgaWYgKGlzRHJhZnQodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHByZXR0aWVyLWlnbm9yZVxuICAgICAgICAgICAgICAgICAgICBwYXJlbnRbcHJvcF0gPSB2YWx1ZSA9XG4gICAgICAgICAgICAgICAgICAgIC8vIFBhdGNoZXMgYXJlIG5ldmVyIGdlbmVyYXRlZCBmb3IgYXNzaWduZWQgcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgICAgICAgcGF0Y2hlcyAmJiBpbkRyYWZ0ICYmICFzdGF0ZS5hc3NpZ25lZFtwcm9wXSA/IF90aGlzMi5maW5hbGl6ZSh2YWx1ZSwgcGF0aC5jb25jYXQocHJvcCksIHBhdGNoZXMsIGludmVyc2VQYXRjaGVzKSA6IF90aGlzMi5maW5hbGl6ZSh2YWx1ZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gVW5jaGFuZ2VkIGRyYWZ0cyBhcmUgaWdub3JlZC5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGluRHJhZnQgJiYgdmFsdWUgPT09IHN0YXRlLmJhc2VbcHJvcF0pIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gVW5jaGFuZ2VkIGRyYWZ0IHByb3BlcnRpZXMgYXJlIGlnbm9yZWQuXG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaW5EcmFmdCAmJiBpcyh2YWx1ZSwgc3RhdGUuYmFzZVtwcm9wXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBTZWFyY2ggbmV3IG9iamVjdHMgZm9yIHVuZmluYWxpemVkIGRyYWZ0cy4gRnJvemVuIG9iamVjdHMgc2hvdWxkIG5ldmVyIGNvbnRhaW4gZHJhZnRzLlxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChpc0RyYWZ0YWJsZSh2YWx1ZSkgJiYgIU9iamVjdC5pc0Zyb3plbih2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlYWNoKHZhbHVlLCBmaW5hbGl6ZVByb3BlcnR5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpbkRyYWZ0ICYmIG9uQXNzaWduKSB7XG4gICAgICAgICAgICAgICAgICAgIG9uQXNzaWduKHN0YXRlLCBwcm9wLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZWFjaChyb290LCBmaW5hbGl6ZVByb3BlcnR5KTtcbiAgICAgICAgICAgIHJldHVybiByb290O1xuICAgICAgICB9XG4gICAgfV0pO1xuICAgIHJldHVybiBJbW1lcjtcbn0oKTtcblxudmFyIGltbWVyID0gbmV3IEltbWVyKCk7XG5cbi8qKlxuICogVGhlIGBwcm9kdWNlYCBmdW5jdGlvbiB0YWtlcyBhIHZhbHVlIGFuZCBhIFwicmVjaXBlIGZ1bmN0aW9uXCIgKHdob3NlXG4gKiByZXR1cm4gdmFsdWUgb2Z0ZW4gZGVwZW5kcyBvbiB0aGUgYmFzZSBzdGF0ZSkuIFRoZSByZWNpcGUgZnVuY3Rpb24gaXNcbiAqIGZyZWUgdG8gbXV0YXRlIGl0cyBmaXJzdCBhcmd1bWVudCBob3dldmVyIGl0IHdhbnRzLiBBbGwgbXV0YXRpb25zIGFyZVxuICogb25seSBldmVyIGFwcGxpZWQgdG8gYSBfX2NvcHlfXyBvZiB0aGUgYmFzZSBzdGF0ZS5cbiAqXG4gKiBQYXNzIG9ubHkgYSBmdW5jdGlvbiB0byBjcmVhdGUgYSBcImN1cnJpZWQgcHJvZHVjZXJcIiB3aGljaCByZWxpZXZlcyB5b3VcbiAqIGZyb20gcGFzc2luZyB0aGUgcmVjaXBlIGZ1bmN0aW9uIGV2ZXJ5IHRpbWUuXG4gKlxuICogT25seSBwbGFpbiBvYmplY3RzIGFuZCBhcnJheXMgYXJlIG1hZGUgbXV0YWJsZS4gQWxsIG90aGVyIG9iamVjdHMgYXJlXG4gKiBjb25zaWRlcmVkIHVuY29weWFibGUuXG4gKlxuICogTm90ZTogVGhpcyBmdW5jdGlvbiBpcyBfX2JvdW5kX18gdG8gaXRzIGBJbW1lcmAgaW5zdGFuY2UuXG4gKlxuICogQHBhcmFtIHthbnl9IGJhc2UgLSB0aGUgaW5pdGlhbCBzdGF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gcHJvZHVjZXIgLSBmdW5jdGlvbiB0aGF0IHJlY2VpdmVzIGEgcHJveHkgb2YgdGhlIGJhc2Ugc3RhdGUgYXMgZmlyc3QgYXJndW1lbnQgYW5kIHdoaWNoIGNhbiBiZSBmcmVlbHkgbW9kaWZpZWRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IHBhdGNoTGlzdGVuZXIgLSBvcHRpb25hbCBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgY2FsbGVkIHdpdGggYWxsIHRoZSBwYXRjaGVzIHByb2R1Y2VkIGhlcmVcbiAqIEByZXR1cm5zIHthbnl9IGEgbmV3IHN0YXRlLCBvciB0aGUgaW5pdGlhbCBzdGF0ZSBpZiBub3RoaW5nIHdhcyBtb2RpZmllZFxuICovXG52YXIgcHJvZHVjZSA9IGltbWVyLnByb2R1Y2U7XG4vKipcbiAqIFBhc3MgdHJ1ZSB0byBhdXRvbWF0aWNhbGx5IGZyZWV6ZSBhbGwgY29waWVzIGNyZWF0ZWQgYnkgSW1tZXIuXG4gKlxuICogQnkgZGVmYXVsdCwgYXV0by1mcmVlemluZyBpcyBkaXNhYmxlZCBpbiBwcm9kdWN0aW9uLlxuICovXG52YXIgc2V0QXV0b0ZyZWV6ZSA9IGZ1bmN0aW9uIHNldEF1dG9GcmVlemUodmFsdWUpIHtcbiAgcmV0dXJuIGltbWVyLnNldEF1dG9GcmVlemUodmFsdWUpO1xufTtcblxuLyoqXG4gKiBQYXNzIHRydWUgdG8gdXNlIHRoZSBFUzIwMTUgYFByb3h5YCBjbGFzcyB3aGVuIGNyZWF0aW5nIGRyYWZ0cywgd2hpY2ggaXNcbiAqIGFsd2F5cyBmYXN0ZXIgdGhhbiB1c2luZyBFUzUgcHJveGllcy5cbiAqXG4gKiBCeSBkZWZhdWx0LCBmZWF0dXJlIGRldGVjdGlvbiBpcyB1c2VkLCBzbyBjYWxsaW5nIHRoaXMgaXMgcmFyZWx5IG5lY2Vzc2FyeS5cbiAqL1xudmFyIHNldFVzZVByb3hpZXMgPSBmdW5jdGlvbiBzZXRVc2VQcm94aWVzKHZhbHVlKSB7XG4gIHJldHVybiBpbW1lci5zZXRVc2VQcm94aWVzKHZhbHVlKTtcbn07XG5cbi8qKlxuICogQXBwbHkgYW4gYXJyYXkgb2YgSW1tZXIgcGF0Y2hlcyB0byB0aGUgZmlyc3QgYXJndW1lbnQuXG4gKlxuICogVGhpcyBmdW5jdGlvbiBpcyBhIHByb2R1Y2VyLCB3aGljaCBtZWFucyBjb3B5LW9uLXdyaXRlIGlzIGluIGVmZmVjdC5cbiAqL1xudmFyIGFwcGx5UGF0Y2hlcyQxID0gcHJvZHVjZShhcHBseVBhdGNoZXMpO1xuXG5leHBvcnQgeyBwcm9kdWNlLCBzZXRBdXRvRnJlZXplLCBzZXRVc2VQcm94aWVzLCBhcHBseVBhdGNoZXMkMSBhcyBhcHBseVBhdGNoZXMsIEltbWVyLCBvcmlnaW5hbCwgaXNEcmFmdCwgTk9USElORyBhcyBub3RoaW5nIH07XG5leHBvcnQgZGVmYXVsdCBwcm9kdWNlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW1tZXIubW9kdWxlLmpzLm1hcFxuIiwiaW1wb3J0IFJlYWN0LCB7Q29tcG9uZW50fSBmcm9tICdyZWFjdCc7XG5cbmNvbnN0IGFzeW5jQ29tcG9uZW50ID0gKGltcG9ydENvbXBvbmVudCwgbG9hZGVyID0gbnVsbCkgPT4ge1xuICByZXR1cm4gY2xhc3MgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIHN0YXRlID0ge1xuICAgICAgY29tcG9uZW50OiBudWxsXG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICBpbXBvcnRDb21wb25lbnQoKVxuICAgICAgICAudGhlbihjbXAgPT4ge1xuICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe2NvbXBvbmVudDogY21wLmRlZmF1bHR9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgY29uc3QgQyA9IHRoaXMuc3RhdGUuY29tcG9uZW50O1xuICAgICAgcmV0dXJuIEMgPyA8QyB7Li4udGhpcy5wcm9wc30vPiA6IGxvYWRlcjtcbiAgICB9XG4gIH1cbn07XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jQ29tcG9uZW50O1xuIiwiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xuXG5leHBvcnQgZGVmYXVsdCAocHJvcHMpID0+IHtcbiAgY29uc3Qge1xuICAgIHRpdGxlcyxcbiAgICBhY3RpdmVQb3N0SWR4LFxuICAgIG9uVGl0bGVDbGlja1xuICB9ID0gcHJvcHM7XG4gIHJldHVybiAoXG4gICAgPHVsPlxuICAgICAgICB7XG4gICAgICAgICAgdGl0bGVzLm1hcCgodGl0bGUsIGlkeCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXNBY3RpdmUgPSBhY3RpdmVQb3N0SWR4ID09PSBpZHg7XG4gICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICA8bGlcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7b25UaXRsZUNsaWNrKGlkeCl9fVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17YCR7aXNBY3RpdmUgPyAnYWN0aXZlJyA6ICcnfWB9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIHt0aXRsZX1cbiAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIClcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgPC91bD5cbiAgKVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgKHsgYXBpLCBwb3N0TGlzdFVwZGF0ZXIsIFBlcnNpc3Rvcn0pID0+ICh7ZXJyb3IsIHN1Y2Nlc3MsIHdhcm59LCBjbSkgPT4ge1xuICBhcGkudXBkYXRlKGNtLmdldE9wdGlvbignY29udGVudElkJyksIGNtLmRvYy5nZXRWYWx1ZSgpKVxuICAgIC50aGVuKChuZXdQb3N0KSA9PiB7XG4gICAgICBQZXJzaXN0b3IucmVtb3ZlKG5ld1Bvc3QuaWQpO1xuICAgICAgcG9zdExpc3RVcGRhdGVyKChvbGRQb3N0TGlzdCkgPT4ge1xuICAgICAgICByZXR1cm4gb2xkUG9zdExpc3QubWFwKHAgPT4ge1xuICAgICAgICAgIHJldHVybiBwLmlkID09PSBuZXdQb3N0LmlkXG4gICAgICAgICAgICA/IG5ld1Bvc3RcbiAgICAgICAgICAgIDogcDtcbiAgICAgICAgfSlcbiAgICAgIH0pXG4gICAgICBzdWNjZXNzKCfljZrmloflt7Lmm7TmlrAnKVxuICAgIH0pXG4gICAgLmNhdGNoKCgpID0+IHtcbiAgICAgIGVycm9yKCfljZrmlofmm7TmlrDlpLHotKUnKVxuICAgIH0pO1xufVxuXG4iLCJleHBvcnQgZGVmYXVsdCAoeyBQZXJzaXN0b3IsIHBvc3RMaXN0VXBkYXRlciwgYXBpLCBhY3RpdmV9KSA9PlxuICAoe2Vycm9yLCBzdWNjZXNzLCB3YXJufSwgY20pID0+IHtcbiAgICBjb25zdCBwaWQgPSBjbS5nZXRPcHRpb24oJ2NvbnRlbnRJZCcpO1xuICAgIFBlcnNpc3Rvci5yZW1vdmUocGlkKTtcbiAgICBwb3N0TGlzdFVwZGF0ZXIoKG9sZFBvc3RMaXN0KSA9PiB7XG4gICAgICByZXR1cm4gb2xkUG9zdExpc3QuZmlsdGVyKHAgPT4gcC5pZCAhPT0gcGlkKTtcbiAgICB9KTtcblxuICAgIGFwaS5kZWxldGUocGlkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBhY3RpdmUoMCk7XG4gICAgICAgIHN1Y2Nlc3MoJ+WNmuaWh+awuOS5heWIoOmZpCcpXG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgIGVycm9yKCfljZrmlofliKDpmaTlpLHotKUnKTtcbiAgICAgIH0pO1xuICB9XG5cbiIsImV4cG9ydCBkZWZhdWx0ICh7IFBlcnNpc3RvciwgYXBpLCBwb3N0TGlzdFVwZGF0ZXIgfSkgPT4gXG4gICh7ZXJyb3IsIHN1Y2Nlc3MsIHdhcm59LCBjbSkgPT4ge1xuICAgIGNvbnN0IHRpdGxlID0gY20uZ2V0T3B0aW9uKCduZXdQb3N0VGl0bGUnKTtcbiAgICBjb25zdCB0bXBJZCA9IGNtLmdldE9wdGlvbignY29udGVudElkJyk7XG4gICAgY29uc3QgdG1wVGl0bGUgPSBQZXJzaXN0b3IuZ2V0KHRtcElkKS50aXRsZTtcblxuICAgIGNvbnN0IGNvbnRlbnQgPSBjbS5kb2MuZ2V0VmFsdWUoKTtcbiAgICBpZiAoISh0aXRsZSB8fCB0bXBUaXRsZSkpIHtcbiAgICAgIGVycm9yKCfmoIfpopjkuI3og73kuLrnqbohJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghY29udGVudCkge1xuICAgICAgZXJyb3IoJ+WGheWuueS4jeiDveS4uuepuiEnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBhcGkuY3JlYXRlKHRpdGxlIHx8IHRtcFRpdGxlLCBjb250ZW50KVxuICAgICAgLnRoZW4oKG5ld1Bvc3QpID0+IHtcbiAgICAgICAgUGVyc2lzdG9yLnJlbW92ZSh0bXBJZCk7XG4gICAgICAgIHBvc3RMaXN0VXBkYXRlcigob2xkUG9zdExpc3QpID0+IHtcbiAgICAgICAgICBvbGRQb3N0TGlzdFswXSA9IG5ld1Bvc3Q7XG4gICAgICAgIH0pXG4gICAgICAgIHN1Y2Nlc3MoJ+WNmuaWh+WIm+W7uuaIkOWKnycpXG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlKSA9PiB7XG4gICAgICAgIGVycm9yKCfljZrmlofliJvlu7rlpLHotKUnKVxuICAgICAgfSk7XG4gIH1cblxuIiwiaW1wb3J0IGhhc2ggZnJvbSAnb2JqZWN0LWhhc2gnO1xuZXhwb3J0IGRlZmF1bHQgKHsgUGVyc2lzdG9yLCBwb3N0TGlzdFVwZGF0ZXIsIGFjdGl2ZSB9KSA9PiBcbiAgKHtlcnJvciwgc3VjY2Vzcywgd2Fybn0sIGNtLCBwYXJhbXMpID0+IHtcbiAgICBjb25zdCB0aXRsZSA9IHBhcmFtcy5hcmdTdHJpbmcgJiYgcGFyYW1zLmFyZ1N0cmluZy50cmltKCk7XG4gICAgaWYoIXRpdGxlKSB7XG4gICAgICBlcnJvcign5qCH6aKY5LiN6IO95Li656m6OiBuZXcgJmx0O3RpdGxlJmd0OycpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjbS5zZXRPcHRpb24oJ25ld1Bvc3RUaXRsZScsIHRpdGxlKTtcbiAgICBjb25zdCB0bXBJZCA9IGhhc2goRGF0ZS5ub3coKSkuc2xpY2UoMTYpO1xuICAgIGNvbnN0IG5ld1Bvc3QgPSB7XG4gICAgICB0aXRsZSxcbiAgICAgIGlkOiB0bXBJZCxcbiAgICAgIHBvc3RUeXBlOiAnZHJhZnQnLFxuICAgICAgY29udGVudDogJydcbiAgICB9XG4gICAgUGVyc2lzdG9yLnNldCh0bXBJZCwgbmV3UG9zdCk7XG4gICAgcG9zdExpc3RVcGRhdGVyKChvbGRQb3N0TGlzdCkgPT4ge1xuICAgICAgb2xkUG9zdExpc3QudW5zaGlmdChuZXdQb3N0KTtcbiAgICB9LCAoKSA9PiB7XG4gICAgICBhY3RpdmUoMCk7XG4gICAgfSlcbiAgfVxuXG4iLCJpbXBvcnQge1xuICBidWlsZFVwZGF0ZUNtZCxcbiAgYnVpbGREZWxldGVDbWQsXG4gIGJ1aWxkQ3JlYXRlQ21kLFxuICBidWlsZE5ld0NtZCxcbn0gZnJvbSAnLi9jb21tYW5kcyc7XG5cbi8qKlxuICogQHBvc3RUeXBlIHtTdHJpbmd9IFsnZHJhZnQnLCAncHVibGlzaGVkJ11cbiAqL1xuXG5jb25zdCBwaWNrQ21kID0gKGNtZE5hbWVBcnIsIGNvbW1hbmRzKSA9PiB7XG4gIHJldHVybiBjb21tYW5kcy5maWx0ZXIoKHsgbmFtZSB9KSA9PiBjbWROYW1lQXJyLmluY2x1ZGVzKG5hbWUpKVxufVxuXG5jb25zdCBidWlsZEVkaXRvckNvbW1hbmRzID0gKHRvb2xzLCBwb3N0VHlwZSkgPT4ge1xuICBjb25zdCB7XG4gICAgYXBpLCBwb3N0TGlzdFVwZGF0ZXIsIGFjdGl2ZSwgZXhpdCwgUGVyc2lzdG9yXG4gIH0gPSB0b29scztcblxuICBjb25zdCBnZW5lcmFsQ21kU2V0ID0gW1xuICAgICduZXcnLFxuICAgICdkZWxldGVUaGlzUG9zdEZvcmV2ZXInLFxuICAgICdleGl0JyxcbiAgXTtcblxuICBjb25zdCBkZWRpY2F0ZWRQb3N0Q21kTWFwID0ge1xuICAgIGRyYWZ0OiBbJ3B1Ymxpc2gnXSxcbiAgICBwdWJsaXNoZWQ6IFsndXBkYXRlJ11cbiAgfTtcblxuICBjb25zdCBjb21tYW5kcyA9IFt7XG4gICAgbmFtZTogJ3VwZGF0ZScsXG4gICAgZm46IGJ1aWxkVXBkYXRlQ21kKHRvb2xzKVxuICB9LCB7XG4gICAgbmFtZTogJ2RlbGV0ZVRoaXNQb3N0Rm9yZXZlcicsXG4gICAgZm46IGJ1aWxkRGVsZXRlQ21kKHRvb2xzKVxuICB9LCB7XG4gICAgbmFtZTogJ3B1Ymxpc2gnLFxuICAgIGZuOiBidWlsZENyZWF0ZUNtZCh0b29scylcbiAgfSwge1xuICAgIG5hbWU6ICdleGl0JyxcbiAgICBmbjogKCkgPT4geyBleGl0KCk7fVxuICB9LCB7XG4gICAgbmFtZTogJ25ldycsXG4gICAgZm46IGJ1aWxkTmV3Q21kKHRvb2xzKVxuICB9XVxuXG4gIGNvbnN0IHZhbGlkQ21kU2V0ID0gcGlja0NtZChcbiAgICBbXG4gICAgICAuLi5nZW5lcmFsQ21kU2V0LFxuICAgICAgLi4uKGRlZGljYXRlZFBvc3RDbWRNYXBbcG9zdFR5cGVdIHx8IFtdKVxuICAgIF0sXG4gICAgY29tbWFuZHNcbiAgKTtcblxuICByZXR1cm4gdmFsaWRDbWRTZXQ7XG59O1xuXG5leHBvcnQgZGVmYXVsdCBidWlsZEVkaXRvckNvbW1hbmRzO1xuIiwiY29uc3QgS0VZX1BSRUZJWCA9ICdwbS1wZXJzaXN0b3ItJztcbmNvbnN0IEtFWV9SRUdfRVhQID0gbmV3IFJlZ0V4cCgnXicgKyBLRVlfUFJFRklYKTtcblxuY29uc3Qgc2V0ID0gKGtleSwgdmFsKSA9PiB7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKFxuICAgIEtFWV9QUkVGSVggKyBrZXksXG4gICAgSlNPTi5zdHJpbmdpZnkodmFsKVxuICApXG59XG5cbmNvbnN0IGdldCA9IChrZXkpID0+IHtcbiAgaWYgKCFrZXkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXG4gICAgS0VZX1BSRUZJWCArIGtleVxuICApKTtcbn1cblxuY29uc3QgX2dldCA9IChrZXkpID0+IHtcbiAgaWYgKCFrZXkpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcmV0dXJuIEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oXG4gICAga2V5XG4gICkpO1xufVxuXG5jb25zdCBfZ2V0UGVyc2lzdG9yS3llcyA9ICgpID0+IHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSlcbiAgICAuZmlsdGVyKGsgPT4gS0VZX1JFR19FWFAudGVzdChrKSlcbn1cblxuY29uc3QgcmVtb3ZlID0gKGtleSkgPT4ge1xuICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcbiAgICBLRVlfUFJFRklYICsga2V5XG4gICk7XG59XG5cbmNvbnN0IGxpc3QgPSAoKSA9PiB7XG4gIHJldHVybiBfZ2V0UGVyc2lzdG9yS3llcygpLm1hcChfZ2V0KVxufVxuXG5jb25zdCB3aXRoTG9jYWxMaXN0ID0gKGFycikgPT4ge1xuICBjb25zdCBsb2NhbExpc3QgPSBsaXN0KCk7XG4gIGNvbnN0IGlkTWFwID0ge307XG4gIGFyci5mb3JFYWNoKCh7aWR9KSA9PiB7XG4gICAgaWRNYXBbaWRdID0gdHJ1ZTtcbiAgfSlcblxuICBpZiAoIWFyci5sZW5ndGgpIHtcbiAgICByZXR1cm4gbG9jYWxMaXN0O1xuICB9XG5cbiAgY29uc3QgbmV3UG9zdHMgPSBsb2NhbExpc3RcbiAgICAuZmlsdGVyKCh7IGlkIH0pID0+IHtcbiAgICAgIHJldHVybiAhaWRNYXBbaWRdO1xuICAgIH0pXG5cbiAgcmV0dXJuIFtcbiAgICAuLi5uZXdQb3N0cyxcbiAgICAuLi5hcnIubWFwKHAgPT4gKHtwb3N0VHlwZTogJ3B1Ymxpc2hlZCcsIC4uLnB9KSlcbiAgXVxufVxuXG5jb25zdCBkZXN0cm95ID0gKCkgPT4ge1xuICBfZ2V0UGVyc2lzdG9yS3llcygpLmZvckVhY2goayA9PiB7XG4gICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oaylcbiAgfSk7XG59XG5cbmV4cG9ydCB7XG4gIHNldCwgZ2V0LCByZW1vdmUsIGxpc3QsIGRlc3Ryb3ksIHdpdGhMb2NhbExpc3Rcbn1cbiIsImltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBwcm9kdWNlIGZyb20gJ2ltbWVyJztcblxuaW1wb3J0IEFzeW5jSW1wb3J0IGZyb20gJy4vYXN5bmMtaW1wb3J0JztcbmltcG9ydCBQb3N0TGlzdCBmcm9tICcuL3Bvc3QtbGlzdC8nXG5pbXBvcnQgYnVpbGRFZGl0b3JFeEFyciBmcm9tICcuL2N1c3RvbS1lZGl0b3ItY29tbWFuZHMvJ1xuaW1wb3J0ICogYXMgUGVyc2lzdG9yIGZyb20gJy4uL3BlcnNpc3Rvci8nXG5cbmNvbnN0IEVkaXRvciA9IEFzeW5jSW1wb3J0KFxuICAoKSA9PiB7XG4gICAgcmV0dXJuIGltcG9ydCgnQHpob3VqaWFoYW8vZWRpdG9yL2xpYi9yZWFjdC1jb2RlLW1pcnJvcicpO1xuICB9LFxuICAoXG4gICAgPGRpdlxuICAgICAgc3R5bGU9e3tcbiAgICAgICAgd2lkdGg6ICdjYWxjKDUwJSAtIDE1cHgpJyxcbiAgICAgICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgICAgIGJvcmRlcjogJ2RvdHRlZCAxcHggIzAwMCcsXG4gICAgICAgIGJhY2tncm91bmQ6ICcjZjBmMGYwJyxcbiAgICAgIH19XG4gICAgLz5cbiAgKVxuKVxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYW5lIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIHN0YXRlID0ge1xuICAgIGFjdGl2ZVBvc3RJZHg6IDAsXG4gICAgcG9zdExpc3Q6IHRoaXMucHJvcHMucG9zdHNcbiAgfVxuXG4gIGFjdGl2ZSA9IChhY3RpdmVQb3N0SWR4KSA9PiB7dGhpcy5zZXRTdGF0ZSh7IGFjdGl2ZVBvc3RJZHggfSl9XG5cbiAgdXBkYXRlUG9zdExpc3QgPSAodXBkYXRlckZuLCBjYkZuID0gKCkgPT4gbnVsbCkgPT4ge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHVwZGF0ZXJGbikpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBwb3N0TGlzdDogdXBkYXRlckZuXG4gICAgICB9KVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuc2V0U3RhdGUocHJldlN0YXRlID0+ICh7XG4gICAgICBwb3N0TGlzdDogcHJvZHVjZShwcmV2U3RhdGUucG9zdExpc3QsIHVwZGF0ZXJGbilcbiAgICB9KSwgY2JGbilcbiAgfVxuXG4gIGJ1aWxkRWR0Q2xzID0gKCkgPT4ge1xuICAgIGNvbnN0IGVkaXRpbmdQb3N0ID0gdGhpcy5zdGF0ZS5wb3N0TGlzdFtcbiAgICAgIHRoaXMuc3RhdGUuYWN0aXZlUG9zdElkeFxuICAgIF07XG4gICAgY29uc3QgbG9jYWxDaGFuZ2VzID0gUGVyc2lzdG9yLmdldChlZGl0aW5nUG9zdC5pZCk7XG4gICAgbGV0IHR5cGUgPSBsb2NhbENoYW5nZXNcbiAgICAgID8gJ2NoYW5nZWQtZmlsZSdcbiAgICAgIDogJ25vcm1hbC1maWxlJ1xuXG4gICAgaWYgKCFlZGl0aW5nUG9zdC5oYXNPd25Qcm9wZXJ0eSgnY3JlYXRlZEF0JykpIHtcbiAgICAgIHR5cGUgPSAnbmV3LWZpbGUnO1xuICAgIH1cblxuICAgIHJldHVybiBcImVkaXRvci13cmFwcGVyIFwiICsgdHlwZTtcbiAgfVxuXG4gIHRpdGxlRm9ybWF0dGVyID0gcCA9PiB7XG4gICAgcmV0dXJuIGAke3AudGl0bGV9YDtcbiAgfVxuXG4gIGdldEVkaXRpbmdQb3N0VGl0bGUgPSAoKSA9PiB7XG4gICAgY29uc3QgZWRpdGluZ1Bvc3QgPSB0aGlzLnN0YXRlLnBvc3RMaXN0W1xuICAgICAgdGhpcy5zdGF0ZS5hY3RpdmVQb3N0SWR4XG4gICAgXTtcbiAgICByZXR1cm4gZWRpdGluZ1Bvc3QudGl0bGU7XG4gIH1cblxuICBoYW5kbGVFZGl0b3JDb250ZW50Q2hhbmdlID0gKGlkLCBjb250ZW50KSA9PiB7XG4gICAgUGVyc2lzdG9yLnNldChpZCwge1xuICAgICAgdGl0bGU6IHRoaXMuZ2V0RWRpdGluZ1Bvc3RUaXRsZSgpLFxuICAgICAgaWQsXG4gICAgICBjb250ZW50XG4gICAgfSlcbiAgfVxuXG4gIHJlbmRlclRpdGxlTGlzdCA9ICgpID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJzaWRlLWxpc3QtY29sXCI+XG4gICAgICAgIDxQb3N0TGlzdFxuICAgICAgICAgIHRpdGxlcz17dGhpcy5zdGF0ZS5wb3N0TGlzdC5tYXAodGhpcy50aXRsZUZvcm1hdHRlcil9XG4gICAgICAgICAgb25UaXRsZUNsaWNrPXt0aGlzLmFjdGl2ZX1cbiAgICAgICAgICBhY3RpdmVQb3N0SWR4PXt0aGlzLnN0YXRlLmFjdGl2ZVBvc3RJZHh9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICByZW5kZXJFZGl0b3IgPSAoKSA9PiB7XG4gICAgY29uc3QgZWRpdGluZ1Bvc3QgPSB0aGlzLnN0YXRlLnBvc3RMaXN0W1xuICAgICAgdGhpcy5zdGF0ZS5hY3RpdmVQb3N0SWR4XG4gICAgXTtcbiAgICBjb25zdCBsb2NhbENoYW5nZXMgPSBQZXJzaXN0b3IuZ2V0KGVkaXRpbmdQb3N0LmlkKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17dGhpcy5idWlsZEVkdENscygpfSA+XG4gICAgICAgIDxFZGl0b3JcbiAgICAgICAgICB2YWx1ZT17XG4gICAgICAgICAgICAobG9jYWxDaGFuZ2VzICYmIGxvY2FsQ2hhbmdlcy5jb250ZW50KVxuICAgICAgICAgICAgICB8fCBlZGl0aW5nUG9zdC5jb250ZW50XG4gICAgICAgICAgICAgIHx8ICcnXG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRlbnRJZD17ZWRpdGluZ1Bvc3QuaWR9XG4gICAgICAgICAgYmFja2dyb3VuZENvbG9yPVwiI2YyZjJmMlwiXG4gICAgICAgICAgb25TYXZlPXt0aGlzLmhhbmRsZUVkaXRvckNvbnRlbnRDaGFuZ2V9XG4gICAgICAgICAgZXhBcnI9e2J1aWxkRWRpdG9yRXhBcnIoe1xuICAgICAgICAgICAgYXBpOiB0aGlzLnByb3BzLmFwaSxcbiAgICAgICAgICAgIHBvc3RMaXN0VXBkYXRlcjogdGhpcy51cGRhdGVQb3N0TGlzdCxcbiAgICAgICAgICAgIGFjdGl2ZTogdGhpcy5hY3RpdmUsXG4gICAgICAgICAgICBleGl0OiB0aGlzLnByb3BzLmV4aXQsXG4gICAgICAgICAgICBQZXJzaXN0b3JcbiAgICAgICAgICB9LCBlZGl0aW5nUG9zdC5wb3N0VHlwZSl9XG4gICAgICAgIC8+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicGFuZVwiPlxuICAgICAgICAgIHt0aGlzLnJlbmRlclRpdGxlTGlzdCgpfVxuICAgICAgICAgIHt0aGlzLnJlbmRlckVkaXRvcigpfVxuICAgICAgPC9kaXY+XG4gICAgKVxuICB9XG59XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5cbmltcG9ydCB7ICQgfSBmcm9tICdAemhvdWppYWhhby91dGlscyc7XG5cbmltcG9ydCBQYW5lIGZyb20gJy4vcGFuZSc7XG5pbXBvcnQgJy4vc3R5bGUuc2Nzcyc7XG5cbmV4cG9ydCBjb25zdCB1bmluc3RhbGwgPSAoKSA9PiB7XG4gIFJlYWN0RE9NLnVubW91bnRDb21wb25lbnRBdE5vZGUoJCgnI2d1aScpKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgKHBvc3RzLCBhcGksIGV4aXQpID0+IHtcbiAgY29uc3QgJGd1aSA9ICQoJyNndWknKVxuICAkZ3VpLmNsYXNzTGlzdC5hZGQoJ2Z1bGxzY3JlZW4nKTtcbiAgUmVhY3RET00ucmVuZGVyKFxuICAgIDxQYW5lIHBvc3RzPXtwb3N0c30gYXBpPXthcGl9IGV4aXQ9e2V4aXR9Lz4sXG4gICAgJGd1aVxuICApXG59XG4iLCJpbXBvcnQgU3RyYXBpIGZyb20gJy4vbGliL3Nkayc7XG5leHBvcnQgZGVmYXVsdCBTdHJhcGk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LGV5SjJaWEp6YVc5dUlqb3pMQ0ptYVd4bElqb2lhVzVrWlhndWFuTWlMQ0p6YjNWeVkyVlNiMjkwSWpvaUlpd2ljMjkxY21ObGN5STZXeUl1TGk4dUxpOXpjbU12YVc1a1pYZ3VkSE1pWFN3aWJtRnRaWE1pT2x0ZExDSnRZWEJ3YVc1bmN5STZJa0ZCUVVFc1QwRkJUeXhOUVVGTkxFMUJRVTBzVjBGQlZ5eERRVUZETzBGQlF5OUNMR1ZCUVdVc1RVRkJUU3hEUVVGREluMD0iLCJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0ICogYXMgQ29va2llcyBmcm9tICdqcy1jb29raWUnO1xuaW1wb3J0ICogYXMgcXMgZnJvbSAncXMnO1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU3RyYXBpIHtcbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGNvbnN0cnVjdG9yLlxuICAgICAqIEBwYXJhbSBiYXNlVVJMIFlvdXIgU3RyYXBpIGhvc3QuXG4gICAgICogQHBhcmFtIGF4aW9zQ29uZmlnIEV4dGVuZCBBeGlvcyBjb25maWd1cmF0aW9uLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGJhc2VVUkwsIHN0b3JlQ29uZmlnLCByZXF1ZXN0Q29uZmlnKSB7XG4gICAgICAgIHRoaXMuYXhpb3MgPSBheGlvcy5jcmVhdGUoe1xuICAgICAgICAgICAgYmFzZVVSTCxcbiAgICAgICAgICAgIHBhcmFtc1NlcmlhbGl6ZXI6IHFzLnN0cmluZ2lmeSxcbiAgICAgICAgICAgIC4uLnJlcXVlc3RDb25maWdcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuc3RvcmVDb25maWcgPSB7XG4gICAgICAgICAgICBjb29raWU6IHtcbiAgICAgICAgICAgICAgICBrZXk6ICdqd3QnLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogJy8nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZToge1xuICAgICAgICAgICAgICAgIGtleTogJ2p3dCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAuLi5zdG9yZUNvbmZpZ1xuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5pc0Jyb3dzZXIoKSkge1xuICAgICAgICAgICAgbGV0IGV4aXN0aW5nVG9rZW47XG4gICAgICAgICAgICBpZiAodGhpcy5zdG9yZUNvbmZpZy5jb29raWUpIHtcbiAgICAgICAgICAgICAgICBleGlzdGluZ1Rva2VuID0gQ29va2llcy5nZXQodGhpcy5zdG9yZUNvbmZpZy5jb29raWUua2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHRoaXMuc3RvcmVDb25maWcubG9jYWxTdG9yYWdlKSB7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdUb2tlbiA9IEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuc3RvcmVDb25maWcubG9jYWxTdG9yYWdlLmtleSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGV4aXN0aW5nVG9rZW4pIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRva2VuKGV4aXN0aW5nVG9rZW4sIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF4aW9zIHJlcXVlc3RcbiAgICAgKiBAcGFyYW0gbWV0aG9kIFJlcXVlc3QgbWV0aG9kXG4gICAgICogQHBhcmFtIHVybCBTZXJ2ZXIgVVJMXG4gICAgICogQHBhcmFtIHJlcXVlc3RDb25maWcgQ3VzdG9tIEF4aW9zIGNvbmZpZ1xuICAgICAqL1xuICAgIGFzeW5jIHJlcXVlc3QobWV0aG9kLCB1cmwsIHJlcXVlc3RDb25maWcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgdGhpcy5heGlvcy5yZXF1ZXN0KHtcbiAgICAgICAgICAgICAgICBtZXRob2QsXG4gICAgICAgICAgICAgICAgdXJsLFxuICAgICAgICAgICAgICAgIC4uLnJlcXVlc3RDb25maWdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3IucmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IucmVzcG9uc2UuZGF0YS5tZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlZ2lzdGVyIGEgbmV3IHVzZXIuXG4gICAgICogQHBhcmFtIHVzZXJuYW1lXG4gICAgICogQHBhcmFtIGVtYWlsXG4gICAgICogQHBhcmFtIHBhc3N3b3JkXG4gICAgICogQHJldHVybnMgQXV0aGVudGljYXRpb24gVXNlciB0b2tlbiBhbmQgcHJvZmlsZVxuICAgICAqL1xuICAgIGFzeW5jIHJlZ2lzdGVyKHVzZXJuYW1lLCBlbWFpbCwgcGFzc3dvcmQpIHtcbiAgICAgICAgdGhpcy5jbGVhclRva2VuKCk7XG4gICAgICAgIGNvbnN0IGF1dGhlbnRpY2F0aW9uID0gYXdhaXQgdGhpcy5yZXF1ZXN0KCdwb3N0JywgJy9hdXRoL2xvY2FsL3JlZ2lzdGVyJywge1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGVtYWlsLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkLFxuICAgICAgICAgICAgICAgIHVzZXJuYW1lXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldFRva2VuKGF1dGhlbnRpY2F0aW9uLmp3dCk7XG4gICAgICAgIHJldHVybiBhdXRoZW50aWNhdGlvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTG9naW4gYnkgZ2V0dGluZyBhbiBhdXRoZW50aWNhdGlvbiB0b2tlbi5cbiAgICAgKiBAcGFyYW0gaWRlbnRpZmllciBDYW4gZWl0aGVyIGJlIGFuIGVtYWlsIG9yIGEgdXNlcm5hbWUuXG4gICAgICogQHBhcmFtIHBhc3N3b3JkXG4gICAgICogQHJldHVybnMgQXV0aGVudGljYXRpb24gVXNlciB0b2tlbiBhbmQgcHJvZmlsZVxuICAgICAqL1xuICAgIGFzeW5jIGxvZ2luKGlkZW50aWZpZXIsIHBhc3N3b3JkKSB7XG4gICAgICAgIHRoaXMuY2xlYXJUb2tlbigpO1xuICAgICAgICBjb25zdCBhdXRoZW50aWNhdGlvbiA9IGF3YWl0IHRoaXMucmVxdWVzdCgncG9zdCcsICcvYXV0aC9sb2NhbCcsIHtcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICBpZGVudGlmaWVyLFxuICAgICAgICAgICAgICAgIHBhc3N3b3JkXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldFRva2VuKGF1dGhlbnRpY2F0aW9uLmp3dCk7XG4gICAgICAgIHJldHVybiBhdXRoZW50aWNhdGlvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYW4gZW1haWwgdG8gYSB1c2VyIHdpdGggdGhlIGxpbmsgb2YgeW91ciByZXNldCBwYXNzd29yZCBwYWdlLlxuICAgICAqIFRoaXMgbGluayBjb250YWlucyBhbiBVUkwgcGFyYW0gY29kZSB3aGljaCBpcyByZXF1aXJlZCB0byByZXNldCB1c2VyIHBhc3N3b3JkLlxuICAgICAqIFJlY2VpdmVkIGxpbmsgdXJsIGZvcm1hdCBodHRwczovL215LWRvbWFpbi5jb20vcmVzdC1wYXNzd29yZD9jb2RlPXByaXZhdGVDb2RlLlxuICAgICAqIEBwYXJhbSBlbWFpbFxuICAgICAqIEBwYXJhbSB1cmwgTGluayB0aGF0IHVzZXIgd2lsbCByZWNlaXZlLlxuICAgICAqL1xuICAgIGFzeW5jIGZvcmdvdFBhc3N3b3JkKGVtYWlsLCB1cmwpIHtcbiAgICAgICAgdGhpcy5jbGVhclRva2VuKCk7XG4gICAgICAgIGF3YWl0IHRoaXMucmVxdWVzdCgncG9zdCcsICcvYXV0aC9mb3Jnb3QtcGFzc3dvcmQnLCB7XG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgZW1haWwsXG4gICAgICAgICAgICAgICAgdXJsXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXNldCB0aGUgdXNlciBwYXNzd29yZC5cbiAgICAgKiBAcGFyYW0gY29kZSBJcyB0aGUgdXJsIHBhcmFtcyByZWNlaXZlZCBmcm9tIHRoZSBlbWFpbCBsaW5rIChzZWUgZm9yZ290IHBhc3N3b3JkKS5cbiAgICAgKiBAcGFyYW0gcGFzc3dvcmRcbiAgICAgKiBAcGFyYW0gcGFzc3dvcmRDb25maXJtYXRpb25cbiAgICAgKi9cbiAgICBhc3luYyByZXNldFBhc3N3b3JkKGNvZGUsIHBhc3N3b3JkLCBwYXNzd29yZENvbmZpcm1hdGlvbikge1xuICAgICAgICB0aGlzLmNsZWFyVG9rZW4oKTtcbiAgICAgICAgYXdhaXQgdGhpcy5yZXF1ZXN0KCdwb3N0JywgJy9hdXRoL3Jlc2V0LXBhc3N3b3JkJywge1xuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgIGNvZGUsXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQsXG4gICAgICAgICAgICAgICAgcGFzc3dvcmRDb25maXJtYXRpb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlIHRoZSBjb25uZWN0IHByb3ZpZGVyIFVSTFxuICAgICAqIEBwYXJhbSBwcm92aWRlclxuICAgICAqL1xuICAgIGdldFByb3ZpZGVyQXV0aGVudGljYXRpb25VcmwocHJvdmlkZXIpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuYXhpb3MuZGVmYXVsdHMuYmFzZVVSTH0vY29ubmVjdC8ke3Byb3ZpZGVyfWA7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF1dGhlbnRpY2F0ZSB0aGUgdXNlciB3aXRoIHRoZSB0b2tlbiBwcmVzZW50IG9uIHRoZSBVUkwgKGZvciBicm93c2VyKSBvciBpbiBgcGFyYW1zYCAob24gTm9kZS5qcylcbiAgICAgKiBAcGFyYW0gcHJvdmlkZXJcbiAgICAgKiBAcGFyYW0gcGFyYW1zXG4gICAgICovXG4gICAgYXN5bmMgYXV0aGVudGljYXRlUHJvdmlkZXIocHJvdmlkZXIsIHBhcmFtcykge1xuICAgICAgICB0aGlzLmNsZWFyVG9rZW4oKTtcbiAgICAgICAgLy8gSGFuZGxpbmcgYnJvd3NlciBxdWVyeVxuICAgICAgICBpZiAodGhpcy5pc0Jyb3dzZXIoKSkge1xuICAgICAgICAgICAgcGFyYW1zID0gcXMucGFyc2Uod2luZG93LmxvY2F0aW9uLnNlYXJjaCwgeyBpZ25vcmVRdWVyeVByZWZpeDogdHJ1ZSB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhdXRoZW50aWNhdGlvbiA9IGF3YWl0IHRoaXMucmVxdWVzdCgnZ2V0JywgYC9hdXRoLyR7cHJvdmlkZXJ9L2NhbGxiYWNrYCwge1xuICAgICAgICAgICAgcGFyYW1zXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldFRva2VuKGF1dGhlbnRpY2F0aW9uLmp3dCk7XG4gICAgICAgIHJldHVybiBhdXRoZW50aWNhdGlvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdCBlbnRyaWVzXG4gICAgICogQHBhcmFtIGNvbnRlbnRUeXBlUGx1cmFsaXplZFxuICAgICAqIEBwYXJhbSBwYXJhbXMgRmlsdGVyIGFuZCBvcmRlciBxdWVyaWVzLlxuICAgICAqL1xuICAgIGdldEVudHJpZXMoY29udGVudFR5cGVQbHVyYWxpemVkLCBwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCgnZ2V0JywgYC8ke2NvbnRlbnRUeXBlUGx1cmFsaXplZH1gLCB7XG4gICAgICAgICAgICBwYXJhbXNcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdG90YWwgY291bnQgb2YgZW50cmllcyB3aXRoIHRoZSBwcm92aWRlZCBjcml0ZXJpYVxuICAgICAqIEBwYXJhbSBjb250ZW50VHlwZVxuICAgICAqIEBwYXJhbSBwYXJhbXMgRmlsdGVyIGFuZCBvcmRlciBxdWVyaWVzLlxuICAgICAqL1xuICAgIGdldEVudHJ5Q291bnQoY29udGVudFR5cGUsIHBhcmFtcykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdnZXQnLCBgLyR7Y29udGVudFR5cGV9L2NvdW50YCwge1xuICAgICAgICAgICAgcGFyYW1zXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYSBzcGVjaWZpYyBlbnRyeVxuICAgICAqIEBwYXJhbSBjb250ZW50VHlwZVBsdXJhbGl6ZWQgVHlwZSBvZiBlbnRyeSBwbHVyYWxpemVkXG4gICAgICogQHBhcmFtIGlkIElEIG9mIGVudHJ5XG4gICAgICovXG4gICAgZ2V0RW50cnkoY29udGVudFR5cGVQbHVyYWxpemVkLCBpZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdnZXQnLCBgLyR7Y29udGVudFR5cGVQbHVyYWxpemVkfS8ke2lkfWApO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgZGF0YVxuICAgICAqIEBwYXJhbSBjb250ZW50VHlwZVBsdXJhbGl6ZWQgVHlwZSBvZiBlbnRyeSBwbHVyYWxpemVkXG4gICAgICogQHBhcmFtIGRhdGEgTmV3IGVudHJ5XG4gICAgICovXG4gICAgY3JlYXRlRW50cnkoY29udGVudFR5cGVQbHVyYWxpemVkLCBkYXRhKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoJ3Bvc3QnLCBgLyR7Y29udGVudFR5cGVQbHVyYWxpemVkfWAsIHtcbiAgICAgICAgICAgIGRhdGFcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBkYXRhXG4gICAgICogQHBhcmFtIGNvbnRlbnRUeXBlUGx1cmFsaXplZCBUeXBlIG9mIGVudHJ5IHBsdXJhbGl6ZWRcbiAgICAgKiBAcGFyYW0gaWQgSUQgb2YgZW50cnlcbiAgICAgKiBAcGFyYW0gZGF0YVxuICAgICAqL1xuICAgIHVwZGF0ZUVudHJ5KGNvbnRlbnRUeXBlUGx1cmFsaXplZCwgaWQsIGRhdGEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCgncHV0JywgYC8ke2NvbnRlbnRUeXBlUGx1cmFsaXplZH0vJHtpZH1gLCB7XG4gICAgICAgICAgICBkYXRhXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYW4gZW50cnlcbiAgICAgKiBAcGFyYW0gY29udGVudFR5cGVQbHVyYWxpemVkIFR5cGUgb2YgZW50cnkgcGx1cmFsaXplZFxuICAgICAqIEBwYXJhbSBpZCBJRCBvZiBlbnRyeVxuICAgICAqL1xuICAgIGRlbGV0ZUVudHJ5KGNvbnRlbnRUeXBlUGx1cmFsaXplZCwgaWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCgnZGVsZXRlJywgYC8ke2NvbnRlbnRUeXBlUGx1cmFsaXplZH0vJHtpZH1gKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VhcmNoIGZvciBmaWxlc1xuICAgICAqIEBwYXJhbSBxdWVyeSBLZXl3b3Jkc1xuICAgICAqL1xuICAgIHNlYXJjaEZpbGVzKHF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoJ2dldCcsIGAvdXBsb2FkL3NlYXJjaC8ke2RlY29kZVVSSUNvbXBvbmVudChxdWVyeSl9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBmaWxlc1xuICAgICAqIEBwYXJhbSBwYXJhbXMgRmlsdGVyIGFuZCBvcmRlciBxdWVyaWVzXG4gICAgICogQHJldHVybnMgT2JqZWN0W10gRmlsZXMgZGF0YVxuICAgICAqL1xuICAgIGdldEZpbGVzKHBhcmFtcykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdnZXQnLCAnL3VwbG9hZC9maWxlcycsIHtcbiAgICAgICAgICAgIHBhcmFtc1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGZpbGVcbiAgICAgKiBAcGFyYW0gaWQgSUQgb2YgZW50cnlcbiAgICAgKi9cbiAgICBnZXRGaWxlKGlkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoJ2dldCcsIGAvdXBsb2FkL2ZpbGVzLyR7aWR9YCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFVwbG9hZCBmaWxlc1xuICAgICAqXG4gICAgICogIyMjIEJyb3dzZXIgZXhhbXBsZVxuICAgICAqIGBgYGpzXG4gICAgICogY29uc3QgZm9ybSA9IG5ldyBGb3JtRGF0YSgpO1xuICAgICAqIGZvcm0uYXBwZW5kKCdmaWxlcycsIGZpbGVJbnB1dEVsZW1lbnQuZmlsZXNbMF0sICdmaWxlLW5hbWUuZXh0Jyk7XG4gICAgICogZm9ybS5hcHBlbmQoJ2ZpbGVzJywgZmlsZUlucHV0RWxlbWVudC5maWxlc1sxXSwgJ2ZpbGUtMi1uYW1lLmV4dCcpO1xuICAgICAqIGNvbnN0IGZpbGVzID0gYXdhaXQgc3RyYXBpLnVwbG9hZChmb3JtKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqICMjIyBOb2RlLmpzIGV4YW1wbGVcbiAgICAgKiBgYGBqc1xuICAgICAqIGNvbnN0IEZvcm1EYXRhID0gcmVxdWlyZSgnZm9ybS1kYXRhJyk7XG4gICAgICogY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuICAgICAqIGNvbnN0IGZvcm0gPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgKiBmb3JtLmFwcGVuZCgnZmlsZXMnLCBmcy5jcmVhdGVSZWFkU3RyZWFtKCcuL2ZpbGUtbmFtZS5leHQnKSwgJ2ZpbGUtbmFtZS5leHQnKTtcbiAgICAgKiBjb25zdCBmaWxlcyA9IGF3YWl0IHN0cmFwaS51cGxvYWQoZm9ybSwge1xuICAgICAqICAgaGVhZGVyczogZm9ybS5nZXRIZWFkZXJzKClcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBkYXRhIEZvcm1EYXRhXG4gICAgICogQHBhcmFtIHJlcXVlc3RDb25maWdcbiAgICAgKi9cbiAgICB1cGxvYWQoZGF0YSwgcmVxdWVzdENvbmZpZykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KCdwb3N0JywgJy91cGxvYWQnLCB7XG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgLi4ucmVxdWVzdENvbmZpZ1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRva2VuIG9uIEF4aW9zIGNvbmZpZ3VyYXRpb25cbiAgICAgKiBAcGFyYW0gdG9rZW4gUmV0cmlldmVkIGJ5IHJlZ2lzdGVyIG9yIGxvZ2luXG4gICAgICovXG4gICAgc2V0VG9rZW4odG9rZW4sIGNvbWVzRnJvbVN0b3JhZ2UpIHtcbiAgICAgICAgdGhpcy5heGlvcy5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gJ0JlYXJlciAnICsgdG9rZW47XG4gICAgICAgIGlmICh0aGlzLmlzQnJvd3NlcigpICYmICFjb21lc0Zyb21TdG9yYWdlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdG9yZUNvbmZpZy5sb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5zdG9yZUNvbmZpZy5sb2NhbFN0b3JhZ2Uua2V5LCBKU09OLnN0cmluZ2lmeSh0b2tlbikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuc3RvcmVDb25maWcuY29va2llKSB7XG4gICAgICAgICAgICAgICAgQ29va2llcy5zZXQodGhpcy5zdG9yZUNvbmZpZy5jb29raWUua2V5LCB0b2tlbiwgdGhpcy5zdG9yZUNvbmZpZy5jb29raWUub3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlIHRva2VuIGZyb20gQXhpb3MgY29uZmlndXJhdGlvblxuICAgICAqL1xuICAgIGNsZWFyVG9rZW4oKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uLkF1dGhvcml6YXRpb247XG4gICAgICAgIGlmICh0aGlzLmlzQnJvd3NlcigpKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5zdG9yZUNvbmZpZy5sb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5zdG9yZUNvbmZpZy5sb2NhbFN0b3JhZ2Uua2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLnN0b3JlQ29uZmlnLmNvb2tpZSkge1xuICAgICAgICAgICAgICAgIENvb2tpZXMucmVtb3ZlKHRoaXMuc3RvcmVDb25maWcuY29va2llLmtleSwgdGhpcy5zdG9yZUNvbmZpZy5jb29raWUub3B0aW9ucyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgaXQgcnVucyBvbiBicm93c2VyXG4gICAgICovXG4gICAgaXNCcm93c2VyKCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxleUoyWlhKemFXOXVJam96TENKbWFXeGxJam9pYzJSckxtcHpJaXdpYzI5MWNtTmxVbTl2ZENJNklpSXNJbk52ZFhKalpYTWlPbHNpTGk0dkxpNHZMaTR2YzNKakwyeHBZaTl6WkdzdWRITWlYU3dpYm1GdFpYTWlPbHRkTENKdFlYQndhVzVuY3lJNklrRkJRVUVzVDBGQlR5eExRVUV5UkN4TlFVRk5MRTlCUVU4c1EwRkJRenRCUVVOb1JpeFBRVUZQTEV0QlFVc3NUMEZCVHl4TlFVRk5MRmRCUVZjc1EwRkJRenRCUVVOeVF5eFBRVUZQTEV0QlFVc3NSVUZCUlN4TlFVRk5MRWxCUVVrc1EwRkJRenRCUVRaQ2VrSXNUVUZCVFN4RFFVRkRMRTlCUVU4c1QwRkJUeXhOUVVGTk8wbEJTWHBDT3pzN08wOUJTVWM3U1VGRFNDeFpRVU5GTEU5QlFXVXNSVUZEWml4WFFVRjVRaXhGUVVONlFpeGhRVUZyUXp0UlFVVnNReXhKUVVGSkxFTkJRVU1zUzBGQlN5eEhRVUZITEV0QlFVc3NRMEZCUXl4TlFVRk5MRU5CUVVNN1dVRkRlRUlzVDBGQlR6dFpRVU5RTEdkQ1FVRm5RaXhGUVVGRkxFVkJRVVVzUTBGQlF5eFRRVUZUTzFsQlF6bENMRWRCUVVjc1lVRkJZVHRUUVVOcVFpeERRVUZETEVOQlFVTTdVVUZEU0N4SlFVRkpMRU5CUVVNc1YwRkJWeXhIUVVGSE8xbEJRMnBDTEUxQlFVMHNSVUZCUlR0blFrRkRUaXhIUVVGSExFVkJRVVVzUzBGQlN6dG5Ra0ZEVml4UFFVRlBMRVZCUVVVN2IwSkJRMUFzU1VGQlNTeEZRVUZGTEVkQlFVYzdhVUpCUTFZN1lVRkRSanRaUVVORUxGbEJRVmtzUlVGQlJUdG5Ra0ZEV2l4SFFVRkhMRVZCUVVVc1MwRkJTenRoUVVOWU8xbEJRMFFzUjBGQlJ5eFhRVUZYTzFOQlEyWXNRMEZCUXp0UlFVVkdMRWxCUVVrc1NVRkJTU3hEUVVGRExGTkJRVk1zUlVGQlJTeEZRVUZGTzFsQlEzQkNMRWxCUVVrc1lVRkJZU3hEUVVGRE8xbEJRMnhDTEVsQlFVa3NTVUZCU1N4RFFVRkRMRmRCUVZjc1EwRkJReXhOUVVGTkxFVkJRVVU3WjBKQlF6TkNMR0ZCUVdFc1IwRkJSeXhQUVVGUExFTkJRVU1zUjBGQlJ5eERRVUZETEVsQlFVa3NRMEZCUXl4WFFVRlhMRU5CUVVNc1RVRkJUU3hEUVVGRExFZEJRVWNzUTBGQlF5eERRVUZETzJGQlF6RkVPMmxDUVVGTkxFbEJRVWtzU1VGQlNTeERRVUZETEZkQlFWY3NRMEZCUXl4WlFVRlpMRVZCUVVVN1owSkJRM2hETEdGQlFXRXNSMEZCUnl4SlFVRkpMRU5CUVVNc1MwRkJTeXhEUVVGRExFMUJRVTBzUTBGQlF5eFpRVUZaTEVOQlFVTXNUMEZCVHl4RFFVTndSQ3hKUVVGSkxFTkJRVU1zVjBGQlZ5eERRVUZETEZsQlFWa3NRMEZCUXl4SFFVRkhMRU5CUTNoQ0xFTkJRVU1zUTBGQlF6dGhRVU5rTzFsQlEwUXNTVUZCU1N4aFFVRmhMRVZCUVVVN1owSkJRMnBDTEVsQlFVa3NRMEZCUXl4UlFVRlJMRU5CUVVNc1lVRkJZU3hGUVVGRkxFbEJRVWtzUTBGQlF5eERRVUZETzJGQlEzQkRPMU5CUTBZN1NVRkRTQ3hEUVVGRE8wbEJSVVE3T3pzN08wOUJTMGM3U1VGRFNTeExRVUZMTEVOQlFVTXNUMEZCVHl4RFFVTnNRaXhOUVVGakxFVkJRMlFzUjBGQlZ5eEZRVU5ZTEdGQlFXdERPMUZCUld4RExFbEJRVWs3V1VGRFJpeE5RVUZOTEZGQlFWRXNSMEZCYTBJc1RVRkJUU3hKUVVGSkxFTkJRVU1zUzBGQlN5eERRVUZETEU5QlFVOHNRMEZCUXp0blFrRkRka1FzVFVGQlRUdG5Ra0ZEVGl4SFFVRkhPMmRDUVVOSUxFZEJRVWNzWVVGQllUdGhRVU5xUWl4RFFVRkRMRU5CUVVNN1dVRkRTQ3hQUVVGUExGRkJRVkVzUTBGQlF5eEpRVUZKTEVOQlFVTTdVMEZEZEVJN1VVRkJReXhQUVVGUExFdEJRVXNzUlVGQlJUdFpRVU5rTEVsQlFVa3NTMEZCU3l4RFFVRkRMRkZCUVZFc1JVRkJSVHRuUWtGRGJFSXNUVUZCVFN4SlFVRkpMRXRCUVVzc1EwRkJReXhMUVVGTExFTkJRVU1zVVVGQlVTeERRVUZETEVsQlFVa3NRMEZCUXl4UFFVRlBMRU5CUVVNc1EwRkJRenRoUVVNNVF6dHBRa0ZCVFR0blFrRkRUQ3hOUVVGTkxFdEJRVXNzUTBGQlF6dGhRVU5pTzFOQlEwWTdTVUZEU0N4RFFVRkRPMGxCUlVRN096czdPenRQUVUxSE8wbEJRMGtzUzBGQlN5eERRVUZETEZGQlFWRXNRMEZEYmtJc1VVRkJaMElzUlVGRGFFSXNTMEZCWVN4RlFVTmlMRkZCUVdkQ08xRkJSV2hDTEVsQlFVa3NRMEZCUXl4VlFVRlZMRVZCUVVVc1EwRkJRenRSUVVOc1FpeE5RVUZOTEdOQlFXTXNSMEZCYlVJc1RVRkJUU3hKUVVGSkxFTkJRVU1zVDBGQlR5eERRVU4yUkN4TlFVRk5MRVZCUTA0c2MwSkJRWE5DTEVWQlEzUkNPMWxCUTBVc1NVRkJTU3hGUVVGRk8yZENRVU5LTEV0QlFVczdaMEpCUTB3c1VVRkJVVHRuUWtGRFVpeFJRVUZSTzJGQlExUTdVMEZEUml4RFFVTkdMRU5CUVVNN1VVRkRSaXhKUVVGSkxFTkJRVU1zVVVGQlVTeERRVUZETEdOQlFXTXNRMEZCUXl4SFFVRkhMRU5CUVVNc1EwRkJRenRSUVVOc1F5eFBRVUZQTEdOQlFXTXNRMEZCUXp0SlFVTjRRaXhEUVVGRE8wbEJSVVE3T3pzN08wOUJTMGM3U1VGRFNTeExRVUZMTEVOQlFVTXNTMEZCU3l4RFFVTm9RaXhWUVVGclFpeEZRVU5zUWl4UlFVRm5RanRSUVVWb1FpeEpRVUZKTEVOQlFVTXNWVUZCVlN4RlFVRkZMRU5CUVVNN1VVRkRiRUlzVFVGQlRTeGpRVUZqTEVkQlFXMUNMRTFCUVUwc1NVRkJTU3hEUVVGRExFOUJRVThzUTBGRGRrUXNUVUZCVFN4RlFVTk9MR0ZCUVdFc1JVRkRZanRaUVVORkxFbEJRVWtzUlVGQlJUdG5Ra0ZEU2l4VlFVRlZPMmRDUVVOV0xGRkJRVkU3WVVGRFZEdFRRVU5HTEVOQlEwWXNRMEZCUXp0UlFVTkdMRWxCUVVrc1EwRkJReXhSUVVGUkxFTkJRVU1zWTBGQll5eERRVUZETEVkQlFVY3NRMEZCUXl4RFFVRkRPMUZCUTJ4RExFOUJRVThzWTBGQll5eERRVUZETzBsQlEzaENMRU5CUVVNN1NVRkZSRHM3T3pzN08wOUJUVWM3U1VGRFNTeExRVUZMTEVOQlFVTXNZMEZCWXl4RFFVRkRMRXRCUVdFc1JVRkJSU3hIUVVGWE8xRkJRM0JFTEVsQlFVa3NRMEZCUXl4VlFVRlZMRVZCUVVVc1EwRkJRenRSUVVOc1FpeE5RVUZOTEVsQlFVa3NRMEZCUXl4UFFVRlBMRU5CUVVNc1RVRkJUU3hGUVVGRkxIVkNRVUYxUWl4RlFVRkZPMWxCUTJ4RUxFbEJRVWtzUlVGQlJUdG5Ra0ZEU2l4TFFVRkxPMmRDUVVOTUxFZEJRVWM3WVVGRFNqdFRRVU5HTEVOQlFVTXNRMEZCUXp0SlFVTk1MRU5CUVVNN1NVRkZSRHM3T3pzN1QwRkxSenRKUVVOSkxFdEJRVXNzUTBGQlF5eGhRVUZoTEVOQlEzaENMRWxCUVZrc1JVRkRXaXhSUVVGblFpeEZRVU5vUWl4dlFrRkJORUk3VVVGRk5VSXNTVUZCU1N4RFFVRkRMRlZCUVZVc1JVRkJSU3hEUVVGRE8xRkJRMnhDTEUxQlFVMHNTVUZCU1N4RFFVRkRMRTlCUVU4c1EwRkJReXhOUVVGTkxFVkJRVVVzYzBKQlFYTkNMRVZCUVVVN1dVRkRha1FzU1VGQlNTeEZRVUZGTzJkQ1FVTktMRWxCUVVrN1owSkJRMG9zVVVGQlVUdG5Ra0ZEVWl4dlFrRkJiMEk3WVVGRGNrSTdVMEZEUml4RFFVRkRMRU5CUVVNN1NVRkRUQ3hEUVVGRE8wbEJSVVE3T3p0UFFVZEhPMGxCUTBrc05FSkJRVFJDTEVOQlFVTXNVVUZCYTBJN1VVRkRjRVFzVDBGQlR5eEhRVUZITEVsQlFVa3NRMEZCUXl4TFFVRkxMRU5CUVVNc1VVRkJVU3hEUVVGRExFOUJRVThzV1VGQldTeFJRVUZSTEVWQlFVVXNRMEZCUXp0SlFVTTVSQ3hEUVVGRE8wbEJSVVE3T3pzN1QwRkpSenRKUVVOSkxFdEJRVXNzUTBGQlF5eHZRa0ZCYjBJc1EwRkRMMElzVVVGQmEwSXNSVUZEYkVJc1RVRkJjMEk3VVVGRmRFSXNTVUZCU1N4RFFVRkRMRlZCUVZVc1JVRkJSU3hEUVVGRE8xRkJRMnhDTEhsQ1FVRjVRanRSUVVONlFpeEpRVUZKTEVsQlFVa3NRMEZCUXl4VFFVRlRMRVZCUVVVc1JVRkJSVHRaUVVOd1FpeE5RVUZOTEVkQlFVY3NSVUZCUlN4RFFVRkRMRXRCUVVzc1EwRkJReXhOUVVGTkxFTkJRVU1zVVVGQlVTeERRVUZETEUxQlFVMHNSVUZCUlN4RlFVRkZMR2xDUVVGcFFpeEZRVUZGTEVsQlFVa3NSVUZCUlN4RFFVRkRMRU5CUVVNN1UwRkRlRVU3VVVGRFJDeE5RVUZOTEdOQlFXTXNSMEZCYlVJc1RVRkJUU3hKUVVGSkxFTkJRVU1zVDBGQlR5eERRVU4yUkN4TFFVRkxMRVZCUTB3c1UwRkJVeXhSUVVGUkxGZEJRVmNzUlVGRE5VSTdXVUZEUlN4TlFVRk5PMU5CUTFBc1EwRkRSaXhEUVVGRE8xRkJRMFlzU1VGQlNTeERRVUZETEZGQlFWRXNRMEZCUXl4alFVRmpMRU5CUVVNc1IwRkJSeXhEUVVGRExFTkJRVU03VVVGRGJFTXNUMEZCVHl4alFVRmpMRU5CUVVNN1NVRkRlRUlzUTBGQlF6dEpRVVZFT3pzN08wOUJTVWM3U1VGRFNTeFZRVUZWTEVOQlEyWXNjVUpCUVRaQ0xFVkJRemRDTEUxQlFYRkRPMUZCUlhKRExFOUJRVThzU1VGQlNTeERRVUZETEU5QlFVOHNRMEZCUXl4TFFVRkxMRVZCUVVVc1NVRkJTU3h4UWtGQmNVSXNSVUZCUlN4RlFVRkZPMWxCUTNSRUxFMUJRVTA3VTBGRFVDeERRVUZETEVOQlFVTTdTVUZEVEN4RFFVRkRPMGxCUlVRN096czdUMEZKUnp0SlFVTkpMR0ZCUVdFc1EwRkRiRUlzVjBGQmJVSXNSVUZEYmtJc1RVRkJjVU03VVVGRmNrTXNUMEZCVHl4SlFVRkpMRU5CUVVNc1QwRkJUeXhEUVVGRExFdEJRVXNzUlVGQlJTeEpRVUZKTEZkQlFWY3NVVUZCVVN4RlFVRkZPMWxCUTJ4RUxFMUJRVTA3VTBGRFVDeERRVUZETEVOQlFVTTdTVUZEVEN4RFFVRkRPMGxCUlVRN096czdUMEZKUnp0SlFVTkpMRkZCUVZFc1EwRkJReXh4UWtGQk5rSXNSVUZCUlN4RlFVRlZPMUZCUTNaRUxFOUJRVThzU1VGQlNTeERRVUZETEU5QlFVOHNRMEZCUXl4TFFVRkxMRVZCUVVVc1NVRkJTU3h4UWtGQmNVSXNTVUZCU1N4RlFVRkZMRVZCUVVVc1EwRkJReXhEUVVGRE8wbEJRMmhGTEVOQlFVTTdTVUZGUkRzN096dFBRVWxITzBsQlEwa3NWMEZCVnl4RFFVTm9RaXh4UWtGQk5rSXNSVUZETjBJc1NVRkJaME03VVVGRmFFTXNUMEZCVHl4SlFVRkpMRU5CUVVNc1QwRkJUeXhEUVVGRExFMUJRVTBzUlVGQlJTeEpRVUZKTEhGQ1FVRnhRaXhGUVVGRkxFVkJRVVU3V1VGRGRrUXNTVUZCU1R0VFFVTk1MRU5CUVVNc1EwRkJRenRKUVVOTUxFTkJRVU03U1VGRlJEczdPenM3VDBGTFJ6dEpRVU5KTEZkQlFWY3NRMEZEYUVJc2NVSkJRVFpDTEVWQlF6ZENMRVZCUVZVc1JVRkRWaXhKUVVGblF6dFJRVVZvUXl4UFFVRlBMRWxCUVVrc1EwRkJReXhQUVVGUExFTkJRVU1zUzBGQlN5eEZRVUZGTEVsQlFVa3NjVUpCUVhGQ0xFbEJRVWtzUlVGQlJTeEZRVUZGTEVWQlFVVTdXVUZETlVRc1NVRkJTVHRUUVVOTUxFTkJRVU1zUTBGQlF6dEpRVU5NTEVOQlFVTTdTVUZGUkRzN096dFBRVWxITzBsQlEwa3NWMEZCVnl4RFFVTm9RaXh4UWtGQk5rSXNSVUZETjBJc1JVRkJWVHRSUVVWV0xFOUJRVThzU1VGQlNTeERRVUZETEU5QlFVOHNRMEZCUXl4UlFVRlJMRVZCUVVVc1NVRkJTU3h4UWtGQmNVSXNTVUZCU1N4RlFVRkZMRVZCUVVVc1EwRkJReXhEUVVGRE8wbEJRMjVGTEVOQlFVTTdTVUZGUkRzN08wOUJSMGM3U1VGRFNTeFhRVUZYTEVOQlFVTXNTMEZCWVR0UlFVTTVRaXhQUVVGUExFbEJRVWtzUTBGQlF5eFBRVUZQTEVOQlFVTXNTMEZCU3l4RlFVRkZMR3RDUVVGclFpeHJRa0ZCYTBJc1EwRkJReXhMUVVGTExFTkJRVU1zUlVGQlJTeERRVUZETEVOQlFVTTdTVUZETlVVc1EwRkJRenRKUVVWRU96czdPMDlCU1VjN1NVRkRTU3hSUVVGUkxFTkJRVU1zVFVGQmNVTTdVVUZEYmtRc1QwRkJUeXhKUVVGSkxFTkJRVU1zVDBGQlR5eERRVUZETEV0QlFVc3NSVUZCUlN4bFFVRmxMRVZCUVVVN1dVRkRNVU1zVFVGQlRUdFRRVU5RTEVOQlFVTXNRMEZCUXp0SlFVTk1MRU5CUVVNN1NVRkZSRHM3TzA5QlIwYzdTVUZEU1N4UFFVRlBMRU5CUVVNc1JVRkJWVHRSUVVOMlFpeFBRVUZQTEVsQlFVa3NRMEZCUXl4UFFVRlBMRU5CUVVNc1MwRkJTeXhGUVVGRkxHbENRVUZwUWl4RlFVRkZMRVZCUVVVc1EwRkJReXhEUVVGRE8wbEJRM0JFTEVOQlFVTTdTVUZGUkRzN096czdPenM3T3pzN096czdPenM3T3pzN096czdPMDlCZDBKSE8wbEJRMGtzVFVGQlRTeERRVU5ZTEVsQlFXTXNSVUZEWkN4aFFVRnJRenRSUVVWc1F5eFBRVUZQTEVsQlFVa3NRMEZCUXl4UFFVRlBMRU5CUVVNc1RVRkJUU3hGUVVGRkxGTkJRVk1zUlVGQlJUdFpRVU55UXl4SlFVRkpPMWxCUTBvc1IwRkJSeXhoUVVGaE8xTkJRMnBDTEVOQlFVTXNRMEZCUXp0SlFVTk1MRU5CUVVNN1NVRkZSRHM3TzA5QlIwYzdTVUZEU1N4UlFVRlJMRU5CUVVNc1MwRkJZU3hGUVVGRkxHZENRVUV3UWp0UlFVTjJSQ3hKUVVGSkxFTkJRVU1zUzBGQlN5eERRVUZETEZGQlFWRXNRMEZCUXl4UFFVRlBMRU5CUVVNc1RVRkJUU3hEUVVGRExHRkJRV0VzUjBGQlJ5eFRRVUZUTEVkQlFVY3NTMEZCU3l4RFFVRkRPMUZCUTNKRkxFbEJRVWtzU1VGQlNTeERRVUZETEZOQlFWTXNSVUZCUlN4SlFVRkpMRU5CUVVNc1owSkJRV2RDTEVWQlFVVTdXVUZEZWtNc1NVRkJTU3hKUVVGSkxFTkJRVU1zVjBGQlZ5eERRVUZETEZsQlFWa3NSVUZCUlR0blFrRkRha01zVFVGQlRTeERRVUZETEZsQlFWa3NRMEZCUXl4UFFVRlBMRU5CUTNwQ0xFbEJRVWtzUTBGQlF5eFhRVUZYTEVOQlFVTXNXVUZCV1N4RFFVRkRMRWRCUVVjc1JVRkRha01zU1VGQlNTeERRVUZETEZOQlFWTXNRMEZCUXl4TFFVRkxMRU5CUVVNc1EwRkRkRUlzUTBGQlF6dGhRVU5JTzFsQlEwUXNTVUZCU1N4SlFVRkpMRU5CUVVNc1YwRkJWeXhEUVVGRExFMUJRVTBzUlVGQlJUdG5Ra0ZETTBJc1QwRkJUeXhEUVVGRExFZEJRVWNzUTBGRFZDeEpRVUZKTEVOQlFVTXNWMEZCVnl4RFFVRkRMRTFCUVUwc1EwRkJReXhIUVVGSExFVkJRek5DTEV0QlFVc3NSVUZEVEN4SlFVRkpMRU5CUVVNc1YwRkJWeXhEUVVGRExFMUJRVTBzUTBGQlF5eFBRVUZQTEVOQlEyaERMRU5CUVVNN1lVRkRTRHRUUVVOR08wbEJRMGdzUTBGQlF6dEpRVVZFT3p0UFFVVkhPMGxCUTBrc1ZVRkJWVHRSUVVObUxFOUJRVThzU1VGQlNTeERRVUZETEV0QlFVc3NRMEZCUXl4UlFVRlJMRU5CUVVNc1QwRkJUeXhEUVVGRExFMUJRVTBzUTBGQlF5eGhRVUZoTEVOQlFVTTdVVUZEZUVRc1NVRkJTU3hKUVVGSkxFTkJRVU1zVTBGQlV5eEZRVUZGTEVWQlFVVTdXVUZEY0VJc1NVRkJTU3hKUVVGSkxFTkJRVU1zVjBGQlZ5eERRVUZETEZsQlFWa3NSVUZCUlR0blFrRkRha01zVFVGQlRTeERRVUZETEZsQlFWa3NRMEZCUXl4VlFVRlZMRU5CUVVNc1NVRkJTU3hEUVVGRExGZEJRVmNzUTBGQlF5eFpRVUZaTEVOQlFVTXNSMEZCUnl4RFFVRkRMRU5CUVVNN1lVRkRia1U3V1VGRFJDeEpRVUZKTEVsQlFVa3NRMEZCUXl4WFFVRlhMRU5CUVVNc1RVRkJUU3hGUVVGRk8yZENRVU16UWl4UFFVRlBMRU5CUVVNc1RVRkJUU3hEUVVOYUxFbEJRVWtzUTBGQlF5eFhRVUZYTEVOQlFVTXNUVUZCVFN4RFFVRkRMRWRCUVVjc1JVRkRNMElzU1VGQlNTeERRVUZETEZkQlFWY3NRMEZCUXl4TlFVRk5MRU5CUVVNc1QwRkJUeXhEUVVOb1F5eERRVUZETzJGQlEwZzdVMEZEUmp0SlFVTklMRU5CUVVNN1NVRkZSRHM3VDBGRlJ6dEpRVU5MTEZOQlFWTTdVVUZEWml4UFFVRlBMRTlCUVU4c1RVRkJUU3hMUVVGTExGZEJRVmNzUTBGQlF6dEpRVU4yUXl4RFFVRkRPME5CUTBZaWZRPT0iLCJpbXBvcnQgU3RyYXBpIGZyb20gJ3N0cmFwaS1zZGstamF2YXNjcmlwdCc7XG5cbmNvbnN0IEFQSV9DT05GSUcgPSB7XG4gIGJhc2VVUkw6ICdodHRwczovL2FwaS56amguaW0nLFxuICBjb250ZW50VHlwZTogJ3Bvc3RzJyxcbn1cblxuZXhwb3J0IGRlZmF1bHQgKHRva2VuKSA9PiB7XG4gIGNvbnN0IHN0cmFwaSA9IG5ldyBTdHJhcGkoXG4gICAgQVBJX0NPTkZJRy5iYXNlVVJMLFxuICAgIHt9LFxuICAgIHtcbiAgICAgIGhlYWRlcnM6IHtBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dG9rZW59YH0sXG4gICAgfVxuICApO1xuXG4gIHJldHVybiB7XG4gICAgbGlzdDogKCkgPT4ge1xuICAgICAgcmV0dXJuIHN0cmFwaS5nZXRFbnRyaWVzKEFQSV9DT05GSUcuY29udGVudFR5cGUsIHtcbiAgICAgICAgX3NvcnQ6ICdjcmVhdGVkQXQ6ZGVzYycsXG4gICAgICAgIF9saW1pdDogMTBcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY3JlYXRlOiAodGl0bGUsIGNvbnRlbnQpID0+IHtcbiAgICAgIHJldHVybiBzdHJhcGkuY3JlYXRlRW50cnkoQVBJX0NPTkZJRy5jb250ZW50VHlwZSwge1xuICAgICAgICB0aXRsZSxcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgZGF0ZTogKG5ldyBEYXRlKCkpLnRvSVNPU3RyaW5nKCksXG4gICAgICB9KTtcbiAgICB9LFxuICAgIHVwZGF0ZTogKGlkLCBjb250ZW50KSA9PiB7XG4gICAgICByZXR1cm4gc3RyYXBpLnVwZGF0ZUVudHJ5KEFQSV9DT05GSUcuY29udGVudFR5cGUsIGlkLCB7XG4gICAgICAgIGNvbnRlbnQsXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGRlbGV0ZTogKGlkKSA9PiB7XG4gICAgICByZXR1cm4gc3RyYXBpLmRlbGV0ZUVudHJ5KEFQSV9DT05GSUcuY29udGVudFR5cGUsIGlkKTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7IGRvY1RwbCwgJCB9IGZyb20gJ0B6aG91amlhaGFvL3V0aWxzJztcblxuaW1wb3J0IHJ1bk1hbmFnZVBhbmVsIGZyb20gJy4vbWFuYWdlLXBhbmUnO1xuaW1wb3J0IHt1bmluc3RhbGx9IGZyb20gJy4vbWFuYWdlLXBhbmUnO1xuaW1wb3J0IHBvc3RTREsgZnJvbSAnLi9ibG9nLWFwaS8nO1xuaW1wb3J0IHsgd2l0aExvY2FsTGlzdCB9IGZyb20gJy4vcGVyc2lzdG9yLyc7XG5cbmNvbnN0IGRvYyA9IGRvY1RwbCgncG0nLCAncG0gW2FjY2VzcyB0b2tlbl0nLCAncG9zdHMgbWFuYWdlciBmb3IgbXkgYmxvZy4nKTtcbmV4cG9ydCBkZWZhdWx0IHtcbiAgZG9jLFxuICBzaG9ydG9wdHM6ICdlJyxcbiAgaGFuZGxlcjogYXN5bmMgKFxuICAgIHBhcmFtc09iaixcbiAgICBjbWRTZXQsXG4gICAgJHRlcm1pbmFsLFxuICAgIHtcbiAgICAgIHJlc3RQYXJhbXM6IGFjY2Vzc1Rva2VuXG4gICAgfVxuICApID0+IHtcbiAgICBpZiAocGFyYW1zT2JqLmUpIHtcbiAgICAgIHVuaW5zdGFsbCgpO1xuICAgICAgcmV0dXJuICdHb29kYnllJztcbiAgICB9O1xuXG4gICAgaWYgKGFjY2Vzc1Rva2VuKSB7XG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgncG0tYWNjZXNzLXRva2VuJywgYWNjZXNzVG9rZW4pO1xuICAgIH1cblxuICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3BtLWFjY2Vzcy10b2tlbicpO1xuXG4gICAgaWYgKCF0b2tlbikge1xuICAgICAgcmV0dXJuICdhY2Nlc3MgdG9rZW4gbWlzc2luZyEnO1xuICAgIH1cblxuICAgIGlmICh0b2tlbikge1xuICAgICAgY29uc3QgYXBpID0gcG9zdFNESyh0b2tlbik7XG4gICAgICBjb25zdCBwb3N0cyA9IGF3YWl0IGFwaS5saXN0KCk7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJ1bk1hbmFnZVBhbmVsKHdpdGhMb2NhbExpc3QocG9zdHMpLCBhcGksICgpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICQoJyNndWknKS5jbGFzc0xpc3QucmVtb3ZlKCdmdWxsc2NyZWVuJyk7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgVGVybWluYWwgJiYgVGVybWluYWwuZXhlYygncG0gLWUnKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZXR1cm4gXCJFcnJvcjogSW52YWxpZCBBY2Nlc3MgVG9rZW4uIFxcbkFub255bW91cyBtb2RlIGlzIHVuc3VwcG9ydCByaWdodCBub3cuXCI7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogQSBgQ2FuY2VsYCBpcyBhbiBvYmplY3QgdGhhdCBpcyB0aHJvd24gd2hlbiBhbiBvcGVyYXRpb24gaXMgY2FuY2VsZWQuXG4gKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge3N0cmluZz19IG1lc3NhZ2UgVGhlIG1lc3NhZ2UuXG4gKi9cbmZ1bmN0aW9uIENhbmNlbChtZXNzYWdlKSB7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG59XG5cbkNhbmNlbC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuICdDYW5jZWwnICsgKHRoaXMubWVzc2FnZSA/ICc6ICcgKyB0aGlzLm1lc3NhZ2UgOiAnJyk7XG59O1xuXG5DYW5jZWwucHJvdG90eXBlLl9fQ0FOQ0VMX18gPSB0cnVlO1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhbmNlbDtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi8uLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IChcbiAgdXRpbHMuaXNTdGFuZGFyZEJyb3dzZXJFbnYoKSA/XG5cbiAgLy8gU3RhbmRhcmQgYnJvd3NlciBlbnZzIHN1cHBvcnQgZG9jdW1lbnQuY29va2llXG4gIChmdW5jdGlvbiBzdGFuZGFyZEJyb3dzZXJFbnYoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHdyaXRlOiBmdW5jdGlvbiB3cml0ZShuYW1lLCB2YWx1ZSwgZXhwaXJlcywgcGF0aCwgZG9tYWluLCBzZWN1cmUpIHtcbiAgICAgICAgdmFyIGNvb2tpZSA9IFtdO1xuICAgICAgICBjb29raWUucHVzaChuYW1lICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSk7XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzTnVtYmVyKGV4cGlyZXMpKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ2V4cGlyZXM9JyArIG5ldyBEYXRlKGV4cGlyZXMpLnRvR01UU3RyaW5nKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKHBhdGgpKSB7XG4gICAgICAgICAgY29va2llLnB1c2goJ3BhdGg9JyArIHBhdGgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHV0aWxzLmlzU3RyaW5nKGRvbWFpbikpIHtcbiAgICAgICAgICBjb29raWUucHVzaCgnZG9tYWluPScgKyBkb21haW4pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlY3VyZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIGNvb2tpZS5wdXNoKCdzZWN1cmUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGNvb2tpZS5qb2luKCc7ICcpO1xuICAgICAgfSxcblxuICAgICAgcmVhZDogZnVuY3Rpb24gcmVhZChuYW1lKSB7XG4gICAgICAgIHZhciBtYXRjaCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChuZXcgUmVnRXhwKCcoXnw7XFxcXHMqKSgnICsgbmFtZSArICcpPShbXjtdKiknKSk7XG4gICAgICAgIHJldHVybiAobWF0Y2ggPyBkZWNvZGVVUklDb21wb25lbnQobWF0Y2hbM10pIDogbnVsbCk7XG4gICAgICB9LFxuXG4gICAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZShuYW1lKSB7XG4gICAgICAgIHRoaXMud3JpdGUobmFtZSwgJycsIERhdGUubm93KCkgLSA4NjQwMDAwMCk7XG4gICAgICB9XG4gICAgfTtcbiAgfSkoKSA6XG5cbiAgLy8gTm9uIHN0YW5kYXJkIGJyb3dzZXIgZW52ICh3ZWIgd29ya2VycywgcmVhY3QtbmF0aXZlKSBsYWNrIG5lZWRlZCBzdXBwb3J0LlxuICAoZnVuY3Rpb24gbm9uU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICAgIHJldHVybiB7XG4gICAgICB3cml0ZTogZnVuY3Rpb24gd3JpdGUoKSB7fSxcbiAgICAgIHJlYWQ6IGZ1bmN0aW9uIHJlYWQoKSB7IHJldHVybiBudWxsOyB9LFxuICAgICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7fVxuICAgIH07XG4gIH0pKClcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBDYW5jZWwgPSByZXF1aXJlKCcuL0NhbmNlbCcpO1xuXG4vKipcbiAqIEEgYENhbmNlbFRva2VuYCBpcyBhbiBvYmplY3QgdGhhdCBjYW4gYmUgdXNlZCB0byByZXF1ZXN0IGNhbmNlbGxhdGlvbiBvZiBhbiBvcGVyYXRpb24uXG4gKlxuICogQGNsYXNzXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBleGVjdXRvciBUaGUgZXhlY3V0b3IgZnVuY3Rpb24uXG4gKi9cbmZ1bmN0aW9uIENhbmNlbFRva2VuKGV4ZWN1dG9yKSB7XG4gIGlmICh0eXBlb2YgZXhlY3V0b3IgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdleGVjdXRvciBtdXN0IGJlIGEgZnVuY3Rpb24uJyk7XG4gIH1cblxuICB2YXIgcmVzb2x2ZVByb21pc2U7XG4gIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIHByb21pc2VFeGVjdXRvcihyZXNvbHZlKSB7XG4gICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICB9KTtcblxuICB2YXIgdG9rZW4gPSB0aGlzO1xuICBleGVjdXRvcihmdW5jdGlvbiBjYW5jZWwobWVzc2FnZSkge1xuICAgIGlmICh0b2tlbi5yZWFzb24pIHtcbiAgICAgIC8vIENhbmNlbGxhdGlvbiBoYXMgYWxyZWFkeSBiZWVuIHJlcXVlc3RlZFxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRva2VuLnJlYXNvbiA9IG5ldyBDYW5jZWwobWVzc2FnZSk7XG4gICAgcmVzb2x2ZVByb21pc2UodG9rZW4ucmVhc29uKTtcbiAgfSk7XG59XG5cbi8qKlxuICogVGhyb3dzIGEgYENhbmNlbGAgaWYgY2FuY2VsbGF0aW9uIGhhcyBiZWVuIHJlcXVlc3RlZC5cbiAqL1xuQ2FuY2VsVG9rZW4ucHJvdG90eXBlLnRocm93SWZSZXF1ZXN0ZWQgPSBmdW5jdGlvbiB0aHJvd0lmUmVxdWVzdGVkKCkge1xuICBpZiAodGhpcy5yZWFzb24pIHtcbiAgICB0aHJvdyB0aGlzLnJlYXNvbjtcbiAgfVxufTtcblxuLyoqXG4gKiBSZXR1cm5zIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGEgbmV3IGBDYW5jZWxUb2tlbmAgYW5kIGEgZnVuY3Rpb24gdGhhdCwgd2hlbiBjYWxsZWQsXG4gKiBjYW5jZWxzIHRoZSBgQ2FuY2VsVG9rZW5gLlxuICovXG5DYW5jZWxUb2tlbi5zb3VyY2UgPSBmdW5jdGlvbiBzb3VyY2UoKSB7XG4gIHZhciBjYW5jZWw7XG4gIHZhciB0b2tlbiA9IG5ldyBDYW5jZWxUb2tlbihmdW5jdGlvbiBleGVjdXRvcihjKSB7XG4gICAgY2FuY2VsID0gYztcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgdG9rZW46IHRva2VuLFxuICAgIGNhbmNlbDogY2FuY2VsXG4gIH07XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENhbmNlbFRva2VuO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuL3V0aWxzJyk7XG5cbnZhciBoYXMgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG52YXIgZGVmYXVsdHMgPSB7XG4gICAgYWxsb3dEb3RzOiBmYWxzZSxcbiAgICBhbGxvd1Byb3RvdHlwZXM6IGZhbHNlLFxuICAgIGFycmF5TGltaXQ6IDIwLFxuICAgIGNoYXJzZXQ6ICd1dGYtOCcsXG4gICAgY2hhcnNldFNlbnRpbmVsOiBmYWxzZSxcbiAgICBjb21tYTogZmFsc2UsXG4gICAgZGVjb2RlcjogdXRpbHMuZGVjb2RlLFxuICAgIGRlbGltaXRlcjogJyYnLFxuICAgIGRlcHRoOiA1LFxuICAgIGlnbm9yZVF1ZXJ5UHJlZml4OiBmYWxzZSxcbiAgICBpbnRlcnByZXROdW1lcmljRW50aXRpZXM6IGZhbHNlLFxuICAgIHBhcmFtZXRlckxpbWl0OiAxMDAwLFxuICAgIHBhcnNlQXJyYXlzOiB0cnVlLFxuICAgIHBsYWluT2JqZWN0czogZmFsc2UsXG4gICAgc3RyaWN0TnVsbEhhbmRsaW5nOiBmYWxzZVxufTtcblxudmFyIGludGVycHJldE51bWVyaWNFbnRpdGllcyA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyYjKFxcZCspOy9nLCBmdW5jdGlvbiAoJDAsIG51bWJlclN0cikge1xuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShwYXJzZUludChudW1iZXJTdHIsIDEwKSk7XG4gICAgfSk7XG59O1xuXG4vLyBUaGlzIGlzIHdoYXQgYnJvd3NlcnMgd2lsbCBzdWJtaXQgd2hlbiB0aGUg4pyTIGNoYXJhY3RlciBvY2N1cnMgaW4gYW5cbi8vIGFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCBib2R5IGFuZCB0aGUgZW5jb2Rpbmcgb2YgdGhlIHBhZ2UgY29udGFpbmluZ1xuLy8gdGhlIGZvcm0gaXMgaXNvLTg4NTktMSwgb3Igd2hlbiB0aGUgc3VibWl0dGVkIGZvcm0gaGFzIGFuIGFjY2VwdC1jaGFyc2V0XG4vLyBhdHRyaWJ1dGUgb2YgaXNvLTg4NTktMS4gUHJlc3VtYWJseSBhbHNvIHdpdGggb3RoZXIgY2hhcnNldHMgdGhhdCBkbyBub3QgY29udGFpblxuLy8gdGhlIOKckyBjaGFyYWN0ZXIsIHN1Y2ggYXMgdXMtYXNjaWkuXG52YXIgaXNvU2VudGluZWwgPSAndXRmOD0lMjYlMjMxMDAwMyUzQic7IC8vIGVuY29kZVVSSUNvbXBvbmVudCgnJiMxMDAwMzsnKVxuXG4vLyBUaGVzZSBhcmUgdGhlIHBlcmNlbnQtZW5jb2RlZCB1dGYtOCBvY3RldHMgcmVwcmVzZW50aW5nIGEgY2hlY2ttYXJrLCBpbmRpY2F0aW5nIHRoYXQgdGhlIHJlcXVlc3QgYWN0dWFsbHkgaXMgdXRmLTggZW5jb2RlZC5cbnZhciBjaGFyc2V0U2VudGluZWwgPSAndXRmOD0lRTIlOUMlOTMnOyAvLyBlbmNvZGVVUklDb21wb25lbnQoJ+KckycpXG5cbnZhciBwYXJzZVZhbHVlcyA9IGZ1bmN0aW9uIHBhcnNlUXVlcnlTdHJpbmdWYWx1ZXMoc3RyLCBvcHRpb25zKSB7XG4gICAgdmFyIG9iaiA9IHt9O1xuICAgIHZhciBjbGVhblN0ciA9IG9wdGlvbnMuaWdub3JlUXVlcnlQcmVmaXggPyBzdHIucmVwbGFjZSgvXlxcPy8sICcnKSA6IHN0cjtcbiAgICB2YXIgbGltaXQgPSBvcHRpb25zLnBhcmFtZXRlckxpbWl0ID09PSBJbmZpbml0eSA/IHVuZGVmaW5lZCA6IG9wdGlvbnMucGFyYW1ldGVyTGltaXQ7XG4gICAgdmFyIHBhcnRzID0gY2xlYW5TdHIuc3BsaXQob3B0aW9ucy5kZWxpbWl0ZXIsIGxpbWl0KTtcbiAgICB2YXIgc2tpcEluZGV4ID0gLTE7IC8vIEtlZXAgdHJhY2sgb2Ygd2hlcmUgdGhlIHV0Zjggc2VudGluZWwgd2FzIGZvdW5kXG4gICAgdmFyIGk7XG5cbiAgICB2YXIgY2hhcnNldCA9IG9wdGlvbnMuY2hhcnNldDtcbiAgICBpZiAob3B0aW9ucy5jaGFyc2V0U2VudGluZWwpIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAgICBpZiAocGFydHNbaV0uaW5kZXhPZigndXRmOD0nKSA9PT0gMCkge1xuICAgICAgICAgICAgICAgIGlmIChwYXJ0c1tpXSA9PT0gY2hhcnNldFNlbnRpbmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYXJzZXQgPSAndXRmLTgnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocGFydHNbaV0gPT09IGlzb1NlbnRpbmVsKSB7XG4gICAgICAgICAgICAgICAgICAgIGNoYXJzZXQgPSAnaXNvLTg4NTktMSc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNraXBJbmRleCA9IGk7XG4gICAgICAgICAgICAgICAgaSA9IHBhcnRzLmxlbmd0aDsgLy8gVGhlIGVzbGludCBzZXR0aW5ncyBkbyBub3QgYWxsb3cgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKGkgPT09IHNraXBJbmRleCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHBhcnQgPSBwYXJ0c1tpXTtcblxuICAgICAgICB2YXIgYnJhY2tldEVxdWFsc1BvcyA9IHBhcnQuaW5kZXhPZignXT0nKTtcbiAgICAgICAgdmFyIHBvcyA9IGJyYWNrZXRFcXVhbHNQb3MgPT09IC0xID8gcGFydC5pbmRleE9mKCc9JykgOiBicmFja2V0RXF1YWxzUG9zICsgMTtcblxuICAgICAgICB2YXIga2V5LCB2YWw7XG4gICAgICAgIGlmIChwb3MgPT09IC0xKSB7XG4gICAgICAgICAgICBrZXkgPSBvcHRpb25zLmRlY29kZXIocGFydCwgZGVmYXVsdHMuZGVjb2RlciwgY2hhcnNldCwgJ2tleScpO1xuICAgICAgICAgICAgdmFsID0gb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmcgPyBudWxsIDogJyc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBrZXkgPSBvcHRpb25zLmRlY29kZXIocGFydC5zbGljZSgwLCBwb3MpLCBkZWZhdWx0cy5kZWNvZGVyLCBjaGFyc2V0LCAna2V5Jyk7XG4gICAgICAgICAgICB2YWwgPSBvcHRpb25zLmRlY29kZXIocGFydC5zbGljZShwb3MgKyAxKSwgZGVmYXVsdHMuZGVjb2RlciwgY2hhcnNldCwgJ3ZhbHVlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsICYmIG9wdGlvbnMuaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzICYmIGNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICAgICAgdmFsID0gaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzKHZhbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsICYmIG9wdGlvbnMuY29tbWEgJiYgdmFsLmluZGV4T2YoJywnKSA+IC0xKSB7XG4gICAgICAgICAgICB2YWwgPSB2YWwuc3BsaXQoJywnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChoYXMuY2FsbChvYmosIGtleSkpIHtcbiAgICAgICAgICAgIG9ialtrZXldID0gdXRpbHMuY29tYmluZShvYmpba2V5XSwgdmFsKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9ialtrZXldID0gdmFsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIG9iajtcbn07XG5cbnZhciBwYXJzZU9iamVjdCA9IGZ1bmN0aW9uIChjaGFpbiwgdmFsLCBvcHRpb25zKSB7XG4gICAgdmFyIGxlYWYgPSB2YWw7XG5cbiAgICBmb3IgKHZhciBpID0gY2hhaW4ubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIG9iajtcbiAgICAgICAgdmFyIHJvb3QgPSBjaGFpbltpXTtcblxuICAgICAgICBpZiAocm9vdCA9PT0gJ1tdJyAmJiBvcHRpb25zLnBhcnNlQXJyYXlzKSB7XG4gICAgICAgICAgICBvYmogPSBbXS5jb25jYXQobGVhZik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvYmogPSBvcHRpb25zLnBsYWluT2JqZWN0cyA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fTtcbiAgICAgICAgICAgIHZhciBjbGVhblJvb3QgPSByb290LmNoYXJBdCgwKSA9PT0gJ1snICYmIHJvb3QuY2hhckF0KHJvb3QubGVuZ3RoIC0gMSkgPT09ICddJyA/IHJvb3Quc2xpY2UoMSwgLTEpIDogcm9vdDtcbiAgICAgICAgICAgIHZhciBpbmRleCA9IHBhcnNlSW50KGNsZWFuUm9vdCwgMTApO1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLnBhcnNlQXJyYXlzICYmIGNsZWFuUm9vdCA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICBvYmogPSB7IDA6IGxlYWYgfTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgIWlzTmFOKGluZGV4KVxuICAgICAgICAgICAgICAgICYmIHJvb3QgIT09IGNsZWFuUm9vdFxuICAgICAgICAgICAgICAgICYmIFN0cmluZyhpbmRleCkgPT09IGNsZWFuUm9vdFxuICAgICAgICAgICAgICAgICYmIGluZGV4ID49IDBcbiAgICAgICAgICAgICAgICAmJiAob3B0aW9ucy5wYXJzZUFycmF5cyAmJiBpbmRleCA8PSBvcHRpb25zLmFycmF5TGltaXQpXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBvYmogPSBbXTtcbiAgICAgICAgICAgICAgICBvYmpbaW5kZXhdID0gbGVhZjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2JqW2NsZWFuUm9vdF0gPSBsZWFmO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGVhZiA9IG9iajtcbiAgICB9XG5cbiAgICByZXR1cm4gbGVhZjtcbn07XG5cbnZhciBwYXJzZUtleXMgPSBmdW5jdGlvbiBwYXJzZVF1ZXJ5U3RyaW5nS2V5cyhnaXZlbktleSwgdmFsLCBvcHRpb25zKSB7XG4gICAgaWYgKCFnaXZlbktleSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gVHJhbnNmb3JtIGRvdCBub3RhdGlvbiB0byBicmFja2V0IG5vdGF0aW9uXG4gICAgdmFyIGtleSA9IG9wdGlvbnMuYWxsb3dEb3RzID8gZ2l2ZW5LZXkucmVwbGFjZSgvXFwuKFteLltdKykvZywgJ1skMV0nKSA6IGdpdmVuS2V5O1xuXG4gICAgLy8gVGhlIHJlZ2V4IGNodW5rc1xuXG4gICAgdmFyIGJyYWNrZXRzID0gLyhcXFtbXltcXF1dKl0pLztcbiAgICB2YXIgY2hpbGQgPSAvKFxcW1teW1xcXV0qXSkvZztcblxuICAgIC8vIEdldCB0aGUgcGFyZW50XG5cbiAgICB2YXIgc2VnbWVudCA9IG9wdGlvbnMuZGVwdGggPiAwICYmIGJyYWNrZXRzLmV4ZWMoa2V5KTtcbiAgICB2YXIgcGFyZW50ID0gc2VnbWVudCA/IGtleS5zbGljZSgwLCBzZWdtZW50LmluZGV4KSA6IGtleTtcblxuICAgIC8vIFN0YXNoIHRoZSBwYXJlbnQgaWYgaXQgZXhpc3RzXG5cbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgLy8gSWYgd2UgYXJlbid0IHVzaW5nIHBsYWluIG9iamVjdHMsIG9wdGlvbmFsbHkgcHJlZml4IGtleXMgdGhhdCB3b3VsZCBvdmVyd3JpdGUgb2JqZWN0IHByb3RvdHlwZSBwcm9wZXJ0aWVzXG4gICAgICAgIGlmICghb3B0aW9ucy5wbGFpbk9iamVjdHMgJiYgaGFzLmNhbGwoT2JqZWN0LnByb3RvdHlwZSwgcGFyZW50KSkge1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmFsbG93UHJvdG90eXBlcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGtleXMucHVzaChwYXJlbnQpO1xuICAgIH1cblxuICAgIC8vIExvb3AgdGhyb3VnaCBjaGlsZHJlbiBhcHBlbmRpbmcgdG8gdGhlIGFycmF5IHVudGlsIHdlIGhpdCBkZXB0aFxuXG4gICAgdmFyIGkgPSAwO1xuICAgIHdoaWxlIChvcHRpb25zLmRlcHRoID4gMCAmJiAoc2VnbWVudCA9IGNoaWxkLmV4ZWMoa2V5KSkgIT09IG51bGwgJiYgaSA8IG9wdGlvbnMuZGVwdGgpIHtcbiAgICAgICAgaSArPSAxO1xuICAgICAgICBpZiAoIW9wdGlvbnMucGxhaW5PYmplY3RzICYmIGhhcy5jYWxsKE9iamVjdC5wcm90b3R5cGUsIHNlZ21lbnRbMV0uc2xpY2UoMSwgLTEpKSkge1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmFsbG93UHJvdG90eXBlcykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBrZXlzLnB1c2goc2VnbWVudFsxXSk7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlcmUncyBhIHJlbWFpbmRlciwganVzdCBhZGQgd2hhdGV2ZXIgaXMgbGVmdFxuXG4gICAgaWYgKHNlZ21lbnQpIHtcbiAgICAgICAga2V5cy5wdXNoKCdbJyArIGtleS5zbGljZShzZWdtZW50LmluZGV4KSArICddJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhcnNlT2JqZWN0KGtleXMsIHZhbCwgb3B0aW9ucyk7XG59O1xuXG52YXIgbm9ybWFsaXplUGFyc2VPcHRpb25zID0gZnVuY3Rpb24gbm9ybWFsaXplUGFyc2VPcHRpb25zKG9wdHMpIHtcbiAgICBpZiAoIW9wdHMpIHtcbiAgICAgICAgcmV0dXJuIGRlZmF1bHRzO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmRlY29kZXIgIT09IG51bGwgJiYgb3B0cy5kZWNvZGVyICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIG9wdHMuZGVjb2RlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdEZWNvZGVyIGhhcyB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0cy5jaGFyc2V0ICE9PSAndW5kZWZpbmVkJyAmJiBvcHRzLmNoYXJzZXQgIT09ICd1dGYtOCcgJiYgb3B0cy5jaGFyc2V0ICE9PSAnaXNvLTg4NTktMScpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGUgY2hhcnNldCBvcHRpb24gbXVzdCBiZSBlaXRoZXIgdXRmLTgsIGlzby04ODU5LTEsIG9yIHVuZGVmaW5lZCcpO1xuICAgIH1cbiAgICB2YXIgY2hhcnNldCA9IHR5cGVvZiBvcHRzLmNoYXJzZXQgPT09ICd1bmRlZmluZWQnID8gZGVmYXVsdHMuY2hhcnNldCA6IG9wdHMuY2hhcnNldDtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGFsbG93RG90czogdHlwZW9mIG9wdHMuYWxsb3dEb3RzID09PSAndW5kZWZpbmVkJyA/IGRlZmF1bHRzLmFsbG93RG90cyA6ICEhb3B0cy5hbGxvd0RvdHMsXG4gICAgICAgIGFsbG93UHJvdG90eXBlczogdHlwZW9mIG9wdHMuYWxsb3dQcm90b3R5cGVzID09PSAnYm9vbGVhbicgPyBvcHRzLmFsbG93UHJvdG90eXBlcyA6IGRlZmF1bHRzLmFsbG93UHJvdG90eXBlcyxcbiAgICAgICAgYXJyYXlMaW1pdDogdHlwZW9mIG9wdHMuYXJyYXlMaW1pdCA9PT0gJ251bWJlcicgPyBvcHRzLmFycmF5TGltaXQgOiBkZWZhdWx0cy5hcnJheUxpbWl0LFxuICAgICAgICBjaGFyc2V0OiBjaGFyc2V0LFxuICAgICAgICBjaGFyc2V0U2VudGluZWw6IHR5cGVvZiBvcHRzLmNoYXJzZXRTZW50aW5lbCA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5jaGFyc2V0U2VudGluZWwgOiBkZWZhdWx0cy5jaGFyc2V0U2VudGluZWwsXG4gICAgICAgIGNvbW1hOiB0eXBlb2Ygb3B0cy5jb21tYSA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5jb21tYSA6IGRlZmF1bHRzLmNvbW1hLFxuICAgICAgICBkZWNvZGVyOiB0eXBlb2Ygb3B0cy5kZWNvZGVyID09PSAnZnVuY3Rpb24nID8gb3B0cy5kZWNvZGVyIDogZGVmYXVsdHMuZGVjb2RlcixcbiAgICAgICAgZGVsaW1pdGVyOiB0eXBlb2Ygb3B0cy5kZWxpbWl0ZXIgPT09ICdzdHJpbmcnIHx8IHV0aWxzLmlzUmVnRXhwKG9wdHMuZGVsaW1pdGVyKSA/IG9wdHMuZGVsaW1pdGVyIDogZGVmYXVsdHMuZGVsaW1pdGVyLFxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8taW1wbGljaXQtY29lcmNpb24sIG5vLWV4dHJhLXBhcmVuc1xuICAgICAgICBkZXB0aDogKHR5cGVvZiBvcHRzLmRlcHRoID09PSAnbnVtYmVyJyB8fCBvcHRzLmRlcHRoID09PSBmYWxzZSkgPyArb3B0cy5kZXB0aCA6IGRlZmF1bHRzLmRlcHRoLFxuICAgICAgICBpZ25vcmVRdWVyeVByZWZpeDogb3B0cy5pZ25vcmVRdWVyeVByZWZpeCA9PT0gdHJ1ZSxcbiAgICAgICAgaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzOiB0eXBlb2Ygb3B0cy5pbnRlcnByZXROdW1lcmljRW50aXRpZXMgPT09ICdib29sZWFuJyA/IG9wdHMuaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzIDogZGVmYXVsdHMuaW50ZXJwcmV0TnVtZXJpY0VudGl0aWVzLFxuICAgICAgICBwYXJhbWV0ZXJMaW1pdDogdHlwZW9mIG9wdHMucGFyYW1ldGVyTGltaXQgPT09ICdudW1iZXInID8gb3B0cy5wYXJhbWV0ZXJMaW1pdCA6IGRlZmF1bHRzLnBhcmFtZXRlckxpbWl0LFxuICAgICAgICBwYXJzZUFycmF5czogb3B0cy5wYXJzZUFycmF5cyAhPT0gZmFsc2UsXG4gICAgICAgIHBsYWluT2JqZWN0czogdHlwZW9mIG9wdHMucGxhaW5PYmplY3RzID09PSAnYm9vbGVhbicgPyBvcHRzLnBsYWluT2JqZWN0cyA6IGRlZmF1bHRzLnBsYWluT2JqZWN0cyxcbiAgICAgICAgc3RyaWN0TnVsbEhhbmRsaW5nOiB0eXBlb2Ygb3B0cy5zdHJpY3ROdWxsSGFuZGxpbmcgPT09ICdib29sZWFuJyA/IG9wdHMuc3RyaWN0TnVsbEhhbmRsaW5nIDogZGVmYXVsdHMuc3RyaWN0TnVsbEhhbmRsaW5nXG4gICAgfTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHN0ciwgb3B0cykge1xuICAgIHZhciBvcHRpb25zID0gbm9ybWFsaXplUGFyc2VPcHRpb25zKG9wdHMpO1xuXG4gICAgaWYgKHN0ciA9PT0gJycgfHwgc3RyID09PSBudWxsIHx8IHR5cGVvZiBzdHIgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zLnBsYWluT2JqZWN0cyA/IE9iamVjdC5jcmVhdGUobnVsbCkgOiB7fTtcbiAgICB9XG5cbiAgICB2YXIgdGVtcE9iaiA9IHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnID8gcGFyc2VWYWx1ZXMoc3RyLCBvcHRpb25zKSA6IHN0cjtcbiAgICB2YXIgb2JqID0gb3B0aW9ucy5wbGFpbk9iamVjdHMgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge307XG5cbiAgICAvLyBJdGVyYXRlIG92ZXIgdGhlIGtleXMgYW5kIHNldHVwIHRoZSBuZXcgb2JqZWN0XG5cbiAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRlbXBPYmopO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgdmFyIG5ld09iaiA9IHBhcnNlS2V5cyhrZXksIHRlbXBPYmpba2V5XSwgb3B0aW9ucyk7XG4gICAgICAgIG9iaiA9IHV0aWxzLm1lcmdlKG9iaiwgbmV3T2JqLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdXRpbHMuY29tcGFjdChvYmopO1xufTtcbiIsIi8qIVxuICogSmF2YVNjcmlwdCBDb29raWUgdjIuMi4xXG4gKiBodHRwczovL2dpdGh1Yi5jb20vanMtY29va2llL2pzLWNvb2tpZVxuICpcbiAqIENvcHlyaWdodCAyMDA2LCAyMDE1IEtsYXVzIEhhcnRsICYgRmFnbmVyIEJyYWNrXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqL1xuOyhmdW5jdGlvbiAoZmFjdG9yeSkge1xuXHR2YXIgcmVnaXN0ZXJlZEluTW9kdWxlTG9hZGVyO1xuXHRpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG5cdFx0ZGVmaW5lKGZhY3RvcnkpO1xuXHRcdHJlZ2lzdGVyZWRJbk1vZHVsZUxvYWRlciA9IHRydWU7XG5cdH1cblx0aWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuXHRcdG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuXHRcdHJlZ2lzdGVyZWRJbk1vZHVsZUxvYWRlciA9IHRydWU7XG5cdH1cblx0aWYgKCFyZWdpc3RlcmVkSW5Nb2R1bGVMb2FkZXIpIHtcblx0XHR2YXIgT2xkQ29va2llcyA9IHdpbmRvdy5Db29raWVzO1xuXHRcdHZhciBhcGkgPSB3aW5kb3cuQ29va2llcyA9IGZhY3RvcnkoKTtcblx0XHRhcGkubm9Db25mbGljdCA9IGZ1bmN0aW9uICgpIHtcblx0XHRcdHdpbmRvdy5Db29raWVzID0gT2xkQ29va2llcztcblx0XHRcdHJldHVybiBhcGk7XG5cdFx0fTtcblx0fVxufShmdW5jdGlvbiAoKSB7XG5cdGZ1bmN0aW9uIGV4dGVuZCAoKSB7XG5cdFx0dmFyIGkgPSAwO1xuXHRcdHZhciByZXN1bHQgPSB7fTtcblx0XHRmb3IgKDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuXHRcdFx0dmFyIGF0dHJpYnV0ZXMgPSBhcmd1bWVudHNbIGkgXTtcblx0XHRcdGZvciAodmFyIGtleSBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdHJlc3VsdFtrZXldID0gYXR0cmlidXRlc1trZXldO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0ZnVuY3Rpb24gZGVjb2RlIChzKSB7XG5cdFx0cmV0dXJuIHMucmVwbGFjZSgvKCVbMC05QS1aXXsyfSkrL2csIGRlY29kZVVSSUNvbXBvbmVudCk7XG5cdH1cblxuXHRmdW5jdGlvbiBpbml0IChjb252ZXJ0ZXIpIHtcblx0XHRmdW5jdGlvbiBhcGkoKSB7fVxuXG5cdFx0ZnVuY3Rpb24gc2V0IChrZXksIHZhbHVlLCBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdGF0dHJpYnV0ZXMgPSBleHRlbmQoe1xuXHRcdFx0XHRwYXRoOiAnLydcblx0XHRcdH0sIGFwaS5kZWZhdWx0cywgYXR0cmlidXRlcyk7XG5cblx0XHRcdGlmICh0eXBlb2YgYXR0cmlidXRlcy5leHBpcmVzID09PSAnbnVtYmVyJykge1xuXHRcdFx0XHRhdHRyaWJ1dGVzLmV4cGlyZXMgPSBuZXcgRGF0ZShuZXcgRGF0ZSgpICogMSArIGF0dHJpYnV0ZXMuZXhwaXJlcyAqIDg2NGUrNSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIFdlJ3JlIHVzaW5nIFwiZXhwaXJlc1wiIGJlY2F1c2UgXCJtYXgtYWdlXCIgaXMgbm90IHN1cHBvcnRlZCBieSBJRVxuXHRcdFx0YXR0cmlidXRlcy5leHBpcmVzID0gYXR0cmlidXRlcy5leHBpcmVzID8gYXR0cmlidXRlcy5leHBpcmVzLnRvVVRDU3RyaW5nKCkgOiAnJztcblxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dmFyIHJlc3VsdCA9IEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcblx0XHRcdFx0aWYgKC9eW1xce1xcW10vLnRlc3QocmVzdWx0KSkge1xuXHRcdFx0XHRcdHZhbHVlID0gcmVzdWx0O1xuXHRcdFx0XHR9XG5cdFx0XHR9IGNhdGNoIChlKSB7fVxuXG5cdFx0XHR2YWx1ZSA9IGNvbnZlcnRlci53cml0ZSA/XG5cdFx0XHRcdGNvbnZlcnRlci53cml0ZSh2YWx1ZSwga2V5KSA6XG5cdFx0XHRcdGVuY29kZVVSSUNvbXBvbmVudChTdHJpbmcodmFsdWUpKVxuXHRcdFx0XHRcdC5yZXBsYWNlKC8lKDIzfDI0fDI2fDJCfDNBfDNDfDNFfDNEfDJGfDNGfDQwfDVCfDVEfDVFfDYwfDdCfDdEfDdDKS9nLCBkZWNvZGVVUklDb21wb25lbnQpO1xuXG5cdFx0XHRrZXkgPSBlbmNvZGVVUklDb21wb25lbnQoU3RyaW5nKGtleSkpXG5cdFx0XHRcdC5yZXBsYWNlKC8lKDIzfDI0fDI2fDJCfDVFfDYwfDdDKS9nLCBkZWNvZGVVUklDb21wb25lbnQpXG5cdFx0XHRcdC5yZXBsYWNlKC9bXFwoXFwpXS9nLCBlc2NhcGUpO1xuXG5cdFx0XHR2YXIgc3RyaW5naWZpZWRBdHRyaWJ1dGVzID0gJyc7XG5cdFx0XHRmb3IgKHZhciBhdHRyaWJ1dGVOYW1lIGluIGF0dHJpYnV0ZXMpIHtcblx0XHRcdFx0aWYgKCFhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdKSB7XG5cdFx0XHRcdFx0Y29udGludWU7XG5cdFx0XHRcdH1cblx0XHRcdFx0c3RyaW5naWZpZWRBdHRyaWJ1dGVzICs9ICc7ICcgKyBhdHRyaWJ1dGVOYW1lO1xuXHRcdFx0XHRpZiAoYXR0cmlidXRlc1thdHRyaWJ1dGVOYW1lXSA9PT0gdHJ1ZSkge1xuXHRcdFx0XHRcdGNvbnRpbnVlO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0Ly8gQ29uc2lkZXJzIFJGQyA2MjY1IHNlY3Rpb24gNS4yOlxuXHRcdFx0XHQvLyAuLi5cblx0XHRcdFx0Ly8gMy4gIElmIHRoZSByZW1haW5pbmcgdW5wYXJzZWQtYXR0cmlidXRlcyBjb250YWlucyBhICV4M0IgKFwiO1wiKVxuXHRcdFx0XHQvLyAgICAgY2hhcmFjdGVyOlxuXHRcdFx0XHQvLyBDb25zdW1lIHRoZSBjaGFyYWN0ZXJzIG9mIHRoZSB1bnBhcnNlZC1hdHRyaWJ1dGVzIHVwIHRvLFxuXHRcdFx0XHQvLyBub3QgaW5jbHVkaW5nLCB0aGUgZmlyc3QgJXgzQiAoXCI7XCIpIGNoYXJhY3Rlci5cblx0XHRcdFx0Ly8gLi4uXG5cdFx0XHRcdHN0cmluZ2lmaWVkQXR0cmlidXRlcyArPSAnPScgKyBhdHRyaWJ1dGVzW2F0dHJpYnV0ZU5hbWVdLnNwbGl0KCc7JylbMF07XG5cdFx0XHR9XG5cblx0XHRcdHJldHVybiAoZG9jdW1lbnQuY29va2llID0ga2V5ICsgJz0nICsgdmFsdWUgKyBzdHJpbmdpZmllZEF0dHJpYnV0ZXMpO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGdldCAoa2V5LCBqc29uKSB7XG5cdFx0XHRpZiAodHlwZW9mIGRvY3VtZW50ID09PSAndW5kZWZpbmVkJykge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cblx0XHRcdHZhciBqYXIgPSB7fTtcblx0XHRcdC8vIFRvIHByZXZlbnQgdGhlIGZvciBsb29wIGluIHRoZSBmaXJzdCBwbGFjZSBhc3NpZ24gYW4gZW1wdHkgYXJyYXlcblx0XHRcdC8vIGluIGNhc2UgdGhlcmUgYXJlIG5vIGNvb2tpZXMgYXQgYWxsLlxuXHRcdFx0dmFyIGNvb2tpZXMgPSBkb2N1bWVudC5jb29raWUgPyBkb2N1bWVudC5jb29raWUuc3BsaXQoJzsgJykgOiBbXTtcblx0XHRcdHZhciBpID0gMDtcblxuXHRcdFx0Zm9yICg7IGkgPCBjb29raWVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdHZhciBwYXJ0cyA9IGNvb2tpZXNbaV0uc3BsaXQoJz0nKTtcblx0XHRcdFx0dmFyIGNvb2tpZSA9IHBhcnRzLnNsaWNlKDEpLmpvaW4oJz0nKTtcblxuXHRcdFx0XHRpZiAoIWpzb24gJiYgY29va2llLmNoYXJBdCgwKSA9PT0gJ1wiJykge1xuXHRcdFx0XHRcdGNvb2tpZSA9IGNvb2tpZS5zbGljZSgxLCAtMSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdHZhciBuYW1lID0gZGVjb2RlKHBhcnRzWzBdKTtcblx0XHRcdFx0XHRjb29raWUgPSAoY29udmVydGVyLnJlYWQgfHwgY29udmVydGVyKShjb29raWUsIG5hbWUpIHx8XG5cdFx0XHRcdFx0XHRkZWNvZGUoY29va2llKTtcblxuXHRcdFx0XHRcdGlmIChqc29uKSB7XG5cdFx0XHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdFx0XHRjb29raWUgPSBKU09OLnBhcnNlKGNvb2tpZSk7XG5cdFx0XHRcdFx0XHR9IGNhdGNoIChlKSB7fVxuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdGphcltuYW1lXSA9IGNvb2tpZTtcblxuXHRcdFx0XHRcdGlmIChrZXkgPT09IG5hbWUpIHtcblx0XHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSBjYXRjaCAoZSkge31cblx0XHRcdH1cblxuXHRcdFx0cmV0dXJuIGtleSA/IGphcltrZXldIDogamFyO1xuXHRcdH1cblxuXHRcdGFwaS5zZXQgPSBzZXQ7XG5cdFx0YXBpLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdHJldHVybiBnZXQoa2V5LCBmYWxzZSAvKiByZWFkIGFzIHJhdyAqLyk7XG5cdFx0fTtcblx0XHRhcGkuZ2V0SlNPTiA9IGZ1bmN0aW9uIChrZXkpIHtcblx0XHRcdHJldHVybiBnZXQoa2V5LCB0cnVlIC8qIHJlYWQgYXMganNvbiAqLyk7XG5cdFx0fTtcblx0XHRhcGkucmVtb3ZlID0gZnVuY3Rpb24gKGtleSwgYXR0cmlidXRlcykge1xuXHRcdFx0c2V0KGtleSwgJycsIGV4dGVuZChhdHRyaWJ1dGVzLCB7XG5cdFx0XHRcdGV4cGlyZXM6IC0xXG5cdFx0XHR9KSk7XG5cdFx0fTtcblxuXHRcdGFwaS5kZWZhdWx0cyA9IHt9O1xuXG5cdFx0YXBpLndpdGhDb252ZXJ0ZXIgPSBpbml0O1xuXG5cdFx0cmV0dXJuIGFwaTtcblx0fVxuXG5cdHJldHVybiBpbml0KGZ1bmN0aW9uICgpIHt9KTtcbn0pKTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHJlcGxhY2UgPSBTdHJpbmcucHJvdG90eXBlLnJlcGxhY2U7XG52YXIgcGVyY2VudFR3ZW50aWVzID0gLyUyMC9nO1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbHMnKTtcblxudmFyIEZvcm1hdCA9IHtcbiAgICBSRkMxNzM4OiAnUkZDMTczOCcsXG4gICAgUkZDMzk4NjogJ1JGQzM5ODYnXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHV0aWwuYXNzaWduKFxuICAgIHtcbiAgICAgICAgJ2RlZmF1bHQnOiBGb3JtYXQuUkZDMzk4NixcbiAgICAgICAgZm9ybWF0dGVyczoge1xuICAgICAgICAgICAgUkZDMTczODogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcGxhY2UuY2FsbCh2YWx1ZSwgcGVyY2VudFR3ZW50aWVzLCAnKycpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFJGQzM5ODY6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBGb3JtYXRcbik7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcbnZhciBzZXR0bGUgPSByZXF1aXJlKCcuLy4uL2NvcmUvc2V0dGxlJyk7XG52YXIgYnVpbGRVUkwgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvYnVpbGRVUkwnKTtcbnZhciBwYXJzZUhlYWRlcnMgPSByZXF1aXJlKCcuLy4uL2hlbHBlcnMvcGFyc2VIZWFkZXJzJyk7XG52YXIgaXNVUkxTYW1lT3JpZ2luID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2lzVVJMU2FtZU9yaWdpbicpO1xudmFyIGNyZWF0ZUVycm9yID0gcmVxdWlyZSgnLi4vY29yZS9jcmVhdGVFcnJvcicpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHhockFkYXB0ZXIoY29uZmlnKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiBkaXNwYXRjaFhoclJlcXVlc3QocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHJlcXVlc3REYXRhID0gY29uZmlnLmRhdGE7XG4gICAgdmFyIHJlcXVlc3RIZWFkZXJzID0gY29uZmlnLmhlYWRlcnM7XG5cbiAgICBpZiAodXRpbHMuaXNGb3JtRGF0YShyZXF1ZXN0RGF0YSkpIHtcbiAgICAgIGRlbGV0ZSByZXF1ZXN0SGVhZGVyc1snQ29udGVudC1UeXBlJ107IC8vIExldCB0aGUgYnJvd3NlciBzZXQgaXRcbiAgICB9XG5cbiAgICB2YXIgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xuXG4gICAgLy8gSFRUUCBiYXNpYyBhdXRoZW50aWNhdGlvblxuICAgIGlmIChjb25maWcuYXV0aCkge1xuICAgICAgdmFyIHVzZXJuYW1lID0gY29uZmlnLmF1dGgudXNlcm5hbWUgfHwgJyc7XG4gICAgICB2YXIgcGFzc3dvcmQgPSBjb25maWcuYXV0aC5wYXNzd29yZCB8fCAnJztcbiAgICAgIHJlcXVlc3RIZWFkZXJzLkF1dGhvcml6YXRpb24gPSAnQmFzaWMgJyArIGJ0b2EodXNlcm5hbWUgKyAnOicgKyBwYXNzd29yZCk7XG4gICAgfVxuXG4gICAgcmVxdWVzdC5vcGVuKGNvbmZpZy5tZXRob2QudG9VcHBlckNhc2UoKSwgYnVpbGRVUkwoY29uZmlnLnVybCwgY29uZmlnLnBhcmFtcywgY29uZmlnLnBhcmFtc1NlcmlhbGl6ZXIpLCB0cnVlKTtcblxuICAgIC8vIFNldCB0aGUgcmVxdWVzdCB0aW1lb3V0IGluIE1TXG4gICAgcmVxdWVzdC50aW1lb3V0ID0gY29uZmlnLnRpbWVvdXQ7XG5cbiAgICAvLyBMaXN0ZW4gZm9yIHJlYWR5IHN0YXRlXG4gICAgcmVxdWVzdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiBoYW5kbGVMb2FkKCkge1xuICAgICAgaWYgKCFyZXF1ZXN0IHx8IHJlcXVlc3QucmVhZHlTdGF0ZSAhPT0gNCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSByZXF1ZXN0IGVycm9yZWQgb3V0IGFuZCB3ZSBkaWRuJ3QgZ2V0IGEgcmVzcG9uc2UsIHRoaXMgd2lsbCBiZVxuICAgICAgLy8gaGFuZGxlZCBieSBvbmVycm9yIGluc3RlYWRcbiAgICAgIC8vIFdpdGggb25lIGV4Y2VwdGlvbjogcmVxdWVzdCB0aGF0IHVzaW5nIGZpbGU6IHByb3RvY29sLCBtb3N0IGJyb3dzZXJzXG4gICAgICAvLyB3aWxsIHJldHVybiBzdGF0dXMgYXMgMCBldmVuIHRob3VnaCBpdCdzIGEgc3VjY2Vzc2Z1bCByZXF1ZXN0XG4gICAgICBpZiAocmVxdWVzdC5zdGF0dXMgPT09IDAgJiYgIShyZXF1ZXN0LnJlc3BvbnNlVVJMICYmIHJlcXVlc3QucmVzcG9uc2VVUkwuaW5kZXhPZignZmlsZTonKSA9PT0gMCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBQcmVwYXJlIHRoZSByZXNwb25zZVxuICAgICAgdmFyIHJlc3BvbnNlSGVhZGVycyA9ICdnZXRBbGxSZXNwb25zZUhlYWRlcnMnIGluIHJlcXVlc3QgPyBwYXJzZUhlYWRlcnMocmVxdWVzdC5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSkgOiBudWxsO1xuICAgICAgdmFyIHJlc3BvbnNlRGF0YSA9ICFjb25maWcucmVzcG9uc2VUeXBlIHx8IGNvbmZpZy5yZXNwb25zZVR5cGUgPT09ICd0ZXh0JyA/IHJlcXVlc3QucmVzcG9uc2VUZXh0IDogcmVxdWVzdC5yZXNwb25zZTtcbiAgICAgIHZhciByZXNwb25zZSA9IHtcbiAgICAgICAgZGF0YTogcmVzcG9uc2VEYXRhLFxuICAgICAgICBzdGF0dXM6IHJlcXVlc3Quc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXF1ZXN0LnN0YXR1c1RleHQsXG4gICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgY29uZmlnOiBjb25maWcsXG4gICAgICAgIHJlcXVlc3Q6IHJlcXVlc3RcbiAgICAgIH07XG5cbiAgICAgIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHJlc3BvbnNlKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSBsb3cgbGV2ZWwgbmV0d29yayBlcnJvcnNcbiAgICByZXF1ZXN0Lm9uZXJyb3IgPSBmdW5jdGlvbiBoYW5kbGVFcnJvcigpIHtcbiAgICAgIC8vIFJlYWwgZXJyb3JzIGFyZSBoaWRkZW4gZnJvbSB1cyBieSB0aGUgYnJvd3NlclxuICAgICAgLy8gb25lcnJvciBzaG91bGQgb25seSBmaXJlIGlmIGl0J3MgYSBuZXR3b3JrIGVycm9yXG4gICAgICByZWplY3QoY3JlYXRlRXJyb3IoJ05ldHdvcmsgRXJyb3InLCBjb25maWcsIG51bGwsIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEhhbmRsZSB0aW1lb3V0XG4gICAgcmVxdWVzdC5vbnRpbWVvdXQgPSBmdW5jdGlvbiBoYW5kbGVUaW1lb3V0KCkge1xuICAgICAgcmVqZWN0KGNyZWF0ZUVycm9yKCd0aW1lb3V0IG9mICcgKyBjb25maWcudGltZW91dCArICdtcyBleGNlZWRlZCcsIGNvbmZpZywgJ0VDT05OQUJPUlRFRCcsXG4gICAgICAgIHJlcXVlc3QpKTtcblxuICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgcmVxdWVzdCA9IG51bGw7XG4gICAgfTtcblxuICAgIC8vIEFkZCB4c3JmIGhlYWRlclxuICAgIC8vIFRoaXMgaXMgb25seSBkb25lIGlmIHJ1bm5pbmcgaW4gYSBzdGFuZGFyZCBicm93c2VyIGVudmlyb25tZW50LlxuICAgIC8vIFNwZWNpZmljYWxseSBub3QgaWYgd2UncmUgaW4gYSB3ZWIgd29ya2VyLCBvciByZWFjdC1uYXRpdmUuXG4gICAgaWYgKHV0aWxzLmlzU3RhbmRhcmRCcm93c2VyRW52KCkpIHtcbiAgICAgIHZhciBjb29raWVzID0gcmVxdWlyZSgnLi8uLi9oZWxwZXJzL2Nvb2tpZXMnKTtcblxuICAgICAgLy8gQWRkIHhzcmYgaGVhZGVyXG4gICAgICB2YXIgeHNyZlZhbHVlID0gKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMgfHwgaXNVUkxTYW1lT3JpZ2luKGNvbmZpZy51cmwpKSAmJiBjb25maWcueHNyZkNvb2tpZU5hbWUgP1xuICAgICAgICAgIGNvb2tpZXMucmVhZChjb25maWcueHNyZkNvb2tpZU5hbWUpIDpcbiAgICAgICAgICB1bmRlZmluZWQ7XG5cbiAgICAgIGlmICh4c3JmVmFsdWUpIHtcbiAgICAgICAgcmVxdWVzdEhlYWRlcnNbY29uZmlnLnhzcmZIZWFkZXJOYW1lXSA9IHhzcmZWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGQgaGVhZGVycyB0byB0aGUgcmVxdWVzdFxuICAgIGlmICgnc2V0UmVxdWVzdEhlYWRlcicgaW4gcmVxdWVzdCkge1xuICAgICAgdXRpbHMuZm9yRWFjaChyZXF1ZXN0SGVhZGVycywgZnVuY3Rpb24gc2V0UmVxdWVzdEhlYWRlcih2YWwsIGtleSkge1xuICAgICAgICBpZiAodHlwZW9mIHJlcXVlc3REYXRhID09PSAndW5kZWZpbmVkJyAmJiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gJ2NvbnRlbnQtdHlwZScpIHtcbiAgICAgICAgICAvLyBSZW1vdmUgQ29udGVudC1UeXBlIGlmIGRhdGEgaXMgdW5kZWZpbmVkXG4gICAgICAgICAgZGVsZXRlIHJlcXVlc3RIZWFkZXJzW2tleV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT3RoZXJ3aXNlIGFkZCBoZWFkZXIgdG8gdGhlIHJlcXVlc3RcbiAgICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoa2V5LCB2YWwpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBBZGQgd2l0aENyZWRlbnRpYWxzIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKGNvbmZpZy53aXRoQ3JlZGVudGlhbHMpIHtcbiAgICAgIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBBZGQgcmVzcG9uc2VUeXBlIHRvIHJlcXVlc3QgaWYgbmVlZGVkXG4gICAgaWYgKGNvbmZpZy5yZXNwb25zZVR5cGUpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlcXVlc3QucmVzcG9uc2VUeXBlID0gY29uZmlnLnJlc3BvbnNlVHlwZTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gRXhwZWN0ZWQgRE9NRXhjZXB0aW9uIHRocm93biBieSBicm93c2VycyBub3QgY29tcGF0aWJsZSBYTUxIdHRwUmVxdWVzdCBMZXZlbCAyLlxuICAgICAgICAvLyBCdXQsIHRoaXMgY2FuIGJlIHN1cHByZXNzZWQgZm9yICdqc29uJyB0eXBlIGFzIGl0IGNhbiBiZSBwYXJzZWQgYnkgZGVmYXVsdCAndHJhbnNmb3JtUmVzcG9uc2UnIGZ1bmN0aW9uLlxuICAgICAgICBpZiAoY29uZmlnLnJlc3BvbnNlVHlwZSAhPT0gJ2pzb24nKSB7XG4gICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEhhbmRsZSBwcm9ncmVzcyBpZiBuZWVkZWRcbiAgICBpZiAodHlwZW9mIGNvbmZpZy5vbkRvd25sb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBjb25maWcub25Eb3dubG9hZFByb2dyZXNzKTtcbiAgICB9XG5cbiAgICAvLyBOb3QgYWxsIGJyb3dzZXJzIHN1cHBvcnQgdXBsb2FkIGV2ZW50c1xuICAgIGlmICh0eXBlb2YgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MgPT09ICdmdW5jdGlvbicgJiYgcmVxdWVzdC51cGxvYWQpIHtcbiAgICAgIHJlcXVlc3QudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ3Byb2dyZXNzJywgY29uZmlnLm9uVXBsb2FkUHJvZ3Jlc3MpO1xuICAgIH1cblxuICAgIGlmIChjb25maWcuY2FuY2VsVG9rZW4pIHtcbiAgICAgIC8vIEhhbmRsZSBjYW5jZWxsYXRpb25cbiAgICAgIGNvbmZpZy5jYW5jZWxUb2tlbi5wcm9taXNlLnRoZW4oZnVuY3Rpb24gb25DYW5jZWxlZChjYW5jZWwpIHtcbiAgICAgICAgaWYgKCFyZXF1ZXN0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmVxdWVzdC5hYm9ydCgpO1xuICAgICAgICByZWplY3QoY2FuY2VsKTtcbiAgICAgICAgLy8gQ2xlYW4gdXAgcmVxdWVzdFxuICAgICAgICByZXF1ZXN0ID0gbnVsbDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChyZXF1ZXN0RGF0YSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXF1ZXN0RGF0YSA9IG51bGw7XG4gICAgfVxuXG4gICAgLy8gU2VuZCB0aGUgcmVxdWVzdFxuICAgIHJlcXVlc3Quc2VuZChyZXF1ZXN0RGF0YSk7XG4gIH0pO1xufTtcbiIsIm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9saWIvYXhpb3MnKTsiLCIndXNlIHN0cmljdCc7XG5cbnZhciB1dGlscyA9IHJlcXVpcmUoJy4vLi4vdXRpbHMnKTtcblxuLy8gSGVhZGVycyB3aG9zZSBkdXBsaWNhdGVzIGFyZSBpZ25vcmVkIGJ5IG5vZGVcbi8vIGMuZi4gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9odHRwLmh0bWwjaHR0cF9tZXNzYWdlX2hlYWRlcnNcbnZhciBpZ25vcmVEdXBsaWNhdGVPZiA9IFtcbiAgJ2FnZScsICdhdXRob3JpemF0aW9uJywgJ2NvbnRlbnQtbGVuZ3RoJywgJ2NvbnRlbnQtdHlwZScsICdldGFnJyxcbiAgJ2V4cGlyZXMnLCAnZnJvbScsICdob3N0JywgJ2lmLW1vZGlmaWVkLXNpbmNlJywgJ2lmLXVubW9kaWZpZWQtc2luY2UnLFxuICAnbGFzdC1tb2RpZmllZCcsICdsb2NhdGlvbicsICdtYXgtZm9yd2FyZHMnLCAncHJveHktYXV0aG9yaXphdGlvbicsXG4gICdyZWZlcmVyJywgJ3JldHJ5LWFmdGVyJywgJ3VzZXItYWdlbnQnXG5dO1xuXG4vKipcbiAqIFBhcnNlIGhlYWRlcnMgaW50byBhbiBvYmplY3RcbiAqXG4gKiBgYGBcbiAqIERhdGU6IFdlZCwgMjcgQXVnIDIwMTQgMDg6NTg6NDkgR01UXG4gKiBDb250ZW50LVR5cGU6IGFwcGxpY2F0aW9uL2pzb25cbiAqIENvbm5lY3Rpb246IGtlZXAtYWxpdmVcbiAqIFRyYW5zZmVyLUVuY29kaW5nOiBjaHVua2VkXG4gKiBgYGBcbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gaGVhZGVycyBIZWFkZXJzIG5lZWRpbmcgdG8gYmUgcGFyc2VkXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBIZWFkZXJzIHBhcnNlZCBpbnRvIGFuIG9iamVjdFxuICovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIHBhcnNlSGVhZGVycyhoZWFkZXJzKSB7XG4gIHZhciBwYXJzZWQgPSB7fTtcbiAgdmFyIGtleTtcbiAgdmFyIHZhbDtcbiAgdmFyIGk7XG5cbiAgaWYgKCFoZWFkZXJzKSB7IHJldHVybiBwYXJzZWQ7IH1cblxuICB1dGlscy5mb3JFYWNoKGhlYWRlcnMuc3BsaXQoJ1xcbicpLCBmdW5jdGlvbiBwYXJzZXIobGluZSkge1xuICAgIGkgPSBsaW5lLmluZGV4T2YoJzonKTtcbiAgICBrZXkgPSB1dGlscy50cmltKGxpbmUuc3Vic3RyKDAsIGkpKS50b0xvd2VyQ2FzZSgpO1xuICAgIHZhbCA9IHV0aWxzLnRyaW0obGluZS5zdWJzdHIoaSArIDEpKTtcblxuICAgIGlmIChrZXkpIHtcbiAgICAgIGlmIChwYXJzZWRba2V5XSAmJiBpZ25vcmVEdXBsaWNhdGVPZi5pbmRleE9mKGtleSkgPj0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoa2V5ID09PSAnc2V0LWNvb2tpZScpIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSAocGFyc2VkW2tleV0gPyBwYXJzZWRba2V5XSA6IFtdKS5jb25jYXQoW3ZhbF0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyc2VkW2tleV0gPSBwYXJzZWRba2V5XSA/IHBhcnNlZFtrZXldICsgJywgJyArIHZhbCA6IHZhbDtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBwYXJzZWQ7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdXRpbHMgPSByZXF1aXJlKCcuLy4uL3V0aWxzJyk7XG5cbi8qKlxuICogVHJhbnNmb3JtIHRoZSBkYXRhIGZvciBhIHJlcXVlc3Qgb3IgYSByZXNwb25zZVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gZGF0YSBUaGUgZGF0YSB0byBiZSB0cmFuc2Zvcm1lZFxuICogQHBhcmFtIHtBcnJheX0gaGVhZGVycyBUaGUgaGVhZGVycyBmb3IgdGhlIHJlcXVlc3Qgb3IgcmVzcG9uc2VcbiAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb259IGZucyBBIHNpbmdsZSBmdW5jdGlvbiBvciBBcnJheSBvZiBmdW5jdGlvbnNcbiAqIEByZXR1cm5zIHsqfSBUaGUgcmVzdWx0aW5nIHRyYW5zZm9ybWVkIGRhdGFcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiB0cmFuc2Zvcm1EYXRhKGRhdGEsIGhlYWRlcnMsIGZucykge1xuICAvKmVzbGludCBuby1wYXJhbS1yZWFzc2lnbjowKi9cbiAgdXRpbHMuZm9yRWFjaChmbnMsIGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIGRhdGEgPSBmbihkYXRhLCBoZWFkZXJzKTtcbiAgfSk7XG5cbiAgcmV0dXJuIGRhdGE7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgYmluZCA9IHJlcXVpcmUoJy4vaGVscGVycy9iaW5kJyk7XG52YXIgaXNCdWZmZXIgPSByZXF1aXJlKCdpcy1idWZmZXInKTtcblxuLypnbG9iYWwgdG9TdHJpbmc6dHJ1ZSovXG5cbi8vIHV0aWxzIGlzIGEgbGlicmFyeSBvZiBnZW5lcmljIGhlbHBlciBmdW5jdGlvbnMgbm9uLXNwZWNpZmljIHRvIGF4aW9zXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheSwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXkodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5XSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gQXJyYXlCdWZmZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXIodmFsKSB7XG4gIHJldHVybiB0b1N0cmluZy5jYWxsKHZhbCkgPT09ICdbb2JqZWN0IEFycmF5QnVmZmVyXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGb3JtRGF0YVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGFuIEZvcm1EYXRhLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGb3JtRGF0YSh2YWwpIHtcbiAgcmV0dXJuICh0eXBlb2YgRm9ybURhdGEgIT09ICd1bmRlZmluZWQnKSAmJiAodmFsIGluc3RhbmNlb2YgRm9ybURhdGEpO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlclxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgdmlldyBvbiBhbiBBcnJheUJ1ZmZlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzQXJyYXlCdWZmZXJWaWV3KHZhbCkge1xuICB2YXIgcmVzdWx0O1xuICBpZiAoKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpICYmIChBcnJheUJ1ZmZlci5pc1ZpZXcpKSB7XG4gICAgcmVzdWx0ID0gQXJyYXlCdWZmZXIuaXNWaWV3KHZhbCk7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0ID0gKHZhbCkgJiYgKHZhbC5idWZmZXIpICYmICh2YWwuYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBTdHJpbmdcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIFN0cmluZywgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3RyaW5nKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3N0cmluZyc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBOdW1iZXJcbiAqXG4gKiBAcGFyYW0ge09iamVjdH0gdmFsIFRoZSB2YWx1ZSB0byB0ZXN0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB2YWx1ZSBpcyBhIE51bWJlciwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTnVtYmVyKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ251bWJlcic7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgdW5kZWZpbmVkXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIHZhbHVlIGlzIHVuZGVmaW5lZCwgb3RoZXJ3aXNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKHZhbCkge1xuICByZXR1cm4gdHlwZW9mIHZhbCA9PT0gJ3VuZGVmaW5lZCc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYW4gT2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYW4gT2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3QodmFsKSB7XG4gIHJldHVybiB2YWwgIT09IG51bGwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBEYXRlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBEYXRlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNEYXRlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBEYXRlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGaWxlXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBGaWxlLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNGaWxlKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGaWxlXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBCbG9iXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBCbG9iLCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNCbG9iKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBCbG9iXSc7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBGdW5jdGlvblxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSB2YWwgVGhlIHZhbHVlIHRvIHRlc3RcbiAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIHZhbHVlIGlzIGEgRnVuY3Rpb24sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbCkge1xuICByZXR1cm4gdG9TdHJpbmcuY2FsbCh2YWwpID09PSAnW29iamVjdCBGdW5jdGlvbl0nO1xufVxuXG4vKipcbiAqIERldGVybWluZSBpZiBhIHZhbHVlIGlzIGEgU3RyZWFtXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBTdHJlYW0sIG90aGVyd2lzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBpc1N0cmVhbSh2YWwpIHtcbiAgcmV0dXJuIGlzT2JqZWN0KHZhbCkgJiYgaXNGdW5jdGlvbih2YWwucGlwZSk7XG59XG5cbi8qKlxuICogRGV0ZXJtaW5lIGlmIGEgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0XG4gKlxuICogQHBhcmFtIHtPYmplY3R9IHZhbCBUaGUgdmFsdWUgdG8gdGVzdFxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdmFsdWUgaXMgYSBVUkxTZWFyY2hQYXJhbXMgb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNVUkxTZWFyY2hQYXJhbXModmFsKSB7XG4gIHJldHVybiB0eXBlb2YgVVJMU2VhcmNoUGFyYW1zICE9PSAndW5kZWZpbmVkJyAmJiB2YWwgaW5zdGFuY2VvZiBVUkxTZWFyY2hQYXJhbXM7XG59XG5cbi8qKlxuICogVHJpbSBleGNlc3Mgd2hpdGVzcGFjZSBvZmYgdGhlIGJlZ2lubmluZyBhbmQgZW5kIG9mIGEgc3RyaW5nXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgU3RyaW5nIHRvIHRyaW1cbiAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBTdHJpbmcgZnJlZWQgb2YgZXhjZXNzIHdoaXRlc3BhY2VcbiAqL1xuZnVuY3Rpb24gdHJpbShzdHIpIHtcbiAgcmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxzKi8sICcnKS5yZXBsYWNlKC9cXHMqJC8sICcnKTtcbn1cblxuLyoqXG4gKiBEZXRlcm1pbmUgaWYgd2UncmUgcnVubmluZyBpbiBhIHN0YW5kYXJkIGJyb3dzZXIgZW52aXJvbm1lbnRcbiAqXG4gKiBUaGlzIGFsbG93cyBheGlvcyB0byBydW4gaW4gYSB3ZWIgd29ya2VyLCBhbmQgcmVhY3QtbmF0aXZlLlxuICogQm90aCBlbnZpcm9ubWVudHMgc3VwcG9ydCBYTUxIdHRwUmVxdWVzdCwgYnV0IG5vdCBmdWxseSBzdGFuZGFyZCBnbG9iYWxzLlxuICpcbiAqIHdlYiB3b3JrZXJzOlxuICogIHR5cGVvZiB3aW5kb3cgLT4gdW5kZWZpbmVkXG4gKiAgdHlwZW9mIGRvY3VtZW50IC0+IHVuZGVmaW5lZFxuICpcbiAqIHJlYWN0LW5hdGl2ZTpcbiAqICBuYXZpZ2F0b3IucHJvZHVjdCAtPiAnUmVhY3ROYXRpdmUnXG4gKi9cbmZ1bmN0aW9uIGlzU3RhbmRhcmRCcm93c2VyRW52KCkge1xuICBpZiAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnByb2R1Y3QgPT09ICdSZWFjdE5hdGl2ZScpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIChcbiAgICB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgIHR5cGVvZiBkb2N1bWVudCAhPT0gJ3VuZGVmaW5lZCdcbiAgKTtcbn1cblxuLyoqXG4gKiBJdGVyYXRlIG92ZXIgYW4gQXJyYXkgb3IgYW4gT2JqZWN0IGludm9raW5nIGEgZnVuY3Rpb24gZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiBgb2JqYCBpcyBhbiBBcnJheSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCBwYXNzaW5nXG4gKiB0aGUgdmFsdWUsIGluZGV4LCBhbmQgY29tcGxldGUgYXJyYXkgZm9yIGVhY2ggaXRlbS5cbiAqXG4gKiBJZiAnb2JqJyBpcyBhbiBPYmplY3QgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgcGFzc2luZ1xuICogdGhlIHZhbHVlLCBrZXksIGFuZCBjb21wbGV0ZSBvYmplY3QgZm9yIGVhY2ggcHJvcGVydHkuXG4gKlxuICogQHBhcmFtIHtPYmplY3R8QXJyYXl9IG9iaiBUaGUgb2JqZWN0IHRvIGl0ZXJhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuIFRoZSBjYWxsYmFjayB0byBpbnZva2UgZm9yIGVhY2ggaXRlbVxuICovXG5mdW5jdGlvbiBmb3JFYWNoKG9iaiwgZm4pIHtcbiAgLy8gRG9uJ3QgYm90aGVyIGlmIG5vIHZhbHVlIHByb3ZpZGVkXG4gIGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBGb3JjZSBhbiBhcnJheSBpZiBub3QgYWxyZWFkeSBzb21ldGhpbmcgaXRlcmFibGVcbiAgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnKSB7XG4gICAgLyplc2xpbnQgbm8tcGFyYW0tcmVhc3NpZ246MCovXG4gICAgb2JqID0gW29ial07XG4gIH1cblxuICBpZiAoaXNBcnJheShvYmopKSB7XG4gICAgLy8gSXRlcmF0ZSBvdmVyIGFycmF5IHZhbHVlc1xuICAgIGZvciAodmFyIGkgPSAwLCBsID0gb2JqLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgZm4uY2FsbChudWxsLCBvYmpbaV0sIGksIG9iaik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIEl0ZXJhdGUgb3ZlciBvYmplY3Qga2V5c1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSB7XG4gICAgICAgIGZuLmNhbGwobnVsbCwgb2JqW2tleV0sIGtleSwgb2JqKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBBY2NlcHRzIHZhcmFyZ3MgZXhwZWN0aW5nIGVhY2ggYXJndW1lbnQgdG8gYmUgYW4gb2JqZWN0LCB0aGVuXG4gKiBpbW11dGFibHkgbWVyZ2VzIHRoZSBwcm9wZXJ0aWVzIG9mIGVhY2ggb2JqZWN0IGFuZCByZXR1cm5zIHJlc3VsdC5cbiAqXG4gKiBXaGVuIG11bHRpcGxlIG9iamVjdHMgY29udGFpbiB0aGUgc2FtZSBrZXkgdGhlIGxhdGVyIG9iamVjdCBpblxuICogdGhlIGFyZ3VtZW50cyBsaXN0IHdpbGwgdGFrZSBwcmVjZWRlbmNlLlxuICpcbiAqIEV4YW1wbGU6XG4gKlxuICogYGBganNcbiAqIHZhciByZXN1bHQgPSBtZXJnZSh7Zm9vOiAxMjN9LCB7Zm9vOiA0NTZ9KTtcbiAqIGNvbnNvbGUubG9nKHJlc3VsdC5mb28pOyAvLyBvdXRwdXRzIDQ1NlxuICogYGBgXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9iajEgT2JqZWN0IHRvIG1lcmdlXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBSZXN1bHQgb2YgYWxsIG1lcmdlIHByb3BlcnRpZXNcbiAqL1xuZnVuY3Rpb24gbWVyZ2UoLyogb2JqMSwgb2JqMiwgb2JqMywgLi4uICovKSB7XG4gIHZhciByZXN1bHQgPSB7fTtcbiAgZnVuY3Rpb24gYXNzaWduVmFsdWUodmFsLCBrZXkpIHtcbiAgICBpZiAodHlwZW9mIHJlc3VsdFtrZXldID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0Jykge1xuICAgICAgcmVzdWx0W2tleV0gPSBtZXJnZShyZXN1bHRba2V5XSwgdmFsKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0W2tleV0gPSB2YWw7XG4gICAgfVxuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgZm9yRWFjaChhcmd1bWVudHNbaV0sIGFzc2lnblZhbHVlKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vKipcbiAqIEV4dGVuZHMgb2JqZWN0IGEgYnkgbXV0YWJseSBhZGRpbmcgdG8gaXQgdGhlIHByb3BlcnRpZXMgb2Ygb2JqZWN0IGIuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGEgVGhlIG9iamVjdCB0byBiZSBleHRlbmRlZFxuICogQHBhcmFtIHtPYmplY3R9IGIgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbVxuICogQHBhcmFtIHtPYmplY3R9IHRoaXNBcmcgVGhlIG9iamVjdCB0byBiaW5kIGZ1bmN0aW9uIHRvXG4gKiBAcmV0dXJuIHtPYmplY3R9IFRoZSByZXN1bHRpbmcgdmFsdWUgb2Ygb2JqZWN0IGFcbiAqL1xuZnVuY3Rpb24gZXh0ZW5kKGEsIGIsIHRoaXNBcmcpIHtcbiAgZm9yRWFjaChiLCBmdW5jdGlvbiBhc3NpZ25WYWx1ZSh2YWwsIGtleSkge1xuICAgIGlmICh0aGlzQXJnICYmIHR5cGVvZiB2YWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGFba2V5XSA9IGJpbmQodmFsLCB0aGlzQXJnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYVtrZXldID0gdmFsO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBhO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaXNBcnJheTogaXNBcnJheSxcbiAgaXNBcnJheUJ1ZmZlcjogaXNBcnJheUJ1ZmZlcixcbiAgaXNCdWZmZXI6IGlzQnVmZmVyLFxuICBpc0Zvcm1EYXRhOiBpc0Zvcm1EYXRhLFxuICBpc0FycmF5QnVmZmVyVmlldzogaXNBcnJheUJ1ZmZlclZpZXcsXG4gIGlzU3RyaW5nOiBpc1N0cmluZyxcbiAgaXNOdW1iZXI6IGlzTnVtYmVyLFxuICBpc09iamVjdDogaXNPYmplY3QsXG4gIGlzVW5kZWZpbmVkOiBpc1VuZGVmaW5lZCxcbiAgaXNEYXRlOiBpc0RhdGUsXG4gIGlzRmlsZTogaXNGaWxlLFxuICBpc0Jsb2I6IGlzQmxvYixcbiAgaXNGdW5jdGlvbjogaXNGdW5jdGlvbixcbiAgaXNTdHJlYW06IGlzU3RyZWFtLFxuICBpc1VSTFNlYXJjaFBhcmFtczogaXNVUkxTZWFyY2hQYXJhbXMsXG4gIGlzU3RhbmRhcmRCcm93c2VyRW52OiBpc1N0YW5kYXJkQnJvd3NlckVudixcbiAgZm9yRWFjaDogZm9yRWFjaCxcbiAgbWVyZ2U6IG1lcmdlLFxuICBleHRlbmQ6IGV4dGVuZCxcbiAgdHJpbTogdHJpbVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi4vdXRpbHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBub3JtYWxpemVIZWFkZXJOYW1lKGhlYWRlcnMsIG5vcm1hbGl6ZWROYW1lKSB7XG4gIHV0aWxzLmZvckVhY2goaGVhZGVycywgZnVuY3Rpb24gcHJvY2Vzc0hlYWRlcih2YWx1ZSwgbmFtZSkge1xuICAgIGlmIChuYW1lICE9PSBub3JtYWxpemVkTmFtZSAmJiBuYW1lLnRvVXBwZXJDYXNlKCkgPT09IG5vcm1hbGl6ZWROYW1lLnRvVXBwZXJDYXNlKCkpIHtcbiAgICAgIGhlYWRlcnNbbm9ybWFsaXplZE5hbWVdID0gdmFsdWU7XG4gICAgICBkZWxldGUgaGVhZGVyc1tuYW1lXTtcbiAgICB9XG4gIH0pO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xudmFyIGJpbmQgPSByZXF1aXJlKCcuL2hlbHBlcnMvYmluZCcpO1xudmFyIEF4aW9zID0gcmVxdWlyZSgnLi9jb3JlL0F4aW9zJyk7XG52YXIgZGVmYXVsdHMgPSByZXF1aXJlKCcuL2RlZmF1bHRzJyk7XG5cbi8qKlxuICogQ3JlYXRlIGFuIGluc3RhbmNlIG9mIEF4aW9zXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IGRlZmF1bHRDb25maWcgVGhlIGRlZmF1bHQgY29uZmlnIGZvciB0aGUgaW5zdGFuY2VcbiAqIEByZXR1cm4ge0F4aW9zfSBBIG5ldyBpbnN0YW5jZSBvZiBBeGlvc1xuICovXG5mdW5jdGlvbiBjcmVhdGVJbnN0YW5jZShkZWZhdWx0Q29uZmlnKSB7XG4gIHZhciBjb250ZXh0ID0gbmV3IEF4aW9zKGRlZmF1bHRDb25maWcpO1xuICB2YXIgaW5zdGFuY2UgPSBiaW5kKEF4aW9zLnByb3RvdHlwZS5yZXF1ZXN0LCBjb250ZXh0KTtcblxuICAvLyBDb3B5IGF4aW9zLnByb3RvdHlwZSB0byBpbnN0YW5jZVxuICB1dGlscy5leHRlbmQoaW5zdGFuY2UsIEF4aW9zLnByb3RvdHlwZSwgY29udGV4dCk7XG5cbiAgLy8gQ29weSBjb250ZXh0IHRvIGluc3RhbmNlXG4gIHV0aWxzLmV4dGVuZChpbnN0YW5jZSwgY29udGV4dCk7XG5cbiAgcmV0dXJuIGluc3RhbmNlO1xufVxuXG4vLyBDcmVhdGUgdGhlIGRlZmF1bHQgaW5zdGFuY2UgdG8gYmUgZXhwb3J0ZWRcbnZhciBheGlvcyA9IGNyZWF0ZUluc3RhbmNlKGRlZmF1bHRzKTtcblxuLy8gRXhwb3NlIEF4aW9zIGNsYXNzIHRvIGFsbG93IGNsYXNzIGluaGVyaXRhbmNlXG5heGlvcy5BeGlvcyA9IEF4aW9zO1xuXG4vLyBGYWN0b3J5IGZvciBjcmVhdGluZyBuZXcgaW5zdGFuY2VzXG5heGlvcy5jcmVhdGUgPSBmdW5jdGlvbiBjcmVhdGUoaW5zdGFuY2VDb25maWcpIHtcbiAgcmV0dXJuIGNyZWF0ZUluc3RhbmNlKHV0aWxzLm1lcmdlKGRlZmF1bHRzLCBpbnN0YW5jZUNvbmZpZykpO1xufTtcblxuLy8gRXhwb3NlIENhbmNlbCAmIENhbmNlbFRva2VuXG5heGlvcy5DYW5jZWwgPSByZXF1aXJlKCcuL2NhbmNlbC9DYW5jZWwnKTtcbmF4aW9zLkNhbmNlbFRva2VuID0gcmVxdWlyZSgnLi9jYW5jZWwvQ2FuY2VsVG9rZW4nKTtcbmF4aW9zLmlzQ2FuY2VsID0gcmVxdWlyZSgnLi9jYW5jZWwvaXNDYW5jZWwnKTtcblxuLy8gRXhwb3NlIGFsbC9zcHJlYWRcbmF4aW9zLmFsbCA9IGZ1bmN0aW9uIGFsbChwcm9taXNlcykge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufTtcbmF4aW9zLnNwcmVhZCA9IHJlcXVpcmUoJy4vaGVscGVycy9zcHJlYWQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBheGlvcztcblxuLy8gQWxsb3cgdXNlIG9mIGRlZmF1bHQgaW1wb3J0IHN5bnRheCBpbiBUeXBlU2NyaXB0XG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gYXhpb3M7XG4iXSwic291cmNlUm9vdCI6IiJ9